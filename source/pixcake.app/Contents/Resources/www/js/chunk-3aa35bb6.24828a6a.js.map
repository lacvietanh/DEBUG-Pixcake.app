{"version":3,"sources":["webpack:///./src/views/Layout/userLayout/ProjectLayout.vue?e992","webpack:///./src/views/Layout/components/Headers/FuncHeader.vue?f7a6","webpack:///./src/views/Layout/components/ExportSettingDialog.vue?d111","webpack:///./src/views/Layout/userLayout/ProjectLayout.vue","webpack:///./src/views/Layout/components/Headers/FuncHeader.vue","webpack:///./src/views/Layout/components/ExportSettingDialog.vue","webpack:///src/views/Layout/components/ExportSettingDialog.vue","webpack:///./src/views/Layout/components/ExportSettingDialog.vue?1ad6","webpack:///./src/views/Layout/components/ExportSettingDialog.vue?cea6","webpack:///./src/mixins/export-mixin.ts","webpack:///src/views/Layout/components/Headers/FuncHeader.vue","webpack:///./src/views/Layout/components/Headers/FuncHeader.vue?7037","webpack:///./src/views/Layout/components/Headers/FuncHeader.vue?1370","webpack:///./src/views/Layout/userLayout/ProjectLayout.vue?bfa4","webpack:///./src/views/Layout/userLayout/ProjectLayout.vue?83ba","webpack:///./src/views/Layout/userLayout/ProjectLayout.vue?0bd2","webpack:///./src/constants/noviceGuide.ts","webpack:///./src/mixins/noviceGuideMixin.ts"],"names":["render","_vm","this","_c","_self","_setup","_setupProxy","directives","name","rawName","value","showExportLoading","expression","staticClass","attrs","exportTip","FuncHeader","class","isDisableHeadView","SyncPresetSettings","ref","refineUUID","staticRenderFns","leftBtnSlot","_t","getIconDisabled","on","onClickHome","$getIconPath","includes","routeName","$platform","PointAddSecond","$event","cancelBlur","onCommand","_e","onAddFileVisible","slot","_v","_l","menuList","menu","index","showFunc","key","isActive","disabled","disableFunc","onRouterPush","_s","subTitle","hasDownloadPermission","hasDownloadActiveStyle","canDownload","onDownloadIconClick","downloadImgUrl","canShowManualImportButton","onManualImportClick","exportSetting","exportSettingCallback","onChangeShowExportSelectDialog","model","showExportSelectDialog","callback","$$v","visible","needShowPresetSelect","staticStyle","exportSettingData","totalNumber","isNoePresetNumber","provinceOptions","visibleChange","whichPreset","onSelectExportPathClick","finalSavePath","tipShow","handleMouseLeave","handleMouseEnter","_f","PointExportSelectPath","PointExportAdvancedSetting","switchSetting","createNewDir","setDefaultPath","restoreImportDir","exportPhotoFormatChange","formatValue","options","item","label","needShowJPGLevel","jpgLevel","levelSelectValue","0","1","2","3","levelOptions","onJpgSlideChange","changeToSRGB","noApplay","loading","applyAll","mixins","components","TsSlider","props","type","default","data","isApplyToClose","number","saveDirPath","filters","filterFormatPath","computed","JSON","childList","preset_list","allPreset","oriPreset","watch","handler","shortcutHelper","immediate","mounted","methods","getDiskFreeSpaceAsShort","avaliableNums","initSettingData","console","copyModel","DBIpcRender","message","confirmButtonText","cancelButtonText","customMessageStyle","closeOnClickModal","distinguishCancelAndClose","then","catch","action","exportTask","content","presetChooseItem","newfile","defaultpath","keepfolder","color","format","presetId","component","pointsMixin","toastMixin","ExportSettingDialog","setup","that","getCurrentInstance","proxy","ToastMixinConstructor","Vue","extend","toast","PointExportContinue","PointExportRecharge","PointExportClick","useExportPointsRepositories","fullscreenLoading","reactive","exportTimes","currentProject","id","isRawNumber","needShowSelectPreset","exportSubDirPath","exportDirPath","savePath","temporaryStoragePath","showFundLackView","useRechargeRepositories","accountFundsLack","store","commit","status","onSuccess","onCancel","exportFunc","exportDirName","project","payload","success","activeProject","getters","updateByKeys","PROJECT_TABLE","eventbus","$emit","timeout","setTimeout","tsNotify","clearTimeout","fail","code","PAY_FUNDS_LACK","ALLOCATED_PAY_FUNDS_LACK","msg","error","dispatch","onDownloadClick","debounce","async","isOnline","window","$net","e","user","leftNum","timeOut","isAllowTopUp","UserModel","getInstance","getIsAllowTopUp","title","IS_CLIENT_PIX_PIE","tsConfirm","showConfirmButton","beforeClose","instance","done","PointMemberPriceClick","ipcRenderer","send","param","preItem","preSet","presetVersion","Number","version","CUR_PRESET_VERSION","showCancelButton","isFromRefineTab","refineOrGalleryUUID","NodeApi","refine","applyAllPreset","presetSuitId","palettePresetId","beautifyPresetId","gallery","$route","val","readyExport","tmpSetting","isJpgNumber","isPngNumber","isTiffNumber","rawNumberData","exportResult","ImageIOManager","getExportSettingData","selectValidNumber","configModel","state","config","defaultSavePath","effectCount","rowData","rowParam","parse","rowType","times","clickData","cake_position","cake_value","cake_feature","Object","assign","NavEntryGroup","LOGO_RELATIVE_PATH","showHotKey","showImportPopPannel","showChoosePresetDialog","selectedTotal","showGpuSwitchSetting","isShowFundLackTip","showVipPriceDialog","cake_operate","showPaySuccess","get","set","avatarUrl","exportNumber","needShowTemplateDetail","routeParam","icon","activeIcon","rightMenuList","beforeDestroy","modify","update_time","visit_time","onShowVipPriceDialogClick","logout","filter","getEventBus","showRawTips","leading","query","routerPushPhotoFinishing","path","arrayObj","thumbIt","thumbData","imgPath","imgIndex","sender","goNext","onAddFileClick","params","exportlistBack","_defineComponent","__name","__props","export","exportLoadingProgress","isDownloadFree","QtEventFilter","process","QtEventFilterType","Mouse","KeyBoard","syncPresetSettingsRefs","onMounted","dialogIpc","addListener","SHOW_PRESET_SETTING","debug","nextTick","show","onUnmounted","removeListener","__sfc","noviceGuide","totalStep","step1","text","CLIENT_NAME","num","step2","step3","step4","step5","step6","noviceGuideUtil","constructor","actionableStyle","bgStyle","addMask","myBg","document","createElement","setAttribute","body","appendChild","addActionable","className","myAlert","getElementsByClassName","removeMask","removeChild","showGuide","step","close","tempStep1","template","tempStep2","tempStep3","tempStep4","tempStep5","tempStep6","guidMask","tempDiv","mapGetters","mapMutations","$nextTick","isShowNoviceGuide","_SetGuideStep","PointInitGuide","res","find","SHOWED_NOVICE_GUIDE","insertToDB","DICTIONARY_TABLE","keyword","APP_VERSION","commonMountFunc","quiteNode","getElementById","addEventListener","allGuideQuit","node","parentNode","$mount","removeAttribute","myTemp","removeEventListener","guideQuit","_SetIsShowNoviceGuide","PointClickQuit"],"mappings":"2IAAA,W,oCCAA,W,6DCAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAGE,EAAOJ,EAAIG,MAAME,YAAY,OAAOH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOL,EAAOM,kBAAmBC,WAAW,sBAAsBC,YAAY,UAAUC,MAAM,CAAC,6BAA6B,qBAAqB,uBAAuBT,EAAOU,UAAU,0BAA0B,oBAAoB,CAACZ,EAAGE,EAAOW,WAAW,CAACC,MAAM,CAAE,kBAAmBZ,EAAOa,qBAAsBf,EAAG,cAAc,CAACU,YAAY,iBAAiBV,EAAGE,EAAOc,mBAAmB,CAACC,IAAI,yBAAyBN,MAAM,CAAC,YAAY,GAAG,WAAaT,EAAOgB,eAAe,IAE/mBC,EAAkB,G,gDCFlBtB,G,UAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACU,YAAY,4CAA4C,CAAEZ,EAAIsB,YAAa,CAACtB,EAAIuB,GAAG,aAAa,CAACrB,EAAG,MAAM,CAACU,YAAY,uBAAuB,CAACV,EAAG,YAAY,CAACU,YAAY,kBAAkBC,MAAM,CAAC,KAAO,OAAO,SAAWb,EAAIwB,iBAAiBC,GAAG,CAAC,MAAQzB,EAAI0B,cAAc,CAAE1B,EAAIwB,gBAAiBtB,EAAG,MAAM,CAACU,YAAY,cAAcC,MAAM,CAAC,IAAMb,EAAI2B,aAAa,sCAAsC,IAAM,MAAMzB,EAAG,IAAI,CAACU,YAAY,iCAAkC,CAAC,eAAe,kBAAkBgB,SAAS5B,EAAI6B,WAAY,CAAoB,WAAlB7B,EAAI8B,UAAwB,CAAC5B,EAAG,MAAM,CAACU,YAAY,kBAAkB,CAACV,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAeC,MAAOT,EAAI+B,eAAgBpB,WAAW,mBAAmBC,YAAY,aAAaC,MAAM,CAAC,KAAO,OAAO,KAAO,eAAe,SAAWb,EAAIwB,iBAAiBC,GAAG,CAAC,MAAQ,SAASO,GACj3BhC,EAAIiC,WAAWD,GACfhC,EAAIkC,UAAU,2BACX,IAAIlC,EAAImC,KAAwB,WAAlBnC,EAAI8B,WAA2B9B,EAAIwB,gBAAi0BxB,EAAImC,KAApzB,CAACjC,EAAG,cAAc,CAACU,YAAY,cAAcC,MAAM,CAAC,gBAAgB,GAAG,UAAY,gBAAgBY,GAAG,CAAC,iBAAiBzB,EAAIoC,iBAAiB,QAAUpC,EAAIkC,YAAY,CAAChC,EAAG,MAAM,CAACU,YAAY,kBAAkB,CAACV,EAAG,YAAY,CAACU,YAAY,aAAaC,MAAM,CAAC,KAAO,OAAO,SAAWb,EAAIwB,gBAAgB,KAAO,mBAAmB,GAAGtB,EAAG,mBAAmB,CAACW,MAAM,CAAC,KAAO,YAAYwB,KAAK,YAAY,CAACnC,EAAG,mBAAmB,CAACI,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAeC,MAAOT,EAAI+B,eAAgBpB,WAAW,mBAAmBE,MAAM,CAAC,QAAU,iBAAiB,CAACX,EAAG,MAAM,CAACF,EAAIsC,GAAG,YAAYpC,EAAG,mBAAmB,CAACI,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAeC,MAAOT,EAAI+B,eAAgBpB,WAAW,mBAAmBE,MAAM,CAAC,QAAU,GAAG,QAAU,gBAAgB,CAACX,EAAG,MAAM,CAACF,EAAIsC,GAAG,cAAc,IAAI,KAActC,EAAImC,MAAM,IAAIjC,EAAG,MAAM,CAACU,YAAY,8BAA8B,CAACZ,EAAIuC,GAAIvC,EAAIwC,UAAU,SAASC,EAAKC,GAAO,MAAO,CAACxC,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAI2C,SAASF,GAAO9B,WAAW,mBAAmBiC,IAAIH,EAAKZ,UAAUa,EAAM9B,YAAY,OAAOI,MAAM,CACpqC,OAAUyB,EAAKI,SACf,SAAYJ,EAAKK,UACnBjC,MAAM,CAAC,MAAQ4B,EAAKlC,MAAMkB,GAAG,CAAC,MAAQ,SAASO,GAAQS,EAAKK,SAAWL,EAAKM,cACxE/C,EAAIgD,aAAaP,EAAKZ,UAAU,OAC5B,CAAC3B,EAAG,OAAO,CAACU,YAAY,cAAc,CAACZ,EAAIsC,GAAGtC,EAAIiD,GAAGR,EAAKS,oBAAmB,GAAGhD,EAAG,MAAM,CAACU,YAAY,6BAA6B,CAACV,EAAG,kBAAkB,CAACW,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,QAAQ,gBAAiB,aAAc,OAAQ,UAAW,SAAU,WAAY,UAAW,OAAQ,MAAO,UAAW,SAAS,CAACX,EAAG,WAAW,CAACmC,KAAK,cAAc,CAACnC,EAAG,MAAM,CAACU,YAAY,eAAe,CAACV,EAAG,YAAY,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAImD,sBAAuBxC,WAAW,0BAA0BC,YAAY,oBAAoBI,MAAM,CAAE,OAAUhB,EAAIoD,wBAAyBvC,MAAM,CAAC,KAAO,UAAU,SAAWb,EAAIqD,aAAa5B,GAAG,CAAC,MAAQzB,EAAIsD,sBAAsB,CAACpD,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAIuD,eAAe,IAAM,MAAMvD,EAAIsC,GAAG,aAAa,KAAMtC,EAAIwD,0BAA2BtD,EAAG,WAAW,CAACmC,KAAK,iBAAiB,CAACnC,EAAG,YAAY,CAACU,YAAY,qBAAqBC,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQzB,EAAIyD,sBAAsB,CAACzD,EAAIsC,GAAG,WAAW,GAAGtC,EAAImC,MAAM,IAAI,GAAInC,EAAImD,sBAAuBjD,EAAG,sBAAsB,CAACW,MAAM,CAAC,sBAAsBb,EAAI0D,eAAejC,GAAG,CAAC,sBAAwBzB,EAAI2D,sBAAsB,6BAA+B3D,EAAI4D,gCAAgCC,MAAM,CAACpD,MAAOT,EAAI8D,uBAAwBC,SAAS,SAAUC,GAAMhE,EAAI8D,uBAAuBE,GAAKrD,WAAW,4BAA4BX,EAAImC,MAAM,KAEv2Cd,EAAkB,G,oOCVlBtB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACU,YAAY,qBAAqBC,MAAM,CAAC,IAAM,OAAO,MAAQ,QAAQ,eAAe,mCAAmC,QAAUb,EAAIiE,QAAQ,wBAAuB,EAAM,yBAAwB,GAAOxC,GAAG,CAAC,iBAAiB,SAASO,GAAQhC,EAAIiE,QAAQjC,KAAU,CAAC9B,EAAG,MAAM,CAACW,MAAM,CAAC,KAAO,SAASwB,KAAK,SAAS,CAAErC,EAAIkE,qBAAsBhE,EAAG,MAAM,CAACU,YAAY,QAAQuD,YAAY,CAAC,aAAa,IAAI,MAAQ,YAAY,CAACnE,EAAIsC,GAAG,cAAcpC,EAAG,OAAO,CAACiE,YAAY,CAAC,MAAQ,UAAU,YAAY,OAAO,cAAc,QAAQ,CAACnE,EAAIsC,GAAGtC,EAAIiD,GAAGjD,EAAIoE,kBAAkBC,gBAAgBrE,EAAIsC,GAAG,cAAcpC,EAAG,MAAM,CAACU,YAAY,QAAQuD,YAAY,CAAC,aAAa,IAAI,MAAQ,YAAY,CAACnE,EAAIsC,GAAG,OAAOpC,EAAG,OAAO,CAACiE,YAAY,CAAC,MAAQ,UAAU,YAAY,OAAO,cAAc,QAAQ,CAACnE,EAAIsC,GAAGtC,EAAIiD,GAAGjD,EAAIoE,kBAAkBC,gBAAgBrE,EAAIsC,GAAG,SAAUtC,EAAIoE,kBAAkBE,kBAAoB,EAAG,CAACtE,EAAIsC,GAAG,SAASpC,EAAG,OAAO,CAACiE,YAAY,CAAC,MAAQ,UAAU,YAAY,OAAO,cAAc,QAAQ,CAACnE,EAAIsC,GAAGtC,EAAIiD,GAAGjD,EAAIoE,kBAAkBE,sBAAsBtE,EAAIsC,GAAG,UAAUtC,EAAImC,MAAM,KAAKjC,EAAG,MAAM,CAACU,YAAY,aAAa,CAACV,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAIkE,qBAAsBvD,WAAW,yBAAyBC,YAAY,2BAA2B,CAACV,EAAG,OAAO,CAACF,EAAIsC,GAAG,SAASpC,EAAG,MAAM,CAACiE,YAAY,CAAC,SAAW,aAAa,CAACjE,EAAG,cAAc,CAACU,YAAY,eAAeC,MAAM,CAAC,WAAa,GAAG,YAAc,UAAU,QAAUb,EAAIuE,iBAAiB9C,GAAG,CAAC,iBAAiBzB,EAAIwE,eAAeX,MAAM,CAACpD,MAAOT,EAAIyE,YAAaV,SAAS,SAAUC,GAAMhE,EAAIyE,YAAYT,GAAKrD,WAAW,iBAAiBT,EAAG,OAAO,CAACU,YAAY,cAAc,CAACV,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAI2B,aAAa,qBAAqB,IAAM,MAAMzB,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAI2B,aAAa,uBAAuB,IAAM,SAAS,KAAKzB,EAAG,MAAM,CAACU,YAAY,yBAAyB,CAACV,EAAG,OAAO,CAACF,EAAIsC,GAAG,UAAUpC,EAAG,MAAM,CAACU,YAAY,6BAA6B,CAACV,EAAG,MAAM,CAACU,YAAY,mBAAmBa,GAAG,CAAC,MAAQzB,EAAI0E,0BAA0B,CAACxE,EAAG,aAAa,CAACW,MAAM,CAAC,OAAS,OAAO,QAAUb,EAAI2E,cAAc,UAAY,OAAOd,MAAM,CAACpD,MAAOT,EAAI4E,QAASb,SAAS,SAAUC,GAAMhE,EAAI4E,QAAQZ,GAAKrD,WAAW,YAAY,CAACT,EAAG,OAAO,CAACuB,GAAG,CAAC,WAAazB,EAAI6E,iBAAiB,WAAa7E,EAAI8E,mBAAmB,CAAC9E,EAAIsC,GAAGtC,EAAIiD,GAAGjD,EAAI+E,GAAG,mBAAP/E,CAA2BA,EAAI2E,sBAAsB,GAAGzE,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAeC,MAAOT,EAAIgF,sBAAuBrE,WAAW,0BAA0BC,YAAY,gBAAgBa,GAAG,CAAC,MAAQzB,EAAI0E,0BAA0B,CAACxE,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAI2B,aAAa,sCAAsC,IAAM,YAAYzB,EAAG,MAAM,CAACU,YAAY,qBAAqB,CAACV,EAAG,QAAQA,EAAG,cAAc,CAACU,YAAY,2BAA2Ba,GAAG,CAAC,OAASzB,EAAIiF,6BAA6B,CAAC/E,EAAG,mBAAmB,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,MAAM,CAACX,EAAG,MAAM,CAACU,YAAY,4BAA4B,CAACV,EAAG,OAAO,CAACU,YAAY,gBAAgB,CAACZ,EAAIsC,GAAG,WAAWpC,EAAG,MAAM,CAACU,YAAY,0BAA0B,CAACV,EAAG,cAAc,CAACU,YAAY,aAAaa,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAOhC,EAAIkF,cAAclD,EAAQ,kBAAkB6B,MAAM,CAACpD,MAAOT,EAAImF,aAAcpB,SAAS,SAAUC,GAAMhE,EAAImF,aAAanB,GAAKrD,WAAW,iBAAiB,CAACX,EAAIsC,GAAG,iBAAiBpC,EAAG,cAAc,CAACuB,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAOhC,EAAIkF,cAAclD,EAAQ,oBAAoB6B,MAAM,CAACpD,MAAOT,EAAIoF,eAAgBrB,SAAS,SAAUC,GAAMhE,EAAIoF,eAAepB,GAAKrD,WAAW,mBAAmB,CAACX,EAAIsC,GAAG,gBAAgBpC,EAAG,cAAc,CAACuB,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAOhC,EAAIkF,cAAclD,EAAQ,sBAAsB6B,MAAM,CAACpD,MAAOT,EAAIqF,iBAAkBtB,SAAS,SAAUC,GAAMhE,EAAIqF,iBAAiBrB,GAAKrD,WAAW,qBAAqB,CAACX,EAAIsC,GAAG,oBAAoB,KAAKpC,EAAG,MAAM,CAACU,YAAY,kBAAkBV,EAAG,MAAM,CAACU,YAAY,4BAA4B,CAACV,EAAG,OAAO,CAACU,YAAY,gBAAgB,CAACZ,EAAIsC,GAAG,WAAWpC,EAAG,OAAO,CAACU,YAAY,qBAAqB,CAACV,EAAG,YAAY,CAACuB,GAAG,CAAC,OAASzB,EAAIsF,yBAAyBzB,MAAM,CAACpD,MAAOT,EAAIuF,YAAaxB,SAAS,SAAUC,GAAMhE,EAAIuF,YAAYvB,GAAKrD,WAAW,gBAAgBX,EAAIuC,GAAIvC,EAAIwF,SAAS,SAASC,GAAM,OAAOvF,EAAG,YAAY,CAAC0C,IAAI6C,EAAKhF,MAAMG,YAAY,sBAAsBC,MAAM,CAAC,MAAQ4E,EAAKC,MAAM,MAAQD,EAAKhF,YAAW,GAAGP,EAAG,OAAO,CAACU,YAAY,cAAc,CAACV,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAI2B,aAAa,qBAAqB,IAAM,MAAMzB,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMb,EAAI2B,aAAa,uBAAuB,IAAM,SAAS,KAAM3B,EAAI2F,iBAAkBzF,EAAG,MAAM,CAACU,YAAY,2BAA2B,CAACV,EAAG,OAAO,CAACU,YAAY,gBAAgB,CAACZ,EAAIsC,GAAG,cAAcpC,EAAG,MAAM,CAACU,YAAY,kBAAkB,CAACV,EAAG,MAAM,GAAG,CAACA,EAAG,kBAAkB,CAACU,YAAY,wBAAwBC,MAAM,CAAC,KAAO,OAAO,IAAM,EAAE,IAAM,GAAG,UAAY,EAAE,UAAW,GAAOgD,MAAM,CAACpD,MAAOT,EAAI4F,SAAU7B,SAAS,SAAUC,GAAMhE,EAAI4F,SAAS5B,GAAKrD,WAAW,cAAcT,EAAG,YAAY,CAACU,YAAY,yBAAyBC,MAAM,CAAC,KAAO,OAAO,MAAQb,EAAI6F,kBAAkBpE,GAAG,CAAC,OAAS,SAASO,GAAQhC,EAAI4F,SAAW,CAAEE,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAAKjE,MAAWhC,EAAIuC,GAAIvC,EAAIkG,cAAc,SAAST,GAAM,OAAOvF,EAAG,YAAY,CAAC0C,IAAI6C,EAAKhF,MAAMG,YAAY,sBAAsBC,MAAM,CAAC,MAAQ4E,EAAKC,MAAM,MAAQD,EAAKhF,YAAW,IAAI,GAAGP,EAAG,MAAM,CAACU,YAAY,mBAAmB,CAACV,EAAG,YAAY,CAACiB,IAAI,SAASP,YAAY,8BAA8BC,MAAM,CAAC,IAAM,EAAE,IAAM,GAAG,MAAQb,EAAI4F,SAAS,gBAAe,GAAOnE,GAAG,CAAC,MAAQzB,EAAImG,oBAAoBjG,EAAG,MAAM,CAACU,YAAY,yBAAyB,CAACV,EAAG,OAAO,CAACF,EAAIsC,GAAG,SAASpC,EAAG,OAAO,CAACF,EAAIsC,GAAG,YAAY,OAAOtC,EAAImC,KAAKjC,EAAG,MAAM,CAACU,YAAY,kBAAkBV,EAAG,MAAM,CAACU,YAAY,4BAA4B,CAACV,EAAG,OAAO,CAACU,YAAY,gBAAgB,CAACZ,EAAIsC,GAAG,WAAWpC,EAAG,MAAM,CAACU,YAAY,0BAA0B,CAACV,EAAG,cAAc,CAACU,YAAY,aAAaa,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAOhC,EAAIkF,cAAclD,EAAQ,kBAAkB6B,MAAM,CAACpD,MAAOT,EAAIoG,aAAcrC,SAAS,SAAUC,GAAMhE,EAAIoG,aAAapC,GAAKrD,WAAW,iBAAiB,CAACX,EAAIsC,GAAG,gBAAgB,QAAQ,IAAI,KAAKpC,EAAG,MAAM,CAACW,MAAM,CAAC,KAAO,UAAUwB,KAAK,UAAU,CAACnC,EAAG,YAAY,CAACU,YAAY,YAAYC,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWY,GAAG,CAAC,MAAQzB,EAAIqG,WAAW,CAACrG,EAAIsC,GAAG,QAAQpC,EAAG,YAAY,CAACU,YAAY,YAAYC,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,QAAUb,EAAIsG,QAAQ,SAA+C,IAApCtG,EAAIoE,kBAAkBC,aAAiB5C,GAAG,CAAC,MAAQzB,EAAIuG,WAAW,CAACvG,EAAIsC,GAAG,UAAU,MAE33MjB,EAAkB,G,iICqOP,GACfd,2BACAiG,uBACAC,YAGA,4BACA,0BACA,4BACA,mBACA,wBACA,wBACA,mCACAC,iBAEAC,OACAlG,OACAmG,aACAC,YAEAzC,mBACAwC,YACAC,eAGAC,OACA,OACAC,kBACAT,WACArC,mBACA+C,YACAvC,eACAE,iBACAsC,eACA9B,gBACAC,kBACAC,oBACAe,gBACAlC,wBACAU,WACAgB,YACAD,oBACAH,SACA,CACA/E,uBACAmC,aACA8C,eACA,CACAjF,qBACAmC,WACA8C,aACA,CACAjF,qBACAmC,WACA8C,eAIAQ,cACA,CAAAzF,QAAAiF,YACA,CAAAjF,QAAAiF,WACA,CAAAjF,QAAAiF,WACA,CAAAjF,QAAAiF,aAGAH,+BAGA2B,SACAC,oBACA,oBAEA,qBACA,2BACA,uBAEA,WAGAC,aACA,yBACA,sBAGAvB,mBACA,+CACA,EACA,8BACA,EACA,gCACA,EAEA,GAGAtB,kBACA,SAQA,OAPA8C,uEACA,SACA5B,uBACA6B,QAAA,6BAEAC,QAAA,wCAEA,GAEAC,YACA,2EACAC,oEACA,sHACA,WAGAC,OACAjH,OACAkH,WACA,eACA,6BACA,GACA,6CACA,sBACA,uBACA,sBACAC,wBAEAA,sBAGAC,cAEA5D,WACA,sBACA,wBACA,2BAOA6D,YAGAC,YACA,sCACA,gBACA,iBAEA,uEAEAC,2BACA,QAMA,OAJAC,EADA,YACAA,2BAEAA,wBAEA,GAGAC,mBACAC,qCACA,sCACA,iCACA,yCACA,qCACA,oBACA,mCACA,uBACA,wCAEA,4BAEA,kBACA,+DAEA,oCAEA,mCACA,iDAEA,gCACA,0BAEA,sDAEA3D,iBACA,6BACA,2DACA,iCAGAK,mBACA,iBAEAC,mBACA,iBAGAQ,0BACA,4DACA,oBACA,yBAEA,qBAGA,wEAFA,yBAKA,0BAKAa,oBACA,iBAEAjB,mBACA,sCACA,IACA,oBACAkD,iBACA,kBACA,oFAEA,qCAEA,uBACAA,qBACA,sBACAA,mBACA,iBACAA,mCAEAA,wBAEA,qBACAA,kBAEAD,sCACA,wBAAArB,UAIA,gCAEA,iDACA,oBACA,8BAEA,sCACA,IACA,mBACAsB,gCAEA,kBACA,gFAEA,gCAEA,wBAAAtB,SAEAuB,oHAKAhC,WAEA,iBAEA,iBACA,6EAIA,OAHA,eACAiC,2BAEA,EAIA,yBAEA,SADA,oBACA,gEAIA,YAHA,eACAA,kCAIA,iCACA,cAIA,YAHA,eACAA,uCAMA,sEACA,MACA,kBACA,8BACA,uCACA,sCACA,yDACA,UACA,KAEA,GADA,8CACA,aACA,6CACA,gBACAA,yDACAC,2BACAC,wBACAC,qCACAC,qBACAC,+BACAC,KAAA,KACA,gDACAC,MAAAC,IAEA,aAEA,yBAGA,gBACAR,kDACAC,yBACAC,wBACAC,qCACAC,qBACAC,+BACAC,KAAA,KACAT,2BACAU,MAAAC,IAEA,aAEA,yBAIA,uBAGA,mBAMAC,aACA,WACA,8BACA,qDACA,wCACA,yCACAC,0BACAC,cACA,2BAIA,oDACA,yBACA,uCAEA,yBACAC,0BACAC,gCACAC,iCACAC,0CACAC,UACAC,GACA,uBACA,0CACA,4DACA,kCCjmB2X,I,wBCQvXC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCeA,GACXjJ,KAAM,YACNiG,OAAQ,CAACiD,OAAaC,QACtBjD,WAAY,CACRkD,uBAEJC,MAAMjD,GAAU,MACZ,MAAMkD,EAAI,UAAGC,yCAAH,aAAG,EAAsBC,MAE7BC,EAAwBC,aAAIC,OAAOR,QACnCS,EAAQ,IAAIH,GAEZ,oBAAEI,EAAF,oBAAuBC,EAAvB,iBAA4CC,GAAqBC,iBAEjEzG,EAAyB3C,kBAAI,GAC7BqJ,EAAoBrJ,kBAAI,GAC9B,IAAIuC,EAAgB+G,sBAAS,CACzBC,aAAc,EACdC,eAAgB,CACZC,IAAK,EACLF,aAAc,GAGlBpG,mBAAoB,EACpBD,aAAc,EACdwG,aAAc,EACdC,sBAAsB,EAEtBC,iBAAkB,GAClBC,cAAe,GACfC,SAAU,GACVC,qBAAsB,KAI1B,MAAM,iBAAEC,GAAqBC,iBACvBC,EAAmB,CAAC/C,EAAU,8BAChCgD,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CL,EAAiB7C,EAAS,CACtBmD,UAAW,IAAMjB,EAAkB/J,OAAQ,EAC3CiL,SAAU,IAAMlB,EAAkB/J,OAAQ,KAKlD,SAASkL,EAAWV,EAAkBW,EAAuBzG,EAAsB0G,GAC/E,IAAIC,EAAU,CACVd,cAAeC,EACfW,cAAeA,EACfzG,aAAcA,EACd0G,QAASA,EACTE,QAAQjF,GACJ,GAAIA,EAAM,CACN,MAAMkF,EAAgBV,OAAMW,QAAQ,yBACpCD,EAActB,YAAc5D,EAAK4D,YACjCrC,OAAY6D,aAAaC,OAAeH,EAAe,CAAC,gBACxDV,OAAMC,OAAO,0CACbD,OAAMC,OAAO,yBAA0BS,GAG3CxB,EAAkB/J,OAAQ,EAC1B2L,OAASC,MAAM,kBAEf,MAAMC,EAAUC,WAAW,KACvBpC,EAAMqC,SAAS,CACXlE,QAAS,sBACT1B,KAAM,YAEV0E,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CiB,aAAaH,IACd,MAEPI,KAAK5F,GACD0D,EAAkB/J,OAAQ,EAC1B,MAAM6L,EAAUC,WAAW,KACvBjB,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAE/CiB,aAAaH,IACd,KACCxF,EACIA,EAAK6F,OAASC,OACdvB,IACOvE,EAAK6F,OAASE,OACrBxB,EAAiB,0BAEjBlB,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAASxB,EAAKgG,OAKtB3E,QAAQ4E,MAAM,gBAAiBjG,GAC/BqD,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAAS,oBAKzBgD,OAAM0B,SAAS,cAAelB,GAGlC,MAAMmB,EAAkBC,uBAASC,eAAgBlC,EAAU9F,GACvD,IAAId,EAAcX,EAAcW,YAM5B+I,QAAiBC,OAAOC,KAAKF,WACjC,IAAKA,EAKD,YAJAjD,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAAS,uBAIjBkC,EAAkB/J,OAAQ,EAE1B6K,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CY,OAASC,MAAM,iBAEf,UACUf,OAAM0B,SAAS,eACvB,MAAOO,GAOL,OANA/C,EAAkB/J,OAAQ,EAC1B6K,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,SAC/CrB,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAAS,uBAKjB,IAAIkF,EAAO3D,EAAK2D,KAChB,GAAIA,EACA,GAAqB,IAAjBA,EAAKC,QAAe,CAEpB,MAAMC,EAAUnB,WAAW,KAEvBZ,EAAWV,EAAUvH,EAAcqH,iBAAkB5F,EAAczB,EAAciH,gBACjF8B,aAAaiB,IACd,UAEA,GAAKF,EAAKC,QAAUpJ,EAAc,CACrC,MAAMsJ,QAAqBC,OAAUC,cAAcC,kBAC7CC,EAAQ,SAASP,EAAKC,oBAAoBpJ,oBAEhD,IAAIiE,EAAUyF,EAAQ,cACjBJ,IACDrF,EAAUyF,GAASC,OAAoB,SAAW,kBAGtD7D,EAAM8D,UAAU,CACZF,MAAOzF,EACPE,iBAAkB,OAClBD,kBAAmB,OACnB2F,kBAAmBP,EACnBjF,mBAAmB,EACnBC,2BAA2B,EAC3BwF,YAAa,SAAUrF,EAAgBsF,EAAeC,GACnC,WAAXvF,IAEAsB,IACAuB,EAAWV,EAAUvH,EAAcqH,iBAAkB5F,EAAczB,EAAciH,iBAErF,MAAM+C,EAAUnB,WAAW,KACvB/B,EAAkB/J,OAAQ,EAC1B6K,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CiB,aAAaiB,IACd,KACHW,OAELzF,KAAK,KACJyB,IACAG,EAAkB/J,OAAQ,EACtB,OAAJoJ,QAAI,IAAJA,KAAMyE,wBACNC,OAAYC,KAAK,0BAA2B,MAC5C,MAAMd,EAAUnB,WAAW,KACvBjB,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CiB,aAAaiB,IACd,OACJ7E,MAAOC,WAEP,CACH,MAAM4E,EAAUnB,WAAW,KAEvBZ,EAAWV,EAAUvH,EAAcqH,iBAAkB5F,EAAczB,EAAciH,gBACjF8B,aAAaiB,IACd,UAIPlD,EAAkB/J,OAAQ,EAC1B6K,OAAMC,OAAO,uBAAwB,CAAEC,QAAQ,IAC/CrB,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAAS,yBAGlB,KAGH6E,eAAexJ,EAAsB8K,GAEjC,IAAKxD,EAAUyD,EAASvJ,GAAgBsJ,EACxC,GAAIC,EAAS,OACT,MAAM7E,EAAI,UAAGC,yCAAH,aAAG,EAAsBC,MAE7B4E,EAASD,EAAQ,GACvB,IAAIE,EAAgBC,OAAOF,EAAOG,SAClC,GAAIF,GAAiBA,EAAgBG,OAOjC,YANA5E,EAAM8D,UAAU,CACZF,MAAO,OACPzF,QAAS,oBACT0G,kBAAkB,IACnBpG,KAAK,QAKZ,IAAI,gBAAEqG,EAAF,oBAAmBC,GAAwB5D,OAAMW,QAAQ,mBAEzDgD,QAEME,OAAQC,OAAOC,eAAeH,EAAqB,CACrDI,aAAcX,EAAO/D,GACrB2E,gBAAiBZ,EAAOY,gBACxBhG,SAAUoF,EAAOa,yBAIfL,OAAQM,QAAQJ,eAAeH,EAAqB,CACtDI,aAAcX,EAAO/D,GACrB2E,gBAAiBZ,EAAOY,gBACxBhG,SAAUoF,EAAOa,mBAKA,mBAAjB,OAAJ3F,QAAI,IAAJA,OAAA,EAAAA,EAAM6F,OAAOnP,MACb6L,OAASC,MAAM,0BACa,iBAAjB,OAAJxC,QAAI,IAAJA,OAAA,EAAAA,EAAM6F,OAAOnP,OACpB6L,OAASC,MAAM,wBAIvBvI,EAAuBrD,OAAQ,EAC/BwM,EAAgBhC,EAAU9F,GAG9B,SAASvB,EAA+B+L,GACpC7L,EAAuBrD,MAAQkP,EAGnC,MAAMC,EAAczC,UAChB,MAAM0C,EAAa,CACfnF,aAAc,EACdC,eAAgB,CACZC,IAAK,EACLF,aAAc,GAGlBpG,mBAAoB,EACpBD,aAAc,EACdyL,aAAc,EACdC,aAAc,EACdlF,aAAc,EACdmF,cAAe,EACfC,cAAe,GACfnF,sBAAsB,EAEtBC,iBAAkB,GAClBC,cAAe,GACfC,SAAU,GACVC,qBAAsB,IAGpBgF,QAAqBC,OAAeC,uBAE1C,IAAI,cACApF,EADA,iBAEAD,EAFA,YAGAL,EAHA,eAIAC,EAJA,qBAKAG,EALA,kBAMAxG,EANA,YAOAwL,EAPA,YAQAC,EARA,YASAlF,EATA,aAUAmF,EAVA,cAWAC,EAXA,YAYA5L,EAZA,kBAaAgM,EAbA,qBAcAnF,GACAgF,EACJ,GAA0B,IAAtBG,EAKA,YAJAlG,EAAMqC,SAAS,CACX5F,KAAM,QACN0B,QAAS,sBAKjBuH,EAAW9E,iBAAmBA,EAC9B8E,EAAWnF,YAAcA,EACzBmF,EAAW7E,cAAgBA,EAC3B6E,EAAWlF,eAAiBA,EAC5BkF,EAAW3E,qBAAuBA,EAGlC,IAAIoF,EAAchF,OAAMiF,MAAMC,OAAOF,YACjCA,IACIA,EAAYlL,eACZyK,EAAW5E,SAAWqF,EAAYG,gBAElCZ,EAAW5E,SAAWD,GAI9B6E,EAAW/E,qBAAuBA,EAClC+E,EAAWvL,kBAAoBA,EAC/BuL,EAAWxL,YAAcA,EACzBwL,EAAWC,YAAcA,EACzBD,EAAWE,YAAcA,EACzBF,EAAWI,cAAgBA,EAC3BJ,EAAWG,aAAeA,EAE1B,IAAIU,EAAcrM,EAAcC,EAE5BqM,EAAU,GACVC,EAAWvJ,KAAKwJ,MAAMhB,EAAWI,eACrC,MAAMxB,EAAQmC,EAASE,QACvB,IAAK,MAAMrL,KAAQgJ,EACfkC,GAAWlL,EAAKmB,KAAO,IAAMnB,EAAKsL,MAAQ,KAE/B,IAAXJ,IACAA,EAAU,WAEd,IAAIK,EAAY,CACZC,cAAenK,EACfoK,WAAY7M,EAAc,IAAMyC,EAAO,UAAYgJ,EAAc,SAAWC,EAAc,KAAOY,EAAU,QAAUX,EACrHmB,aAAc9M,EAAc,OAASqM,EAAc,MAAQpM,GAE/DgG,EAAiB0G,GAEjBI,OAAOC,OAAO3N,EAAemM,GAG7B/L,EAAuBrD,OAAQ,GAInC,MAAO,CACHqD,yBACA0G,oBACA9G,gBAEAC,wBACAC,iCACAgM,iB,oCC/OG,GACfrP,kBACAkG,YACA,wBACA6K,sBAEA9K,uCACAM,OACA,OACAyK,0BACAjQ,eACAkQ,cACAC,uBACAC,0BACAC,gBACAC,wBACAC,uBAGAnK,OACAoK,sBACA,8DAIA,8DACA,kEACAC,mCALA,kEACAA,+BAQAjO,6BAIAsD,aACA,mDACA4K,gBACAC,MACA,+CAEAC,YAIA,yBACA,aACA,iCAGA,4BACA,qBAGA,0BACA,kBACA,6BAGA,yBACA,oBAEAC,YACA,kBAEA5O,iBACA,mCACA,UAEA,WAKA6O,eACA,8CAGAjP,wBACA,2DAGAE,cACA,+BAGA,yCAGAD,yBACA,6BAGA,gDAGAiP,yBACA,uDAGAxQ,YAEA,OADAsG,sDACA,kBAEAmK,aACA,0BAEA9P,WACA,iEACA,CACA,CACAjC,UACA2C,cACArB,yBAEA0Q,2DACAC,iEACA3P,0CAGA,CACAtC,UACA2C,cACArB,2BACA0Q,mDACAC,yDACA3P,6CAIA,IAIA4P,gBAEA,OACA,CACAlS,YACAsB,8BACAiB,YACAyP,2DACAC,iEACA3P,8CACAE,iCAMA2P,gBACAtG,+BACAmC,2CAGAzG,UACA,oCACA,0BACA,qBAEAyG,8BACA,iCACA,IACA,wBACA3D,wBACA+H,QACAC,eACAC,wBAGA,wCAIAzG,mDACA,iCACA,MAGArE,YACA,yDACA,uDACA,gGACA,qFAEA,iCACA,gDACAtE,4DACA,oDACA,gCAIA,+DAHA,kCAIA,KACAqP,4DACA,6BACAvE,8CAEA,KAEAwE,yCAAA,MACA,iBACA,uBACA,sBAAAxS,eACA,kDACA,KACA6B,oBACA,iBACA4Q,8BAEA,oBACA,qDACA,4DACAjB,0EAEA,kDACA,4DACAA,8EAEA,OACA,4DACAA,wEAMAkB,cACA,eAGAvR,cACA,MAKA,EALA,4CACA,4DACAqQ,4BAIA,6DACAA,4BAGA3F,6BACA,mBAAA7L,eACA,iCACA,IACA,wBACAqK,wBACA+H,QACAC,eACAC,wBAGA,uCAIA3Q,aACAiG,oCACA,OACA,0BACA,8BACA,iDAEA,mDAGA+K,8CACA,4BACA,eACAtM,YACA0B,cAEA,KACA6K,aAGAxQ,YACA,oBACA,mBACA,qBAGA,SAEA,QACA,WAIAK,wDACA,sBACA,SAOA,wBACA,oCACA,CACA,wBACA,OAUA,mBAAAzC,OAAA6S,OAAA1Q,oCAEA,KAMA2Q,2BAEA,iDACA,uBAKA,YAJA,mBACAC,sBACAF,WAIA,oBACAG,wBACA,sCAEA,WACA,iBACA,6BACAC,OACA,MAGA,UACAA,WAGA,iBACAC,uCACAA,i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","file":"js/chunk-3aa35bb6.24828a6a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectLayout.vue?vue&type=style&index=0&id=7878bad0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuncHeader.vue?vue&type=style&index=0&id=188ceb43&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSettingDialog.vue?vue&type=style&index=0&id=81615f2e&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_setup.showExportLoading),expression:\"showExportLoading\"}],staticClass:\"project\",attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"element-loading-text\":_setup.exportTip,\"element-loading-spinner\":\"el-icon-loading\"}},[_c(_setup.FuncHeader,{class:{ 'header-disabled': _setup.isDisableHeadView }}),_c('router-view',{staticClass:\"project-func\"}),_c(_setup.SyncPresetSettings,{ref:\"syncPresetSettingsRefs\",attrs:{\"just-save\":\"\",\"refineUUID\":_setup.refineUUID}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header global__top-nav border-line-style\"},[(_vm.leftBtnSlot)?[_vm._t(\"left-btn\")]:[_c('div',{staticClass:\"left-func-container\"},[_c('el-button',{staticClass:\"return-home-btn\",attrs:{\"size\":\"mini\",\"disabled\":_vm.getIconDisabled},on:{\"click\":_vm.onClickHome}},[(_vm.getIconDisabled)?_c('img',{staticClass:\"return-icon\",attrs:{\"src\":_vm.$getIconPath('nav_icon_workbench_disabled@3x.png'),\"alt\":\"\"}}):_c('i',{staticClass:\"el-icon-s-home return-icon\"})]),(['batchRetouch','photoFinishing'].includes(_vm.routeName))?[(_vm.$platform === 'darwin')?[_c('div',{staticClass:\"addFileWrapCla\"},[_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddSecond),expression:\"PointAddSecond\"}],staticClass:\"addFileCla\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"disabled\":_vm.getIconDisabled},on:{\"click\":function($event){[\n                                        _vm.cancelBlur($event),\n                                        _vm.onCommand('onImportFileAndDir')\n                                    ]}}})],1)]:_vm._e(),(_vm.$platform !== 'darwin' && !_vm.getIconDisabled)?[_c('el-dropdown',{staticClass:\"dropDownCla\",attrs:{\"hide-on-click\":\"\",\"placement\":\"bottom-start\"},on:{\"visible-change\":_vm.onAddFileVisible,\"command\":_vm.onCommand}},[_c('div',{staticClass:\"addFileWrapCla\"},[_c('el-button',{staticClass:\"addFileCla\",attrs:{\"size\":\"mini\",\"disabled\":_vm.getIconDisabled,\"icon\":\"el-icon-plus\"}})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddSecond),expression:\"PointAddSecond\"}],attrs:{\"command\":\"onImportFile\"}},[_c('div',[_vm._v(\"导入图片\")])]),_c('el-dropdown-item',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddSecond),expression:\"PointAddSecond\"}],attrs:{\"divided\":\"\",\"command\":\"onImportDir\"}},[_c('div',[_vm._v(\"导入文件夹\")])])],1)],1)]:_vm._e()]:_vm._e()],2)],_c('div',{staticClass:\"center-func-container menu\"},[_vm._l((_vm.menuList),function(menu,index){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFunc(menu)),expression:\"showFunc(menu)\"}],key:menu.routeName+index,staticClass:\"item\",class:{\n                        'active': menu.isActive,\n                        'disabled': menu.disabled\n                    },attrs:{\"title\":menu.name},on:{\"click\":function($event){menu.disabled ? menu.disableFunc()\n                        : _vm.onRouterPush(menu.routeName,{\n                        })}}},[_c('span',{staticClass:\"menu-title\"},[_vm._v(_vm._s(menu.subTitle))])])]})],2),_c('div',{staticClass:\"right-func-container menu\"},[_c('nav-entry-group',{attrs:{\"dark-vip\":\"\",\"nav-list\":['debug','manual-import', 'export-btn', 'gift', 'divider', 'export', 'userinfo', 'divider', 'help', 'set', 'divider', 'vip']}},[_c('template',{slot:\"export-btn\"},[_c('div',{staticClass:\"guideClass6\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasDownloadPermission),expression:\"hasDownloadPermission\"}],staticClass:\"item download-btn\",class:{ 'active': _vm.hasDownloadActiveStyle },attrs:{\"type\":\"primary\",\"disabled\":_vm.canDownload},on:{\"click\":_vm.onDownloadIconClick}},[_c('img',{attrs:{\"src\":_vm.downloadImgUrl,\"alt\":\"\"}}),_vm._v(\" 导出图片 \")])],1)]),(_vm.canShowManualImportButton)?_c('template',{slot:\"manual-import\"},[_c('el-button',{staticClass:\"claManualImportBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onManualImportClick}},[_vm._v(\"载入图片\")])],1):_vm._e()],2)],1),(_vm.hasDownloadPermission)?_c('ExportSettingDialog',{attrs:{\"export-setting-data\":_vm.exportSetting},on:{\"exportSettingCallback\":_vm.exportSettingCallback,\"changeShowExportSelectDialog\":_vm.onChangeShowExportSelectDialog},model:{value:(_vm.showExportSelectDialog),callback:function ($$v) {_vm.showExportSelectDialog=$$v},expression:\"showExportSelectDialog\"}}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"choosePresetDialog\",attrs:{\"top\":\"30vh\",\"width\":\"502px\",\"custom-class\":\"setting-dialog gpu-switch-dialog\",\"visible\":_vm.visible,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[(_vm.needShowPresetSelect)?_c('div',{staticClass:\"title\",staticStyle:{\"margin-top\":\"0\",\"color\":\"#D9D9D9\"}},[_vm._v(\"选择一个预设应用到 \"),_c('span',{staticStyle:{\"color\":\"#F5D228\",\"font-size\":\"20px\",\"font-weight\":\"500\"}},[_vm._v(_vm._s(_vm.exportSettingData.totalNumber))]),_vm._v(\" 张图片并导出 \")]):_c('div',{staticClass:\"title\",staticStyle:{\"margin-top\":\"0\",\"color\":\"#D9D9D9\"}},[_vm._v(\"导出 \"),_c('span',{staticStyle:{\"color\":\"#F5D228\",\"font-size\":\"20px\",\"font-weight\":\"500\"}},[_vm._v(_vm._s(_vm.exportSettingData.totalNumber))]),_vm._v(\" 张图片 \"),(_vm.exportSettingData.isNoePresetNumber > 0)?[_vm._v(\", 其中 \"),_c('span',{staticStyle:{\"color\":\"#F5D228\",\"font-size\":\"20px\",\"font-weight\":\"500\"}},[_vm._v(_vm._s(_vm.exportSettingData.isNoePresetNumber))]),_vm._v(\"张是原图 \")]:_vm._e()],2)]),_c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShowPresetSelect),expression:\"needShowPresetSelect\"}],staticClass:\"preset-select-container\"},[_c('span',[_vm._v(\"预设：\")]),_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('el-cascader',{staticClass:\"presetSelect\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择一个预设\",\"options\":_vm.provinceOptions},on:{\"visible-change\":_vm.visibleChange},model:{value:(_vm.whichPreset),callback:function ($$v) {_vm.whichPreset=$$v},expression:\"whichPreset\"}}),_c('span',{staticClass:\"right_icon\"},[_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_up.png'),\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_down.png'),\"alt\":\"\"}})])],1)]),_c('div',{staticClass:\"path-select-container\"},[_c('span',[_vm._v(\"导出至：\")]),_c('div',{staticClass:\"path-select-sub-container\"},[_c('div',{staticClass:\"path-select-show\",on:{\"click\":_vm.onSelectExportPathClick}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":_vm.finalSavePath,\"placement\":\"top\"},model:{value:(_vm.tipShow),callback:function ($$v) {_vm.tipShow=$$v},expression:\"tipShow\"}},[_c('span',{on:{\"mouseleave\":_vm.handleMouseLeave,\"mouseenter\":_vm.handleMouseEnter}},[_vm._v(_vm._s(_vm._f(\"filterFormatPath\")(_vm.finalSavePath)))])])],1),_c('div',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointExportSelectPath),expression:\"PointExportSelectPath\"}],staticClass:\"img-container\",on:{\"click\":_vm.onSelectExportPathClick}},[_c('img',{attrs:{\"src\":_vm.$getIconPath('export_icon_action_location@3x.png'),\"alt\":\"\"}})])])]),_c('div',{staticClass:\"setting-container\"},[_c('span'),_c('el-collapse',{staticClass:\"export-setting-container\",on:{\"change\":_vm.PointExportAdvancedSetting}},[_c('el-collapse-item',{attrs:{\"title\":\"高级设置\",\"name\":\"1\"}},[_c('div',{staticClass:\"export-setting-container\"},[_c('span',{staticClass:\"export-title\"},[_vm._v(\"导出位置：\")]),_c('div',{staticClass:\"export-setting-content\"},[_c('el-checkbox',{staticClass:\"firstChild\",on:{\"change\":function($event){return _vm.switchSetting($event, 'createNewDir')}},model:{value:(_vm.createNewDir),callback:function ($$v) {_vm.createNewDir=$$v},expression:\"createNewDir\"}},[_vm._v(\" 新建项目文件夹存储 \")]),_c('el-checkbox',{on:{\"change\":function($event){return _vm.switchSetting($event, 'setDefaultPath')}},model:{value:(_vm.setDefaultPath),callback:function ($$v) {_vm.setDefaultPath=$$v},expression:\"setDefaultPath\"}},[_vm._v(\" 设为默认导出路经 \")]),_c('el-checkbox',{on:{\"change\":function($event){return _vm.switchSetting($event, 'restoreImportDir')}},model:{value:(_vm.restoreImportDir),callback:function ($$v) {_vm.restoreImportDir=$$v},expression:\"restoreImportDir\"}},[_vm._v(\" 保留导入时的文件夹命名 \")])],1)]),_c('div',{staticClass:\"dividing-line\"}),_c('div',{staticClass:\"export-setting-container\"},[_c('span',{staticClass:\"export-title\"},[_vm._v(\"图片格式：\")]),_c('span',{staticClass:\"photo-format-span\"},[_c('el-select',{on:{\"change\":_vm.exportPhotoFormatChange},model:{value:(_vm.formatValue),callback:function ($$v) {_vm.formatValue=$$v},expression:\"formatValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,staticClass:\"photo-format-option\",attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('span',{staticClass:\"right_icon\"},[_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_up.png'),\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_down.png'),\"alt\":\"\"}})])],1)]),(_vm.needShowJPGLevel)?_c('div',{staticClass:\"export-format-container\"},[_c('span',{staticClass:\"export-title\"},[_vm._v(\"品质(jpg)：\")]),_c('div',{staticClass:\"export-content\"},[_c('div',{},[_c('el-input-number',{staticClass:\"level-container-input\",attrs:{\"size\":\"mini\",\"min\":0,\"max\":14,\"precision\":0,\"controls\":false},model:{value:(_vm.jpgLevel),callback:function ($$v) {_vm.jpgLevel=$$v},expression:\"jpgLevel\"}}),_c('el-select',{staticClass:\"level-container-select\",attrs:{\"size\":\"mini\",\"value\":_vm.levelSelectValue},on:{\"change\":function($event){_vm.jpgLevel = { 0: 3, 1: 5, 2: 8, 3: 10 }[$event]}}},_vm._l((_vm.levelOptions),function(item){return _c('el-option',{key:item.value,staticClass:\"photo-format-option\",attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('div',{staticClass:\"level-container\"},[_c('ts-slider',{ref:\"slider\",staticClass:\"level-container-slider gray\",attrs:{\"min\":0,\"max\":14,\"value\":_vm.jpgLevel,\"show-tooltip\":false},on:{\"input\":_vm.onJpgSlideChange}}),_c('div',{staticClass:\"level-container-label\"},[_c('span',[_vm._v(\"小文件\")]),_c('span',[_vm._v(\"大文件\")])])],1)])]):_vm._e(),_c('div',{staticClass:\"dividing-line\"}),_c('div',{staticClass:\"export-setting-container\"},[_c('span',{staticClass:\"export-title\"},[_vm._v(\"色彩空间：\")]),_c('div',{staticClass:\"export-setting-content\"},[_c('el-checkbox',{staticClass:\"firstChild\",on:{\"change\":function($event){return _vm.switchSetting($event, 'changeToSRGB')}},model:{value:(_vm.changeToSRGB),callback:function ($$v) {_vm.changeToSRGB=$$v},expression:\"changeToSRGB\"}},[_vm._v(\" 转换为sRGB \")])],1)])])],1)],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"exportBtn\",attrs:{\"size\":\"mini\",\"type\":\"default\"},on:{\"click\":_vm.noApplay}},[_vm._v(\"取消\")]),_c('el-button',{staticClass:\"exportBtn\",attrs:{\"size\":\"mini\",\"type\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.exportSettingData.totalNumber===0},on:{\"click\":_vm.applyAll}},[_vm._v(\"导出 \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog\n        top=\"30vh\"\n        width=\"502px\"\n        custom-class=\"setting-dialog gpu-switch-dialog\"\n        :visible.sync=\"visible\"\n        :close-on-click-modal=\"false\"\n        :close-on-press-escape=\"false\"\n        class=\"choosePresetDialog\"\n    >\n        <div slot=\"title\">\n            <div class=\"title\" v-if=\"needShowPresetSelect\" style=\"margin-top:0;color:#D9D9D9\">选择一个预设应用到\n                <span style=\"color: #F5D228; font-size:20px; font-weight:500\">{{ exportSettingData.totalNumber }}</span>\n                张图片并导出\n            </div>\n\n            <div class=\"title\" v-else style=\"margin-top:0;color:#D9D9D9\">导出\n                <span style=\"color: #F5D228; font-size:20px; font-weight:500\">{{ exportSettingData.totalNumber }}</span>\n                张图片\n                <template v-if=\"exportSettingData.isNoePresetNumber > 0\">, 其中 <span\n                    style=\"color: #F5D228; font-size:20px; font-weight:500\">{{\n                        exportSettingData.isNoePresetNumber\n                    }}</span>张是原图\n                </template>\n\n            </div>\n\n        </div>\n\n        <div class=\"container\">\n            <div class=\"preset-select-container\" v-show=\"needShowPresetSelect\">\n                <span>预设：</span>\n                <div style=\"position:relative\">\n                    <!-- <el-select v-model=\"whichPreset\" placeholder=\"请选择\" class=\"presetSelect\">\n                      <el-option\n                          v-for=\"(item,index) in allPreset\"\n                          :key=\"index\"\n                          :label=\"item.label\"\n                          :value=\"item.value\">\n                      </el-option>\n                    </el-select> -->\n\n                    <el-cascader\n                        filterable\n                        class=\"presetSelect\"\n                        placeholder=\"请选择一个预设\"\n                        :options=\"provinceOptions\"\n                        v-model=\"whichPreset\"\n                        @visible-change=\"visibleChange\"\n                    />\n\n                    <span class=\"right_icon\">\n                <img :src=\"$getIconPath('icon_arrow_up.png')\" alt=\"\">\n                <img :src=\"$getIconPath('icon_arrow_down.png')\" alt=\"\">\n          </span>\n                </div>\n            </div>\n\n            <div class=\"path-select-container\">\n                <span>导出至：</span>\n                <div class=\"path-select-sub-container\">\n\n                    <div class=\"path-select-show\"\n                         @click=\"onSelectExportPathClick\"\n                    >\n\n                        <el-tooltip effect=\"dark\" :content=\"finalSavePath\" v-model=\"tipShow\" placement=\"top\">\n                            <span @mouseleave=\"handleMouseLeave\"\n                                  @mouseenter=\"handleMouseEnter\">{{ finalSavePath | filterFormatPath }}</span>\n                        </el-tooltip>\n\n                    </div>\n\n                    <div\n                        class=\"img-container\"\n                        v-gtag-event=\"PointExportSelectPath\"\n                        @click=\"onSelectExportPathClick\">\n                        <img :src=\"$getIconPath('export_icon_action_location@3x.png')\" alt=\"\">\n                    </div>\n                </div>\n\n            </div>\n\n            <div class=\"setting-container\">\n\n                <span></span>\n\n                <el-collapse class=\"export-setting-container\" @change=\"PointExportAdvancedSetting\">\n                    <el-collapse-item title=\"高级设置\" name=\"1\">\n                        <div class=\"export-setting-container\">\n                            <span class=\"export-title\">导出位置：</span>\n                            <div class=\"export-setting-content\">\n                                <el-checkbox\n                                    class=\"firstChild\"\n                                    v-model=\"createNewDir\"\n                                    @change=\"switchSetting($event, 'createNewDir')\">\n                                    新建项目文件夹存储\n                                </el-checkbox>\n\n                                <el-checkbox\n                                    v-model=\"setDefaultPath\"\n                                    @change=\"switchSetting($event, 'setDefaultPath')\">\n                                    设为默认导出路经\n                                </el-checkbox>\n\n                                <el-checkbox\n                                    v-model=\"restoreImportDir\"\n                                    @change=\"switchSetting($event, 'restoreImportDir')\">\n                                    保留导入时的文件夹命名\n                                </el-checkbox>\n                            </div>\n                        </div>\n                        <div class=\"dividing-line\"></div>\n                        <div class=\"export-setting-container\">\n                            <span class=\"export-title\">图片格式：</span>\n                            <span class=\"photo-format-span\">\n                                <el-select v-model=\"formatValue\"\n                                           @change=\"exportPhotoFormatChange\">\n                                  <el-option\n                                      class=\"photo-format-option\"\n                                      v-for=\"item in options\"\n                                      :key=\"item.value\"\n                                      :label=\"item.label\"\n                                      :value=\"item.value\">\n                                  </el-option>\n                                </el-select>\n                                <span class=\"right_icon\">\n                                  <img :src=\"$getIconPath('icon_arrow_up.png')\" alt=\"\">\n                                  <img :src=\"$getIconPath('icon_arrow_down.png')\" alt=\"\">\n                                </span>\n                            </span>\n                        </div>\n\n                        <div class=\"export-format-container\" v-if=\"needShowJPGLevel\">\n                            <span class=\"export-title\">品质(jpg)：</span>\n\n                            <div class=\"export-content\">\n                                <div class=\"\">\n                                    <el-input-number\n                                        class=\"level-container-input\"\n                                        size=\"mini\"\n                                        :min=\"0\"\n                                        :max=\"14\"\n                                        :precision=\"0\"\n                                        :controls=\"false\"\n                                        v-model=\"jpgLevel\">\n                                    </el-input-number>\n\n                                    <el-select\n                                        size=\"mini\"\n                                        class=\"level-container-select\"\n                                        :value=\"levelSelectValue\"\n                                        @change=\"jpgLevel = { 0: 3, 1: 5, 2: 8, 3: 10 }[$event]\">\n                                        <el-option\n                                            class=\"photo-format-option\"\n                                            v-for=\"item in levelOptions\"\n                                            :key=\"item.value\"\n                                            :label=\"item.label\"\n                                            :value=\"item.value\">\n                                        </el-option>\n                                    </el-select>\n                                </div>\n\n                                <div class=\"level-container\">\n                                    <ts-slider\n                                        ref=\"slider\"\n                                        class=\"level-container-slider gray\"\n                                        :min=\"0\"\n                                        :max=\"14\"\n                                        :value=\"jpgLevel\"\n                                        :show-tooltip=\"false\"\n                                        @input=\"onJpgSlideChange\"\n                                    >\n                                    </ts-slider>\n                                    <div class=\"level-container-label\">\n                                        <span>小文件</span>\n                                        <span>大文件</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"dividing-line\"></div>\n\n                        <div class=\"export-setting-container\">\n                            <span class=\"export-title\">色彩空间：</span>\n                            <div class=\"export-setting-content\">\n                                <el-checkbox\n                                    class=\"firstChild\"\n                                    v-model=\"changeToSRGB\"\n                                    @change=\"switchSetting($event, 'changeToSRGB')\">\n                                    转换为sRGB\n                                </el-checkbox>\n                            </div>\n                        </div>\n                    </el-collapse-item>\n                </el-collapse>\n\n            </div>\n        </div>\n\n\n        <div slot=\"footer\">\n            <el-button size=\"mini\" class=\"exportBtn\" type=\"default\" @click=\"noApplay\">取消</el-button>\n            <el-button size=\"mini\" class=\"exportBtn\" type=\"primary\" :loading=\"loading\" @click=\"applyAll\"\n                       :disabled=\"exportSettingData.totalNumber===0\">导出\n            </el-button>\n        </div>\n    </el-dialog>\n</template>\n\n<script>\n\nimport { mapActions, mapGetters, mapMutations } from 'vuex'\nimport toast from '@/mixins/toast'\nimport { Select, Option, Checkbox, Tooltip, Cascader, InputNumber } from 'element-ui'\nimport store from '@/store'\nimport path from 'path'\nimport ShortcutHelper from '@/utils/Shortcut/ShortcutHelper'\nimport pointsMixin from '@/mixins/pointsMixin'\nimport DBIpcRender from '@/irender/DBIpcRender'\nimport { PROJECT_TABLE } from '#/types/config'\nimport TsDialog from '@/components/TsDialog/ts-dialog'\nimport {app, app as APP} from '@/qt-ipc/app'\nimport fs from '@/qt-ipc/fs'\nimport FileUtils from '@/utils/FileUtils'\nimport { exportPhotoFormat } from '@/constants/index'\nimport PATH from '@/qt-ipc/path'\nimport TsSlider from '@/components/TsSlider'\nimport {WIN_MAX_PATH} from \"@/constants/constants\";\n\nexport default {\n    name: 'ExportSettingDialog',\n    mixins: [toast, pointsMixin],\n    components: {\n        // 'el-select': Select,\n        // 'el-option': Option,\n        'el-checkbox': Checkbox,\n        'el-tooltip': Tooltip,\n        'el-cascader': Cascader,\n        'el-dialog': TsDialog,\n        'el-select': Select,\n        'el-option': Option,\n        'el-input-number': InputNumber,\n        TsSlider\n    },\n    props: {\n        value: {\n            type: Boolean,\n            default: false\n        },\n        exportSettingData: {\n            type: Object,\n            default: null\n        }\n    },\n    data() {\n        return {\n            isApplyToClose: false,\n            loading: false,\n            visible: this.value,\n            number: null,\n            whichPreset: '',\n            finalSavePath: '',\n            saveDirPath: '',\n            createNewDir: true,\n            setDefaultPath: true,\n            restoreImportDir: true,\n            changeToSRGB: false,\n            needShowPresetSelect: false,\n            tipShow: false,\n            jpgLevel: 12,\n            needShowJPGLevel: false,\n            options: [\n                {\n                    value: exportPhotoFormat['origin'],\n                    key: 'origin',\n                    label: ' 原始格式'\n                }, {\n                    value: exportPhotoFormat['jpeg'],\n                    key: 'jpeg',\n                    label: 'JPG'\n                }, {\n                    value: exportPhotoFormat['tiff'],\n                    key: 'tiff',\n                    label: 'TIFF'\n                }\n            ],\n\n            levelOptions: [\n                { value: 0, label: ' 低' },\n                { value: 1, label: '中' },\n                { value: 2, label: '高' },\n                { value: 3, label: '最佳' }\n            ],\n\n            formatValue: exportPhotoFormat['origin']\n        }\n    },\n    filters: {\n        filterFormatPath(value) {\n            if (value && value.length >= 36) {\n                // ... 名字过滤器\n                let start = value.substr(0, 18)\n                let end = value.substr(value.length - 18, 18)\n                return ` ${start} ... ${end}`\n            }\n            return value\n        }\n    },\n    computed: {\n        ...mapGetters('config', [\n            'diskWarnCondition'\n        ]),\n\n        levelSelectValue() {\n            if ([10, 11, 12, 13, 14].includes(this.jpgLevel)) {\n                return 3\n            } else if ([8, 9].includes(this.jpgLevel)) {\n                return 2\n            } else if ([5, 6, 7].includes(this.jpgLevel)) {\n                return 1\n            }\n            return 0\n        },\n\n        provinceOptions() {\n            let preset_list = []\n            JSON.parse(JSON.stringify(this.$store.getters.presetTree)).map((item, index) => {\n                let childList = []\n                item.children.map((i, idx) => {\n                    childList.push({ 'value': i.id, 'label': i.label })\n                })\n                preset_list.push({ 'value': item.id, 'label': item.label, 'children': childList })\n            })\n            return preset_list\n        },\n        allPreset() {\n            const oriPreset = JSON.parse(JSON.stringify(this.$store.state.presetting.oriPreset))\n            oriPreset.classId = this.$store.state.presetting.recommendPreItems[0].classId\n            const resItem = Array(oriPreset).concat(this.$store.state.presetting.preItems).concat(this.$store.state.presetting.recommendPreItems)\n            return resItem\n        }\n    },\n    watch: {\n        value: {\n            handler(val) {\n                this.visible = val\n                const shortcutHelper = ShortcutHelper.getInstance()\n                if (val) {\n                    this.initSettingData(this.exportSettingData)\n                    this.whichPreset = null\n                    this.isApplyToClose = false\n                    this.getPresetClass()\n                    shortcutHelper.unRegisterShortcut()\n                } else {\n                    shortcutHelper.registerShortcut()\n                }\n            },\n            immediate: true\n        },\n        visible(val) {\n            this.$emit('input', val)\n            if (!val && !this.isApplyToClose) {\n                this.PointExportCancel()\n            }\n            // if (val) {\n            //   this.whichPreset = this.allPreset[1].value\n            // }\n        }\n    },\n    mounted() {\n\n    },\n    methods: {\n        ...mapActions(['getPresetClass']),\n        ...mapGetters([\n            'oriPreset'\n        ]),\n        ...mapMutations('config', ['updateConfigModel', 'setExportJFPFormatVal']),\n\n        getDiskFreeSpaceAsShort(diskInfo) {\n            let avaliableNums = 0\n            if (this.$isWin) {\n                avaliableNums = diskInfo.available / 1024 / 1024 / 1024\n            } else {\n                avaliableNums = diskInfo.available / 1000 / 1000 / 1000  //g的容量 (按制造商的来看)\n            }\n            return avaliableNums\n        },\n\n        initSettingData(val) {\n            console.log('exportSettingData: ', val)\n            let configModel = store.state.config.configModel\n            this.createNewDir = configModel.createNewDir\n            this.restoreImportDir = configModel.restoreImportDir\n            this.setDefaultPath = configModel.setDefaultPath\n            if (this.setDefaultPath) {\n                this.saveDirPath = configModel.defaultSavePath\n            } else if (val.temporaryStoragePath) {\n                this.saveDirPath = val.temporaryStoragePath\n            } else {\n                this.saveDirPath = val.savePath\n            }\n            if (this.createNewDir) {\n                this.finalSavePath = this.saveDirPath + path.sep + val.exportSubDirPath\n            } else {\n                this.finalSavePath = this.saveDirPath\n            }\n            this.changeToSRGB = configModel.changeToSRGB ? true : false\n            this.needShowPresetSelect = val.needShowSelectPreset\n\n            if (val.totalNumber != val.isTiffNumber) {\n                this.needShowJPGLevel = true\n            }\n            this.jpgLevel = store.state.config.exportJPGFormatVal\n        },\n        visibleChange(flag) {\n            if (flag && this.whichPreset === null) {\n                this.whichPreset = this.$store.state.presetting.selectPreset\n                this.PointExportSelectPreset()\n            }\n        },\n        handleMouseLeave() {\n            this.tipShow = false\n        },\n        handleMouseEnter() {\n            this.tipShow = true\n        },\n        //保存当次用户选择导出类型\n        exportPhotoFormatChange() {\n            this.$store.commit('setExportPhotoFormat', this.formatValue)\n            if (this.formatValue == 3) {\n                this.needShowJPGLevel = false\n            } else {\n                if (this.formatValue == 2) {\n                    this.needShowJPGLevel = true\n                } else {\n                    if (this.exportSettingData.totalNumber != this.exportSettingData.isTiffNumber) {\n                        this.needShowJPGLevel = true\n                    } else {\n                        this.needShowJPGLevel = false\n                    }\n                }\n            }\n        },\n        onJpgSlideChange(val) {\n            this.jpgLevel = val\n        },\n        switchSetting(bool, type) {\n            let configModel = store.state.config.configModel\n            let copyModel = configModel\n            if (type === 'createNewDir') {\n                copyModel.createNewDir = bool\n                if (this.createNewDir) {\n                    this.finalSavePath = this.saveDirPath + path.sep + this.exportSettingData.exportSubDirPath\n                } else {\n                    this.finalSavePath = this.saveDirPath\n                }\n            } else if (type === 'restoreImportDir') {\n                copyModel.restoreImportDir = bool\n            } else if (type === 'setDefaultPath') {\n                copyModel.setDefaultPath = bool\n                if (copyModel.setDefaultPath) {\n                    copyModel.defaultSavePath = this.saveDirPath\n                } else {\n                    copyModel.defaultSavePath = null\n                }\n            } else if (type === 'changeToSRGB') {\n                copyModel.changeToSRGB = bool\n            }\n            console.log('updateConfigModel : ', copyModel)\n            this.updateConfigModel({ data: copyModel })\n\n\n        },\n        async onSelectExportPathClick() {\n\n            const result = await window.$dialog.showOpenDirDialog()\n            if (result && result.selectPath) {\n                this.saveDirPath = result.selectPath\n\n                let configModel = store.state.config.configModel\n                let copyModel = configModel\n                if (copyModel.setDefaultPath) {\n                    copyModel.defaultSavePath = result.selectPath\n                }\n                if (this.createNewDir) {\n                    this.finalSavePath = result.selectPath + path.sep + this.exportSettingData.exportSubDirPath\n                } else {\n                    this.finalSavePath = result.selectPath\n                }\n                this.updateConfigModel({ data: copyModel })\n                //文件夹点击之后，保存用户的点击\n                DBIpcRender.updateBatchForValue(PROJECT_TABLE, [this.exportSettingData.currentProject.id], 'temporaryStoragePath', result.selectPath)\n\n            }\n\n        },\n        noApplay() {\n            // this.$parent.onDownloadClick(true)\n            this.visible = false\n        },\n        async applyAll() {\n            if (this.needShowPresetSelect && (this.whichPreset == null || this.whichPreset == '')) {\n                this.tsNotify({\n                    message: '请先选择一个预设再导出哦~'\n                })\n                return false\n            }\n\n            //判断 finalSavePath 是否为目录\n            let finalSavePath = this.finalSavePath\n            await FileUtils.mkdirSync(finalSavePath)\n            if (finalSavePath.length >= WIN_MAX_PATH && app.isWin && !app.isLargeThanWin10Version){\n                this.tsNotify({\n                  message: '导出路径太长了，请先修改导出路径后再重试～'\n                })\n                return\n            }\n            const stat = await fs.statSync(finalSavePath)\n            if (!stat.mbIsDir) {\n                this.tsNotify({\n                    message: '没有该导出路径的访问权限，请先修改导出路径后再重试～'\n                })\n                return\n            }\n\n            //检测磁盘空间大小\n            let windowCheckPath = (await PATH.parse(this.finalSavePath)).root.toUpperCase() + ':'\n            let macCheckPath = '/'\n            let checkPath = this.$isWin ? windowCheckPath : macCheckPath\n            let diskInfo = await APP.getDiskSize(checkPath)\n            if (diskInfo && diskInfo?.isValid) {\n                let availableNums = this.getDiskFreeSpaceAsShort(diskInfo)\n                const systemDiskMinUnit = this.diskWarnCondition.minSystemDiskFreeCapacity// 10g\n                let isNeedDelay = availableNums < systemDiskMinUnit\n                if (isNeedDelay) {\n                    this.$emit('changeShowExportSelectDialog', false) //关闭导出弹窗\n                    if (this.$isWin) { //是win\n                        let diskPath = diskInfo?.diskPath\n                        this.tsConfirm({\n                            message: '本次导出路径的磁盘空间（' + diskPath + '）不足，建议您更改磁盘路径后再导出，否则可能会导致失败哦～',\n                            confirmButtonText: '更改导出磁盘',\n                            cancelButtonText: '直接导出',\n                            customMessageStyle: 'textAlign: left',\n                            closeOnClickModal:false,\n                            distinguishCancelAndClose: true\n                        }).then(() => { //点击更改导出磁盘\n                            this.$emit('changeShowExportSelectDialog', true) //开启导出弹窗\n                        }).catch((action) => {\n                            //点击取消或者遮罩\n                            if (action === 'close') return\n                            //点击直接导出\n                            this.exportTask()\n                        })\n                    } else { //是mac\n                        this.tsConfirm({\n                            message: '本次导出路径的磁盘空间不足，建议您清理磁盘空间后再导出，否则可能会导出失败哦~',\n                            confirmButtonText: '稍后导出',\n                            cancelButtonText: '直接导出',\n                            customMessageStyle: 'textAlign: left',\n                            closeOnClickModal: false,\n                            distinguishCancelAndClose: true,\n                        }).then(() => { //点击稍后导出\n                            console.log('点击稍后导出，结束')\n                        }).catch((action) => {\n                            //点击取消或者遮罩\n                            if (action === 'close') return\n                            //点击直接导出\n                            this.exportTask()\n                        })\n                    }\n                } else {\n                    this.exportTask()\n                }\n            } else {\n                this.exportTask()\n            }\n\n        },\n\n        //导出\n        exportTask() {\n            let presetChooseItem = null\n            if (this.needShowPresetSelect) {\n                let content = this.$store.state.presetting.recommendPreItems\n                let myPreItems = this.$store.state.presetting.preItems\n                let oriPreset = this.$store.state.presetting.oriPreset\n                content = [oriPreset].concat(myPreItems).concat(content)\n                presetChooseItem = content.filter((item) => {\n                    return this.whichPreset[1] == item.id\n                })\n            }\n\n            const presetId = (this.whichPreset && this.whichPreset[1]) || null\n            let savePath = this.finalSavePath\n            let fValue = this.options[this.formatValue - 1].key\n\n            this.PointExportConfirm({\n                newfile: this.createNewDir,\n                defaultpath: this.setDefaultPath,\n                keepfolder: this.restoreImportDir,\n                color: this.changeToSRGB ? 'srgb' : 'original',\n                format: fValue\n            }, presetId)\n            this.isApplyToClose = true\n            this.setExportJFPFormatVal(this.jpgLevel);\n            this.$emit('exportSettingCallback', [savePath, presetChooseItem, this.createNewDir])\n            this.formatValue = exportPhotoFormat.origin\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n\n    /deep/ .el-collapse-item__content {\n        padding-bottom: 0px;\n    }\n\n    .preset-select-container {\n        display: flex;\n        justify-content: center;\n        flex-direction: row;\n        align-items: center;\n        margin-bottom: 16px;\n\n        span {\n            width: 58px;\n            height: 24px;\n            opacity: 0.99;\n            font-family: PingFangSC-Medium;\n            font-size: 14px;\n            color: #D9D9D9;\n            text-align: right;\n        }\n\n        .presetSelect {\n            width: 320px;\n        }\n\n        /deep/ .el-input__suffix {\n            display: none;\n        }\n\n        .right_icon {\n            display: inline-block;\n            position: absolute;\n            width: 22px;\n            height: 22px;\n            border-radius: 4px;\n            background: #3073FF;\n            top: 5px;\n            right: 5px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n\n            img:nth-of-type(1) {\n                width: 10px;\n                margin-bottom: -2px;\n            }\n\n            img:nth-of-type(2) {\n                width: 8px;\n            }\n        }\n\n    }\n\n    .path-select-container {\n        display: flex;\n        justify-content: center;\n        flex-direction: row;\n        align-items: center;\n\n        span {\n            width: 58px;\n            height: 24px;\n            opacity: 0.99;\n            font-family: PingFangSC-Medium;\n            font-size: 14px;\n            color: #D9D9D9;\n            text-align: right;\n        }\n\n        .path-select-sub-container {\n            width: 320px;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            align-items: center;\n\n            .path-select-show {\n                width: 288px;\n                height: 28px;\n                background: rgba(255, 255, 255, 0.10);\n                box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.2);\n                border-radius: 4px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n\n                span {\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    width: 280px;\n                    font-family: PingFangSC-Regular;\n                    font-size: 12px;\n                    color: #D9D9D9;\n                    letter-spacing: 0;\n                    font-weight: 400;\n                    text-align: left;\n                    padding-left: 8px;\n                }\n\n            }\n\n            .img-container {\n                width: 28px;\n                height: 28px;\n                background: rgba(255, 255, 255, 0.10);\n                box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.2);\n                border-radius: 4px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                margin-left: 8px;\n\n                img {\n                    width: 14px;\n                    height: 14px;\n                }\n            }\n        }\n\n    }\n\n    .setting-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: row;\n\n        span {\n            width: 58px;\n            height: 24px;\n            opacity: 0.99;\n            font-family: PingFangSC-Medium;\n            font-size: 14px;\n            color: #D9D9D9;\n            text-align: right;\n        }\n\n        /deep/ .el-collapse {\n            border-top: none;\n        }\n\n        .export-setting-container {\n            width: 320px;\n            border-bottom: none;\n            margin-top: 8px;\n\n            .export-title {\n                width: 70px;\n                height: 24px;\n                opacity: 0.99;\n                font-size: 14px;\n                color: #D9D9D9;\n                white-space: nowrap;\n            }\n\n            /deep/ .el-collapse-item__header {\n                width: 76px;\n                background-color: #232324;\n                border: none;\n            }\n\n            /deep/ .el-collapse-item__wrap {\n                background-color: #232324;\n                border-bottom: none;\n                overflow: inherit;\n            }\n\n            /deep/ .el-checkbox {\n                margin-right: 0px;\n                height: 24px;\n                margin-bottom: 8px;\n            }\n\n            .export-setting-content {\n                margin-top: 4px;\n\n                .firstChild {\n                    margin-right: 50px;\n                }\n\n                /deep/ .el-checkbox__label {\n                    padding-left: 8px;\n                }\n            }\n        }\n\n        .export-format-container {\n            width: 320px;\n            border-bottom: none;\n            margin-top: 12px;\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            padding-bottom: 10px;\n\n            .export-content {\n                flex: 1;\n            }\n\n            .level-container {\n                display: flex;\n                flex-direction: column;\n                margin-top: 13px;\n\n                &-label {\n                    display: flex;\n                    justify-content: space-between;\n\n                    > span {\n                        width: auto;\n                        height: auto;\n                        font-size: 12px;\n                        line-height: 14px;\n                        color: rgba(255, 255, 255, 0.45);\n                    }\n                }\n\n                &-slider {\n                    margin-bottom: 6px;\n                }\n\n                &-select {\n                    width: 72px;\n                    margin-left: 10px;\n                }\n\n                &-input {\n                    width: 45px;\n                }\n\n                /deep/ {\n                    //.ts-slider__marks {\n                    //    .el-slider__marks-text {\n                    //        margin-top: 0;\n                    //        top: -25px;\n                    //    }\n                    //}\n                    //\n                    //.ts-slider__marks-stop {\n                    //    top: -4px;\n                    //    background-color: #6E6E6E;\n                    //    border-radius: 0;\n                    //    width: 2px;\n                    //}\n                }\n            }\n\n            .export-title {\n                width: 70px;\n                height: 24px;\n                opacity: 0.99;\n                font-family: PingFangSC-Regular;\n                font-size: 14px;\n                color: #D9D9D9;\n            }\n        }\n    }\n}\n\n.footer {\n    padding-top: 9px;\n    border-top: 1px solid #333333;\n\n    .exportBtn:nth-of-type(1) {\n        margin-right: 8px;\n    }\n\n    .exportBtn:nth-of-type(2) {\n        margin-left: 8px;\n    }\n}\n\n.choosePresetDialog {\n    /deep/ .el-dialog.setting-dialog .el-dialog__body {\n        padding-bottom: 20px;\n        padding-top: 20px;\n    }\n\n\n}\n\n//分割线\n.dividing-line {\n    width: 320px;\n    height: 1px;\n    background: #333333;\n    margin-top: 8px;\n    margin-bottom: 12px;\n}\n\n//图片格式\n.export-setting-container {\n    .photo-format-span {\n        position: relative;\n\n        /deep/ {\n            .el-input__inner {\n                width: 250px;\n                height: 28px;\n                line-height: 28px !important;\n                background: rgba(255, 255, 255, 0.10) !important;\n                font-size: 14px;\n                padding-left: 8px;\n            }\n        }\n\n        .right_icon {\n            position: absolute;\n            width: 20px;\n            height: 20px;\n            border-radius: 4px;\n            background: #3073FF;\n            top: 0;\n            right: 4px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n\n            img:nth-of-type(1) {\n                width: 10px;\n                margin-bottom: -2px;\n            }\n\n            img:nth-of-type(2) {\n                width: 8px;\n            }\n        }\n    }\n}\n\n//拉下字体颜色\n.photo-format-option {\n    color: #D9D9D9;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSettingDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportSettingDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportSettingDialog.vue?vue&type=template&id=81615f2e&scoped=true&\"\nimport script from \"./ExportSettingDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportSettingDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportSettingDialog.vue?vue&type=style&index=0&id=81615f2e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81615f2e\",\n  null\n  \n)\n\nexport default component.exports","import Vue, { ref, getCurrentInstance, reactive } from 'vue'\nimport store from '@/store'\n\nimport ipcRenderer from '@/qt-ipc/Ipc-renderer'\nimport NodeApi from '@/qt-ipc/node-api'\nimport ImageIOManager from '@/qt-ipc/imageIOManager'\nimport DBIpcRender from '@/irender/DBIpcRender'\n\n// @ts-ignore\nimport { ALLOCATED_PAY_FUNDS_LACK, PAY_FUNDS_LACK } from '@/api/payApi'\n\nimport { debounce } from 'lodash'\n\n// @ts-ignore\nimport eventbus from '@/utils/eventbus'\n\nimport useRechargeRepositories from '@/views/Layout/composables/useRechargeRepositories'\n\nimport pointsMixin from '@/mixins/pointsMixin'\n// @ts-ignore\nimport toastMixin from '@/mixins/toast'\n\nimport { CUR_PRESET_VERSION } from '@/constants/preset-def'\nimport { PROJECT_TABLE, IS_CLIENT_PIX_PIE } from '@/universal/types/config'\n\nimport UserModel from '@/universal/model/UserModel'\n\n// @ts-ignore\nimport ExportSettingDialog from '@/views/Layout/components/ExportSettingDialog'\n// @ts-ignore\nimport { gallery } from '@/qt-ipc/gallery'\nimport useExportPointsRepositories from '@/composables/points/useExportPointsRepositories'\n\n// @ts-ignore\nexport default {\n    name: 'ExportBtn',\n    mixins: [pointsMixin, toastMixin],\n    components: {\n        ExportSettingDialog\n    },\n    setup(props: any) {\n        const that = getCurrentInstance()?.proxy as Vue as any\n\n        const ToastMixinConstructor = Vue.extend(toastMixin)\n        const toast = new ToastMixinConstructor()\n\n        const { PointExportContinue, PointExportRecharge, PointExportClick } = useExportPointsRepositories()\n\n        const showExportSelectDialog = ref(false)\n        const fullscreenLoading = ref(false)\n        let exportSetting = reactive({\n            exportTimes: -1,\n            currentProject: {\n                id: -1,\n                exportTimes: -1\n            },\n\n            isNoePresetNumber: -1,\n            totalNumber: -1,\n            isRawNumber: -1,\n            needShowSelectPreset: false,\n\n            exportSubDirPath: '',\n            exportDirPath: '',\n            savePath: '',\n            temporaryStoragePath: ''\n        })\n\n        // 套餐不足提示\n        const { showFundLackView } = useRechargeRepositories()\n        const accountFundsLack = (message = '套餐剩余可用张数不足，无法成功导出，请及时充值哦'): void => {\n            store.commit('changeDownloadStatus', { status: true })\n            showFundLackView(message, {\n                onSuccess: () => fullscreenLoading.value = false,\n                onCancel: () => fullscreenLoading.value = false\n            })\n        }\n\n        // 导出逻辑\n        function exportFunc(savePath: string, exportDirName: string, createNewDir: string, project: any): void {\n            let payload = {\n                exportDirPath: savePath,\n                exportDirName: exportDirName,\n                createNewDir: createNewDir,\n                project: project,\n                success(data: any) {\n                    if (data) {\n                        const activeProject = store.getters['project/activeProject']\n                        activeProject.exportTimes = data.exportTimes\n                        DBIpcRender.updateByKeys(PROJECT_TABLE, activeProject, ['exportTimes'])\n                        store.commit('presetSuit/_CLEAR_PALETTE_PRESET_CACHE')\n                        store.commit('project/_UpdateProject', activeProject)\n                    }\n\n                    fullscreenLoading.value = false\n                    eventbus.$emit('export-succeed')\n\n                    const timeout = setTimeout(() => {\n                        toast.tsNotify({\n                            message: '正在导出中，可以在导出列表中查看进度。',\n                            type: 'success'\n                        })\n                        store.commit('changeDownloadStatus', { status: true })\n                        clearTimeout(timeout)\n                    }, 500)\n                },\n                fail(data: any) {\n                    fullscreenLoading.value = false\n                    const timeout = setTimeout(() => {\n                        store.commit('changeDownloadStatus', { status: true })\n\n                        clearTimeout(timeout)\n                    }, 500)\n                    if (data) {\n                        if (data.code === PAY_FUNDS_LACK) {\n                            accountFundsLack()\n                        } else if (data.code === ALLOCATED_PAY_FUNDS_LACK) {\n                            accountFundsLack('剩余可用张数不足，请联系贵司管理员补充张数哦')\n                        } else {\n                            toast.tsNotify({\n                                type: 'error',\n                                message: data.msg\n\n                            })\n                        }\n                    } else {\n                        console.error('exportFunc : ', data)\n                        toast.tsNotify({\n                            type: 'error',\n                            message: '创建导出订单失败，请重试'\n                        })\n                    }\n                }\n            }\n            store.dispatch('asyncPrePay', payload)\n        }\n\n        const onDownloadClick = debounce(async function (savePath, createNewDir) {\n            let totalNumber = exportSetting.totalNumber\n            // let isRawNumber = exportSetting.isRawNumber\n            // let jpgNumber = totalNumber - isRawNumber\n            // let cakeValue = `${ totalNumber }_j${ jpgNumber }_r${ isRawNumber }`\n            // that?.PointExportClick(cakeValue, exportSetting)\n\n            let isOnline = await window.$net.isOnline()\n            if (!isOnline) {\n                toast.tsNotify({\n                    type: 'error',\n                    message: '当前无网络,不支持下载，请检查网络。'\n                })\n                return\n            }\n            fullscreenLoading.value = true\n\n            store.commit('changeDownloadStatus', { status: false })\n            eventbus.$emit('onExportClick')\n\n            try {\n                await store.dispatch('loadVipInfo')\n            } catch (e) {\n                fullscreenLoading.value = false\n                store.commit('changeDownloadStatus', { status: true })\n                toast.tsNotify({\n                    type: 'error',\n                    message: '用户信息获取失败, 确认网络是否稳定'\n                })\n                return\n            }\n\n            let user = that.user\n            if (user) {\n                if (user.leftNum === 0) {\n                    // accountFundsLack()\n                    const timeOut = setTimeout(() => {\n                        // @ts-ignore\n                        exportFunc(savePath, exportSetting.exportSubDirPath, createNewDir, exportSetting.currentProject)\n                        clearTimeout(timeOut)\n                    }, 200)\n\n                } else if ((user.leftNum < totalNumber)) {\n                    const isAllowTopUp = await UserModel.getInstance().getIsAllowTopUp()\n                    const title = `当前套餐剩余${user.leftNum}张，本次导出预计消耗${totalNumber}张，这批照片将无法全部成功导出，`\n\n                    let message = title + '建议您充值后再导出哦~'\n                    if (!isAllowTopUp) {\n                        message = title + (IS_CLIENT_PIX_PIE ? '请联系管理员' : '请联系贵司管理员补充张数哦')\n                    }\n\n                    toast.tsConfirm({\n                        title: message,\n                        cancelButtonText: '继续导出',\n                        confirmButtonText: '马上充值',\n                        showConfirmButton: isAllowTopUp,\n                        closeOnClickModal: false,\n                        distinguishCancelAndClose: true,\n                        beforeClose: function (action: string, instance: any, done: () => void) {\n                            if (action === 'cancel') {\n                                // @ts-ignore\n                                PointExportContinue()\n                                exportFunc(savePath, exportSetting.exportSubDirPath, createNewDir, exportSetting.currentProject)\n                            }\n                            const timeOut = setTimeout(() => {\n                                fullscreenLoading.value = false\n                                store.commit('changeDownloadStatus', { status: true })\n                                clearTimeout(timeOut)\n                            }, 200)\n                            done()\n                        }\n                    }).then(() => {\n                        PointExportRecharge()\n                        fullscreenLoading.value = false\n                        that?.PointMemberPriceClick()\n                        ipcRenderer.send('open-member-plan-window', null)\n                        const timeOut = setTimeout(() => {\n                            store.commit('changeDownloadStatus', { status: true })\n                            clearTimeout(timeOut)\n                        }, 200)\n                    }).catch((action: string) => {\n                    })\n                } else {\n                    const timeOut = setTimeout(() => {\n                        // @ts-ignore\n                        exportFunc(savePath, exportSetting.exportSubDirPath, createNewDir, exportSetting.currentProject)\n                        clearTimeout(timeOut)\n                    }, 200)\n\n                }\n            } else {\n                fullscreenLoading.value = false\n                store.commit('changeDownloadStatus', { status: true })\n                toast.tsNotify({\n                    type: 'error',\n                    message: '用户信息获取失败, 确认网络是否稳定'\n                })\n            }\n        }, 200)\n\n        // 接收所选预设类型并应用预设，然后再导出\n        async function exportSettingCallback(param: any) {\n\n            let [savePath, preItem, createNewDir] = param\n            if (preItem) {\n                const that = getCurrentInstance()?.proxy as Vue as any\n                //应用预设\n                const preSet = preItem[0]\n                let presetVersion = Number(preSet.version)\n                if (presetVersion && presetVersion > CUR_PRESET_VERSION) {\n                    toast.tsConfirm({\n                        title: '系统提示',\n                        message: '需要升级最新版本才能使用该预设哦~',\n                        showCancelButton: false\n                    }).then(() => {\n                    })\n                    return\n                }\n\n                let { isFromRefineTab, refineOrGalleryUUID } = store.getters['exportEffectCfg']\n                //应用预设\n                if (isFromRefineTab) {\n                    // @ts-ignore\n                    await NodeApi.refine.applyAllPreset(refineOrGalleryUUID, {\n                        presetSuitId: preSet.id,\n                        palettePresetId: preSet.palettePresetId,\n                        presetId: preSet.beautifyPresetId\n                    })\n                } else {\n                    // @ts-ignore\n                    await NodeApi.gallery.applyAllPreset(refineOrGalleryUUID, {\n                        presetSuitId: preSet.id,\n                        palettePresetId: preSet.palettePresetId,\n                        presetId: preSet.beautifyPresetId\n                    })\n                }\n\n                // 应用预设后更新页面\n                if (that?.$route.name == 'photoFinishing') {\n                    eventbus.$emit('initloadPhotoFinishing')\n                } else if (that?.$route.name == 'batchRetouch') {\n                    eventbus.$emit('initloadBatchRetouch')\n                }\n\n            }\n            showExportSelectDialog.value = false\n            onDownloadClick(savePath, createNewDir)\n        }\n\n        function onChangeShowExportSelectDialog(val: boolean) {\n            showExportSelectDialog.value = val\n        }\n\n        const readyExport = async (data: string) => {\n            const tmpSetting = {\n                exportTimes: -1,\n                currentProject: {\n                    id: -1,\n                    exportTimes: -1\n                },\n\n                isNoePresetNumber: -1,\n                totalNumber: -1,\n                isJpgNumber: -1,\n                isPngNumber: -1,\n                isRawNumber: -1,\n                isTiffNumber: -1,\n                rawNumberData: '',\n                needShowSelectPreset: false,\n\n                exportSubDirPath: '',\n                exportDirPath: '',\n                savePath: '',\n                temporaryStoragePath: ''\n            }\n\n            const exportResult = await ImageIOManager.getExportSettingData()\n            // @ts-ignore\n            let {\n                exportDirPath,\n                exportSubDirPath,\n                exportTimes,\n                currentProject,\n                needShowSelectPreset,\n                isNoePresetNumber,\n                isJpgNumber,\n                isPngNumber,\n                isRawNumber,\n                isTiffNumber,\n                rawNumberData,\n                totalNumber,\n                selectValidNumber,\n                temporaryStoragePath\n            } = exportResult\n            if (selectValidNumber === 0) {\n                toast.tsNotify({\n                    type: 'error',\n                    message: '请选择有效支持的图片格式进行导出～'\n                })\n                return\n            }\n\n            tmpSetting.exportSubDirPath = exportSubDirPath\n            tmpSetting.exportTimes = exportTimes\n            tmpSetting.exportDirPath = exportDirPath\n            tmpSetting.currentProject = currentProject\n            tmpSetting.temporaryStoragePath = temporaryStoragePath\n\n            // @ts-ignore\n            let configModel = store.state.config.configModel\n            if (configModel) {\n                if (configModel.setDefaultPath) {\n                    tmpSetting.savePath = configModel.defaultSavePath\n                } else {\n                    tmpSetting.savePath = exportDirPath\n                }\n            }\n\n            tmpSetting.needShowSelectPreset = needShowSelectPreset\n            tmpSetting.isNoePresetNumber = isNoePresetNumber\n            tmpSetting.totalNumber = totalNumber\n            tmpSetting.isJpgNumber = isJpgNumber\n            tmpSetting.isPngNumber = isPngNumber\n            tmpSetting.rawNumberData = rawNumberData\n            tmpSetting.isTiffNumber = isTiffNumber\n\n            let effectCount = totalNumber - isNoePresetNumber\n\n            let rowData = ''\n            let rowParam = JSON.parse(tmpSetting.rawNumberData)\n            const param = rowParam.rowType\n            for (const item of param) {\n                rowData += item.type + '_' + item.times + '\\n'\n            }\n            if (rowData == '') {\n                rowData = 'CR2_0\\n'\n            }\n            let clickData = {\n                cake_position: data,\n                cake_value: totalNumber + '_' + data + '\\nJPEG_' + isJpgNumber + '\\nPNG_' + isPngNumber + '\\n' + rowData + 'TIFF_' + isTiffNumber,\n                cake_feature: totalNumber + '_xgt' + effectCount + '_yt' + isNoePresetNumber\n            }\n            PointExportClick(clickData)\n\n            Object.assign(exportSetting, tmpSetting)\n\n            // 配置导出的相关设置\n            showExportSelectDialog.value = true\n\n        }\n\n        return {\n            showExportSelectDialog,\n            fullscreenLoading,\n            exportSetting,\n\n            exportSettingCallback,\n            onChangeShowExportSelectDialog,\n            readyExport\n        }\n    }\n}\n","<template>\n    <div class=\"header global__top-nav border-line-style\">\n        <template v-if=\"leftBtnSlot\">\n            <slot name=\"left-btn\"></slot>\n        </template>\n\n        <template v-else>\n            <div class=\"left-func-container\">\n                <el-button\n                    size=\"mini\"\n                    :disabled=\"getIconDisabled\"\n                    @click=\"onClickHome\"\n                    class=\"return-home-btn\">\n                    <img v-if=\"getIconDisabled\" :src=\"$getIconPath('nav_icon_workbench_disabled@3x.png')\" alt=\"\"\n                         class=\"return-icon\">\n                    <i v-else class=\"el-icon-s-home return-icon\"></i>\n\n                </el-button>\n\n                <template v-if=\"['batchRetouch','photoFinishing'].includes(routeName)\">\n                    <template v-if=\"$platform === 'darwin'\">\n                        <div class=\"addFileWrapCla\">\n                            <el-button\n                                size=\"mini\"\n                                class=\"addFileCla\"\n                                icon=\"el-icon-plus\"\n                                :disabled=\"getIconDisabled\"\n                                v-gtag-event=\"PointAddSecond\"\n                                @click=\"[\n                                        cancelBlur($event),\n                                        onCommand('onImportFileAndDir')\n                                    ]\">\n                            </el-button>\n                        </div>\n                    </template>\n\n                    <template v-if=\"$platform !== 'darwin' && !getIconDisabled\">\n                        <el-dropdown\n                            hide-on-click\n                            class=\"dropDownCla\"\n                            placement=\"bottom-start\"\n                            @visible-change=\"onAddFileVisible\"\n                            @command=\"onCommand\">\n\n                            <div class=\"addFileWrapCla\">\n                                <el-button\n                                    size=\"mini\"\n                                    class=\"addFileCla\"\n                                    :disabled=\"getIconDisabled\"\n                                    icon=\"el-icon-plus\">\n                                </el-button>\n                            </div>\n\n                            <el-dropdown-menu slot=\"dropdown\">\n                                <el-dropdown-item\n                                    command=\"onImportFile\"\n                                    v-gtag-event=\"PointAddSecond\">\n                                    <div>导入图片</div>\n                                </el-dropdown-item>\n\n                                <el-dropdown-item\n                                    divided\n                                    command=\"onImportDir\"\n                                    v-gtag-event=\"PointAddSecond\">\n                                    <div>导入文件夹</div>\n                                </el-dropdown-item>\n                            </el-dropdown-menu>\n                        </el-dropdown>\n                    </template>\n                </template>\n            </div>\n        </template>\n\n\n\n        <!-- 菜单列表 -->\n        <div class=\"center-func-container menu\">\n            <template v-for=\"(menu,index) in menuList\">\n                <div\n                    v-show=\"showFunc(menu)\"\n                    class=\"item\"\n                    :title=\"menu.name\"\n                    :key=\"menu.routeName+index\"\n                    :class=\"{\n                        'active': menu.isActive,\n                        'disabled': menu.disabled\n                    }\"\n                    @click=\"menu.disabled ? menu.disableFunc()\n                        : onRouterPush(menu.routeName,{\n                        })\"\n                >\n                    <!-- <img :src=\"menu.isActive ? menu.activeIcon : menu.icon\"/> -->\n                    <span class=\"menu-title\">{{ menu.subTitle }}</span>\n                </div>\n            </template>\n        </div>\n\n        <div class=\"right-func-container menu\">\n            <!-- 下载 -->\n            <nav-entry-group\n                dark-vip\n                :nav-list=\"['debug','manual-import', 'export-btn', 'gift', 'divider', 'export', 'userinfo', 'divider', 'help', 'set', 'divider', 'vip']\">\n                <template slot=\"export-btn\">\n                    <div class=\"guideClass6\">\n                        <el-button\n                            v-show=\"hasDownloadPermission\"\n                            type=\"primary\"\n                            class=\"item download-btn\"\n                            :disabled=\"canDownload\"\n                            :class=\"{ 'active': hasDownloadActiveStyle }\"\n                            @click=\"onDownloadIconClick\">\n                            <img :src=\"downloadImgUrl\" alt=\"\">\n                            导出图片\n                        </el-button>\n                    </div>\n                </template>\n\t\t\t\t<template slot=\"manual-import\" v-if=\"canShowManualImportButton\"><el-button type=\"primary\" class=\"claManualImportBtn\" @click=\"onManualImportClick\">载入图片</el-button></template>\n            </nav-entry-group>\n        </div>\n\n        <ExportSettingDialog\n            v-if=\"hasDownloadPermission\"\n            v-model=\"showExportSelectDialog\"\n            @exportSettingCallback=\"exportSettingCallback\"\n            @changeShowExportSelectDialog=\"onChangeShowExportSelectDialog\"\n            :export-setting-data=\"exportSetting\"\n        />\n    </div>\n</template>\n\n<script>\n\nimport { mapGetters, mapActions, mapMutations } from 'vuex'\nimport ipcRenderer from '@/qt-ipc/Ipc-renderer'\n\nimport { throttle, debounce } from 'lodash'\n\nimport { LOGO_RELATIVE_PATH } from '@/constants/config'\nimport toast from '@/mixins/toast'\nimport button from '@/mixins/button'\n\nimport eventbus from '@/utils/eventbus'\nimport { TSImageIOManager } from '@/utils/tsImageIOManager'\nimport ThumbnailModel from '@/model/ThumbnailModel'\n\nimport { Button } from 'element-ui'\n\nimport pointsMixin from '@/mixins/pointsMixin'\nimport exportMixin from '@/mixins/export-mixin'\nimport noviceGuideMixin from '@/mixins/noviceGuideMixin'\nimport NavEntryGroup from '@/views/Layout/components/NavEntryGroup'\nimport {QtEventFilter, QtEventFilterType} from \"@/utils/QtEventFilter\";\nimport {IS_CLIENT_PixCake_EXPO} from \"@/universal/types/config\";\nimport LocalConfigModel from \"@/universal/model/LocalConfigModel\";\nimport fs from \"@/qt-ipc/fs\";\n\nexport default {\n    name: 'FuncHeader',\n    components: {\n        'el-button': Button,\n        NavEntryGroup\n    },\n    mixins: [toast, button, pointsMixin, noviceGuideMixin, exportMixin],\n    data() {\n        return {\n            LOGO_RELATIVE_PATH,\n            leftBtnSlot: false,\n            showHotKey: false,\n            showImportPopPannel: false,\n            showChoosePresetDialog: false,\n            selectedTotal: 0,\n            showGpuSwitchSetting: false,\n            isShowFundLackTip: false\n        }\n    },\n    watch: {\n        showVipPriceDialog(val) {\n            if (val === true && !['photoFinishing'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_member_price', {\n                    cake_operate: 'init_gallery'\n                })\n            } else if (val === true && ['photoFinishing'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_member_price', {\n                    cake_operate: 'init_refine'\n                })\n            }\n        },\n        showExportSelectDialog(val) {\n\n        }\n    },\n    computed: {\n        ...mapGetters(['isVip', 'user', 'getIconDisabled']),\n        showPaySuccess: {\n            get() {\n                return this.$store.state.order.showPaySuccess\n            },\n            set() {\n\n            }\n        },\n        ...mapGetters('config', [\n            'isDebugEnv',\n\t\t\t'canShowManualImportButton'\n        ]),\n\n        ...mapGetters('thumbnail', [\n            'getThumbnails'\n        ]),\n\n        ...mapGetters('project', [\n            'activeProjectId',\n            'lastProjectUpdateTime'\n        ]),\n\n        ...mapGetters('export', [\n            'exportEffectCfg'\n        ]),\n        avatarUrl() {\n            return require('@/assets/icons/dark/nav_icon_avatar@3x.png')\n        },\n        downloadImgUrl() {\n            if (this.hasDownloadActiveStyle) {\n                return require('@/assets/icons/dark/nav_icon_export1@3x.png')\n            } else {\n                return require('@/assets/icons/dark/nav_icon_export2@3x.png')\n            }\n        },\n\n\n        exportNumber() {\n            return this.$store.state.export.exportNumber\n        },\n\n        hasDownloadPermission() {\n            return this.$store.state.permission.hasDownloadPermission\n        },\n\n        canDownload() {\n            if (this.getIconDisabled) {\n                return true\n            }\n            return !this.$store.state.export.isDownloadFree\n        },\n\n        hasDownloadActiveStyle() {\n            if (this.getIconDisabled) {\n                return false\n            }\n            return this.$store.state.permission.hasDownloadActive\n        },\n\n        needShowTemplateDetail() {\n            return this.$store.state.applyTemplate.onShowEditView\n        },\n\n        routeName() {\n            console.log(`FuncHeader route.name`, this.$route.name)\n            return this.$route.name\n        },\n        routeParam() {\n            return this.$route.query\n        },\n        menuList() {\n            if (['photoFinishing', 'batchRetouch'].includes(this.routeName)) {\n                return [\n                    {\n                        name: '图库',\n                        subTitle: '图库',\n                        routeName: 'batchRetouch',\n                        // disabled: true,\n                        icon: this.$getIconPath('nav_icon_color_adjustment@3x.png'),\n                        activeIcon: this.$getIconPath('nav_icon_color_adjustment@3x.png'),\n                        isActive: this.routeName === 'batchRetouch'\n                        // disableFunc: this.showRawTips\n                    },\n                    {\n                        name: '精修',\n                        subTitle: '精修',\n                        routeName: 'photoFinishing',\n                        icon: this.$getIconPath('nav_icon_beautify@3x.png'),\n                        activeIcon: this.$getIconPath('nav_icon_beautify@3x.png'),\n                        isActive: this.routeName === 'photoFinishing'\n                    }\n                ]\n            } else {\n                return []\n            }\n        },\n\n        rightMenuList() {\n\n            return [\n                {\n                    name: '批量调色',\n                    routeName: 'batchRetouchColor',\n                    disabled: true,\n                    icon: this.$getIconPath('nav_icon_color_adjustment@3x.png'),\n                    activeIcon: this.$getIconPath('nav_icon_color_adjustment@3x.png'),\n                    isActive: this.routeName === 'batchRetouchColor',\n                    disableFunc: this.showRawTips\n                }\n            ]\n\n        }\n    },\n    beforeDestroy() {\n        eventbus.$off('guide6Init', null)\n        ipcRenderer.removeAllListeners('onCloseClick')\n    },\n\n    mounted() {\n\t\tthis.SetCanShowManualImportButton()\n        if (this.$slots['left-btn']) {\n            this.leftBtnSlot = true\n        }\n        ipcRenderer.on('onCloseClick', () => {\n            let updateTime = this.lastProjectUpdateTime\n            if (updateTime) {\n                this.ACT_UpdateProject({\n                    id: this.activeProjectId,\n                    modify: {\n                        update_time: +updateTime,\n                        visit_time: +new Date()\n                    }\n                })\n                this._SetLastProjectUpdateTime(null)\n            }\n        })\n\n        eventbus.$on('guide6Init', debounce(() => {\n            this.showGuide(6, 'guideClass6')\n        }, 20))\n    },\n\n    methods: {\n        ...mapMutations(['setIsFromAppend', 'clearExportTask']),\n        ...mapMutations('thumbnail', ['_SetActiveThumbnail']),\n        ...mapMutations('project', ['_ClearProjectData', '_SetLastProjectUpdateTime', '_UpdateProject']),\n        ...mapMutations('config', ['_SetIsShowNoviceGuide','SetCanShowManualImportButton']),\n\n        ...mapActions(['ExitLogin']),\n        ...mapActions('project', ['ACT_UpdateProject']),\n\t\tonManualImportClick: debounce(async function () {\n\t\t\tconst config = LocalConfigModel.getInstance().exhibitionConfig\n\t\t\tif (!await fs.existsSync(config.importPath)){\n\t\t\t\tthis.tsNotify('导入的路径不存在，请重新设置')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.getEventBus().$emit(\"onManualImportClick\",[config.importPath])\n\t\t}, 500),\n        onShowVipPriceDialogClick: debounce(function () {\n            this.PointMemberPriceClick()\n            ipcRenderer.send('open-member-plan-window', null)\n\n        }, 500),\n\n        logout: debounce(function () {\n            this.ExitLogin()\n            this.clearExportTask()\n            this.$router.replace({ name: 'Login' })\n            this.$tsStat?.logout()\n        }, 200),\n        onAddFileVisible(visible){\n            let filter = new QtEventFilter()\n            filter.process([QtEventFilterType.Mouse],!visible)\n        },\n        async getUserInfo() {\n            if (['photoFinishing'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_avatar', {\n                    cake_operate: `init_refine_${this.isVip === 1 ? 'member' : 'non_member'}`\n                })\n            } else if (['exportList'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_avatar', {\n                    cake_operate: `init_export_list_${this.isVip === 1 ? 'member' : 'non_member'}`\n                })\n            } else {\n                this.$tsStat?.event('cake_avatar', {\n                    cake_operate: `init_gallery_${this.isVip === 1 ? 'member' : 'non_member'}`\n                })\n            }\n        },\n\n\n        getEventBus() {\n            return eventbus\n        },\n\n        onClickHome() {\n            if (['photoFinishing'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_refine', {\n                    cake_operate: 'click_home'\n                })\n\n            } else {\n                this.$tsStat?.event('cake_gallery', {\n                    cake_operate: 'click_home'\n                })\n            }\n            eventbus.$emit('onBackToHome')\n            this.$router.push({ name: 'index' })\n            let updateTime = this.lastProjectUpdateTime\n            if (updateTime) {\n                this.ACT_UpdateProject({\n                    id: this.activeProjectId,\n                    modify: {\n                        update_time: +updateTime,\n                        visit_time: +new Date()\n                    }\n                })\n                this._SetLastProjectUpdateTime(null)\n            }\n        },\n\n        onCommand(event) {\n            console.log(`onCommand dropdown`, event)\n            let argsMap = {\n                'onImportFile': ['openFile'],\n                'onImportDir': ['openDirectory'],\n                'onImportFileAndDir': ['openFile', 'openDirectory']\n            }\n            this.getEventBus().$emit('onNavImportImage', argsMap[event])\n        },\n\n        showRawTips: throttle(function () {\n            const message = 'RAW调色功能开发中，敬请期待哦~'\n            this.tsNotify({\n                type: 'info',\n                message\n            })\n        }, 300, {\n            leading: true\n        }),\n\n        showFunc(item) {\n            switch (item.routeName) {\n                case 'batchRetouch':\n                case 'photoFinishing': {\n                    // let thumbs = this.$store.state.thumbnail.thumbnails;\n                    // return thumbs != null && thumbs.length > 0\n                    return true\n                }\n                default:\n                    return true\n            }\n        },\n\n        onRouterPush: debounce(async function (name, routeParam) {\n            if (name === this.routeName) {\n                return false\n            }\n            // let isBatchPage = this.routeName == 'batchRetouch'\n            // if (this.routeName === name && !isBatchPage) return\n            // if (isBatchPage && routeParam && this.routeParam.activeMode == routeParam.activeMode) {\n            //     return\n            // }\n            if (name === 'photoFinishing') {\n                this.routerPushPhotoFinishing()\n            } else {\n                if (this.getIconDisabled) {\n                    return\n                }\n                // if (routeParam) {\n                //     this.$router.push({ name, query: { index: this.$route.query.index, ...routeParam } })\n                //     this.$tsStat?.event(routeParam.activeMode==0?'color_tab':'beauty_tab',{\n                //         cake_position:'batch_beauty',\n                //     })\n                // } else {\n                //     this.$router.push({ name, query: { index: this.$route.query.index } })\n                // }\n                this.$router.push({ name, query: { index: this.$route.query.index } })\n            }\n        }, 300),\n\n\n        /**\n         * 跳转到精修界面\n         */\n        routerPushPhotoFinishing() {\n\n            let queue = TSImageIOManager.shareInstance().imageViewModelQueue\n            if (queue == null || queue.size === 0) {\n                this.$router.push({\n                    path: 'photoFinishing',\n                    query: {}\n                })\n                return\n            }\n            let arrayObj = Array.from(queue)\n            arrayObj = arrayObj.sort(function (a, b) {\n                return a[1].imgIndex - b[1].imgIndex\n            })\n            let thumbIt = null\n            for (const queueElement of arrayObj) {\n                if (queueElement[1].isImportantSelected) {\n                    thumbIt = queueElement[1]\n                    break\n                }\n            }\n            if (thumbIt == null) {\n                thumbIt = arrayObj[0][1]\n            }\n\n            let thumbData = new ThumbnailModel()\n            thumbData.userId = this.$store.state.user.userId\n            thumbData.projectId = this.activeProjectId\n            thumbData.originalImagePath = thumbIt.imgPath\n\n            this._SetActiveThumbnail({\n                imgPath: thumbIt.imgPath,\n                imgIndex: thumbIt.imgIndex\n            })\n\n            this.$router.push({\n                path: 'photoFinishing',\n                query: {}\n            })\n        },\n\n        onDownloadIconClick() {\n            this.guideQuit('guideClass6')\n            // 新手引导-最后一步结束后关闭引导\n            this._SetIsShowNoviceGuide(false)\n\n            let sender = ''\n            if (['photoFinishing'].includes(this.routeName)){\n                sender = 'refine'\n            }else{\n                sender = 'gallery'\n            }\n\n            const goNext = () => this.readyExport(sender)\n\n            // this.$root.checkDiskSpaceIfNeed(() => {\n            goNext()\n            // }).then(isNoSpace => {\n            //     if (!isNoSpace) {\n            //         goNext()\n            //     }\n            // })\n        },\n\n        onAddFileClick() {\n            this.setIsFromAppend(true)\n            this.$router.push({\n                path: 'importImage',\n                params: null\n            })\n        },\n\n        exportlistBack() {\n            if (!['photoFinishing'].includes(this.routeName)) {\n                this.$tsStat?.event('cake_export_list', {\n                    cake_operate: 'return'\n                })\n            } else {\n                // this.$tsStat?.event('cake_refine',{\n                //     cake_operate:'return',\n                // })\n            }\n            this.$router.go(-1)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n    position: relative;\n    width: 100%;\n    height: 48px !important;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    box-sizing: border-box;\n    border-bottom-width: 1px;\n    border-style: solid;\n\n    .left-func-container {\n        height: 56px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        font-size: 14px;\n        flex: 1;\n        position: relative;\n        padding-left: 16px;;\n\n        .return-home-btn {\n            position: relative;\n            left: 0;\n            top: 0;\n            display: flex;\n            padding: 5px;\n            align-items: center;\n            opacity: .8;\n            justify-content: center;\n            border-radius: 4px;\n            background: #4d4d4d;\n            cursor: default;\n            font-size: 13px;\n\n            &.el-button:hover, &.el-button:focus {\n                background: #4d4d4d;\n                opacity: 1;\n                color: #fff;\n            }\n\n            .return-icon {\n                width: 16px;\n                height: 16px;\n                font-size: 16px;\n                vertical-align: text-top;\n\n                img {\n                    width: 16px;\n                    height: 16px;\n                }\n            }\n\n            .label {\n                margin: 0 4px 0 0px;\n            }\n        }\n\n        .addFileWrapCla {\n            margin-left: 20px;\n\n            .addFileCla {\n                background: #4d4d4d;\n                padding: 7px 10px;\n                border-radius: 4px;\n                //cursor: default;\n                opacity: .8;\n\n                &.el-button:hover, &.el-button:focus {\n                    background: #4d4d4d;\n                    opacity: 1;\n                    color: #fff;\n                }\n            }\n        }\n    }\n\n    .menu {\n        flex: 1;\n        position: relative;\n\n        .claGift {\n            width: 20px;\n            height: 20px;\n            object-fit: fill;\n            margin-right: 8px;\n            margin-left: 6px;\n\n            :hover {\n                opacity: 0.6;\n            }\n        }\n\n        .item {\n            width: 75px;\n            height: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            opacity: 0.8;\n\n            img {\n                width: 20px;\n            }\n\n            .bottom-line {\n                visibility: hidden;\n            }\n\n            &.active {\n                opacity: 1;\n\n                .bottom-line {\n                    position: absolute;\n                    bottom: 0;\n                    width: 48px;\n                    border-bottom: 2px;\n                    border-style: solid;\n                    border-color: rgba(255, 255, 255, 0.8);\n                    visibility: visible;\n                }\n            }\n\n            &:not(.disabled):hover {\n                opacity: 1;\n            }\n\n            //.item-export {\n            //    width: 75px;\n            //    height: 20px;\n            //    display: block;\n            //    position: relative;\n            //    text-align: center;\n            //    //img{\n            //    //    position: absolute;\n            //    //    top: 0;\n            //    //    left: calc(50% - 10px);\n            //    //    z-index: 1;\n            //    //}\n            //\n            //    .export-task-num {\n            //        position: absolute;\n            //        top: 10px;\n            //        right: 5px;\n            //        min-width: 8px;\n            //        padding: 0px 2px;\n            //        font-weight: normal;\n            //        font-size: 9px;\n            //        color: black;\n            //        text-align: center;\n            //        text-shadow: 0 1px rgba(0, 0, 0, 0.2);\n            //        background: #F5D228;\n            //        border: 1px solid #F5D228;\n            //        border-radius: 6px;\n            //        z-index: 2;\n            //    }\n            //}\n\n            .setting-icon {\n                margin-top: 3px;\n                width: 20px;\n                height: 20px;\n                opacity: 0.8;\n\n                &:hover {\n                    opacity: 1;\n                }\n            }\n        }\n    }\n\n    .center-func-container {\n        height: 100%;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n\n        &.menu {\n            .item {\n                // width: 82px;\n                // height: 28px;\n                // opacity: 0.4;\n                // background: #454545;\n                position: relative;\n                width: 40px;\n                color: rgba(255, 255, 255, 0.45);\n                margin: 0 16px;\n\n                &.active {\n                    color: #FFFFFF;\n\n                    &::after {\n                        border-bottom: 2px solid #EECC28;\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        right: 0;\n                        width: 100%;\n                        display: block;\n                        content: ' ';\n                    }\n                }\n\n                //&:not(.disabled):hover {\n                //    opacity: 0.8;\n                //\n                //}\n\n                .menu-title {\n                    // margin-left: 1px;\n                    font-size: 15px;\n                }\n            }\n\n            :first-child {\n                border-top-left-radius: 4px;\n                border-bottom-left-radius: 4px;\n            }\n\n            :last-child {\n                border-top-right-radius: 4px;\n                border-bottom-right-radius: 4px;\n            }\n        }\n    }\n\n    .right-func-container {\n        height: 100%;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: flex-end;\n        padding-right: 20px;\n\n        .debug-icon {\n            width: 30px;\n            height: 30px;\n            margin-right: 20px;\n            display: inline-block;\n        }\n\n\t\t.claManualImportBtn{\n\t\t\tbackground: #f5d228 !important;\n\t\t\tborder-radius: 16px;\n\t\t\tpadding: 4px 8px;\n\t\t\tmargin-right: 20px;\n\t\t\tmax-height: 32px;\n\t\t}\n\n        &.menu {\n\n            .item {\n                width: 34px;\n                height: 36px;\n                position: relative;\n\n                .icon {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 5px;\n\n                    .img {\n                        pointer-events: none;\n                        height: 16px;\n                    }\n                }\n\n                .export-task-num {\n                    position: absolute;\n                    bottom: 6px;\n                    right: 5px;\n                    min-width: 8px;\n                    padding: 0px 2px;\n                    font-weight: normal;\n                    font-size: 9px;\n                    color: black;\n                    text-align: center;\n                    text-shadow: 0 1px rgba(0, 0, 0, 0.2);\n                    background: #F5D228;\n                    border: 1px solid #F5D228;\n                    border-radius: 6px;\n                    z-index: 2;\n                }\n\n                &.download-btn {\n                    width: 82px;\n                    height: 28px;\n                    margin-right: 10px;\n                    background: #4d4d4d;\n                    border-radius: 4px;\n                    border-color: #4d4d4d;\n                    opacity: 1.0;\n                    color: #ffffff;\n                    font-size: 12px;\n                    line-height: 28px;\n\n                    img {\n                        width: 12px;\n                        vertical-align: middle;\n                    }\n                }\n\n                &.active {\n                    background: #F5D228;\n                    border-color: #F5D228;\n                    color: #2f2f2f;\n                }\n\n\n            }\n\n            /deep/ .el-button--small, {\n                background: none;\n                border: none;\n            }\n\n            ///deep/.el-button--small:hover,{\n            //    background: none;\n            //    border: none;\n            //}\n\n            .vip-plan {\n                position: relative;\n                background: #28282A;\n                border-radius: 4px;\n                height: 27px;\n                width: 70px;\n                border: solid 0px #F5D228;\n                padding: 7px 10px;\n                box-sizing: border-box;\n\n                &::after {\n                    position: absolute;\n                    right: 0;\n                    bottom: 0;\n                    display: inline-block;\n                    content: ' ';\n                    border-width: 1px;\n                    border-style: solid;\n                    border-radius: 8px;\n                    border-color: inherit;\n                    transform: scale(.5);\n                    left: -50%;\n                    top: -50%;\n                    width: 200%;\n                    height: 200%;\n                }\n\n                .vip-text {\n                    color: #F5D228;\n                    margin-top: 2px;\n                }\n\n                /deep/ .el-button--small:hover, {\n                    background: none;\n                    border: none;\n                }\n\n            }\n        }\n\n        .more {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .avatar-box {\n            width: 34px;\n            height: 56px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n\n            &-vipIcon {\n                position: absolute;\n                width: 14px;\n                right: 1px;\n                bottom: 14px;\n            }\n\n            .avatar-vip {\n                width: 20px;\n                height: 20px;\n                margin-top: -2px;\n                background-color: #28282A;\n            }\n\n            .avatar {\n                width: 20px;\n                height: 20px;\n                background-color: #28282A;\n            }\n\n            /deep/ .el-button--small, {\n                background: none;\n                border: none;\n            }\n        }\n\n        .avatar-box /deep/ .el-button--small:hover,\n        .disabled /deep/ .el-button--small:hover, {\n            background: none;\n            border: none;\n        }\n    }\n\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuncHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FuncHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FuncHeader.vue?vue&type=template&id=188ceb43&scoped=true&\"\nimport script from \"./FuncHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./FuncHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FuncHeader.vue?vue&type=style&index=0&id=188ceb43&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"188ceb43\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent as _defineComponent } from 'vue'\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue'\nimport store from '@/store'\n\nimport { QtEventFilter, QtEventFilterType } from '@/utils/QtEventFilter'\nimport { dialogIpc, SHOW_PRESET_SETTING } from '@/qt-ipc/dialog/DialogIpcImpl'\n\n// @ts-ignore\nimport FuncHeader from '../components/Headers/FuncHeader'\n// @ts-ignore\nimport SyncPresetSettings from '@/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings'\n\n\n// 是否禁用头部按钮\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProjectLayout',\n  setup(__props) {\n\nconst isDisableHeadView = computed(() => !!(store.getters['refine/isDisableHeadView']))\n\n// 导出时候，loading，需要屏蔽键盘、鼠标事件\n// @ts-ignore\nconst exportTip = computed(() => store.state.export.exportLoadingProgress)\n// @ts-ignore\nconst showExportLoading = computed(() => !store.state.export.isDownloadFree)\nwatch(showExportLoading, (value: boolean) => {\n    new QtEventFilter().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], !value)\n})\n\n// 预设同步设置\nconst refineUUID = computed(() => store.getters['project/refineUUID'])\nconst syncPresetSettingsRefs = ref()\nonMounted(() => {\n    dialogIpc.addListener(SHOW_PRESET_SETTING, () => {\n        console.debug('SHOW_PRESET_SETTING', syncPresetSettingsRefs.value)\n        nextTick(() => syncPresetSettingsRefs.value?.show())\n    })\n})\nonUnmounted(() => dialogIpc.removeListener(SHOW_PRESET_SETTING))\n\nreturn { __sfc: true,isDisableHeadView, exportTip, showExportLoading, refineUUID, syncPresetSettingsRefs, FuncHeader, SyncPresetSettings }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectLayout.vue?vue&type=script&lang=ts&setup=true&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectLayout.vue?vue&type=script&lang=ts&setup=true&\"","import { render, staticRenderFns } from \"./ProjectLayout.vue?vue&type=template&id=7878bad0&scoped=true&\"\nimport script from \"./ProjectLayout.vue?vue&type=script&lang=ts&setup=true&\"\nexport * from \"./ProjectLayout.vue?vue&type=script&lang=ts&setup=true&\"\nimport style0 from \"./ProjectLayout.vue?vue&type=style&index=0&id=7878bad0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7878bad0\",\n  null\n  \n)\n\nexport default component.exports","import {CLIENT_NAME} from \"@/universal/types/config\";\n\nexport const noviceGuide = {\n    totalStep: 6,\n    step1: {\n        text: `试试直接拖拽文件夹或多张图片到这里，开始探索${CLIENT_NAME}吧~`,\n        num: 1\n    },\n    step2: {\n        text: '点击应用预设',\n        num: 2\n    },\n    step3: {\n        text: '拖动滑杆调整图片',\n        num: 3\n    },\n    step4: {\n        text: '按住shift选中图片',\n        num: 4\n    },\n    step5: {\n        text: '将当前调整应用至选中图片',\n        num: 5\n    },\n    step6: {\n        text: '不需要等待全部效果加载完毕，就可以直接导出',\n        num: 6\n    }\n}\n","//@ts-ignore\nimport Vue from 'vue'\nimport { noviceGuide } from '@/constants/noviceGuide'\n// @ts-ignore\nimport toast from '@/mixins/toast'\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\nimport DBIpcRender from '@/irender/DBIpcRender'\n// @ts-ignore\nimport { find } from '@/universal/datastore/dictionaryDao'\nimport { APP_VERSION } from '@/universal/types/config'\nimport pointsMixin from '@/mixins/pointsMixin'\n\nimport {\n    DICTIONARY_TABLE,\n    SHOWED_NOVICE_GUIDE\n} from '@/universal/types/config'\n\nclass noviceGuideUtil {\n    actionableStyle: string\n    bgStyle: string\n    myBg: any\n\n\n    constructor() {\n        this.actionableStyle = 'background: transparent;z-index: 501;position: relative;'\n        this.bgStyle = 'background: #000;width: 100%;height: 100%;position: absolute;top: 0;left: 0;z-index: 500;opacity: 0.4;filter: Alpha(opacity=30)'\n    }\n\n    /**\n     * 默认遮罩层（bgStyle）\n     */\n    addMask() {\n        this.myBg = <HTMLImageElement>document.createElement('div')\n        this.myBg.setAttribute('style', this.bgStyle)\n        document.body.appendChild(this.myBg)\n    }\n\n    addActionable(className: string) {\n        let myAlert = document.getElementsByClassName(className)[0]\n        myAlert ? myAlert.setAttribute('style', this.actionableStyle) : ''\n    }\n\n    removeMask() {\n        document.body.removeChild(this.myBg)\n    }\n\n\n    showGuide(step: any, className: string) {\n        this.addActionable(className)\n    }\n\n    close() {\n        this.removeMask()\n    }\n}\n\ninterface iData {\n    step: number,\n    guidMask: any,\n    tempDiv: any,\n}\n\n// template（工作台）\nconst tempStep1 = Vue.extend({\n    template: `<div class=\"tempStep1\"><div style=\"width:296px\" class=\"tempStep_textBox\"><p>${ noviceGuide.step1.text }</p><span id=\"guideQuit\">退出(${ noviceGuide.step1.num }/${ noviceGuide.totalStep })</span></div></div>`\n})\n// template（点击运用预设）\nconst tempStep2 = Vue.extend({\n    template:\n        `<div class=\"tempStep2\">\n        <div style=\"width:136px\" class=\"tempStep_textBox\">\n            <p>${ noviceGuide.step2.text }</p>\n            <span id=\"guideQuit\">退出(${ noviceGuide.step2.num }/${ noviceGuide.totalStep })</span>\n        </div>\n        <span class=\"tempStep2-line\"></span>\n        <span class=\"tempStep2-dotted\"></span>\n        <span class=\"tempStep2-circle\"></span>\n    </div>`\n})\n// template（拖动滑杆调整）\nconst tempStep3 = Vue.extend({\n    template:\n        `<div class=\"tempStep3\">\n        <div style=\"width:168px\" class=\"tempStep_textBox\">\n            <p>${ noviceGuide.step3.text }</p>\n            <span id=\"guideQuit\">退出(${ noviceGuide.step3.num }/${ noviceGuide.totalStep })</span>\n        </div>\n        <span class=\"tempStep3-line\"></span>\n        <span class=\"tempStep3-dotted\"></span>\n        <span class=\"tempStep3-circle\"></span>\n    </div>`\n})\n// template（精修左侧图片列表多选）\nconst tempStep4 = Vue.extend({\n    template:\n        `<div class=\"tempStep4\">\n        <span class=\"tempStep4-circle\"></span>\n        <span class=\"tempStep4-line\"></span>\n        <span class=\"tempStep4-dotted\"></span>\n        <div style=\"width:170px\" class=\"tempStep_textBox\">\n            <p>${ noviceGuide.step4.text }</p>\n            <span id=\"guideQuit\">退出(${ noviceGuide.step4.num }/${ noviceGuide.totalStep })</span>\n        </div>\n    </div>`\n})\n// template（同步到选中图片）\nconst tempStep5 = Vue.extend({\n    template:\n        `<div class=\"tempStep5\">\n        <div style=\"width:232px\" class=\"tempStep_textBox\">\n            <p>${ noviceGuide.step5.text }</p>\n            <span id=\"guideQuit\">退出(${ noviceGuide.step5.num }/${ noviceGuide.totalStep })</span>\n        </div>\n        <span class=\"tempStep5-line\"></span>\n        <span class=\"tempStep5-dotted\"></span>\n        <span class=\"tempStep5-circle\"></span>\n\n    </div>`\n})\n// template（导出图片）\nconst tempStep6 = Vue.extend({\n    template:\n        `<div class=\"tempStep6\">\n        <span class=\"tempStep6-circle\"></span>\n        <span class=\"tempStep6-dotted\"></span>\n        <span class=\"tempStep6-line\"></span>\n        <div style=\"width:264px\" class=\"tempStep_textBox\">\n            <p>${ noviceGuide.step6.text }</p>\n            <span id=\"guideQuit\">退出(${ noviceGuide.step6.num }/${ noviceGuide.totalStep })</span>\n        </div>\n    </div>`\n})\n\nexport default {\n\n\n    data(): iData {\n        return {\n            step: 1,\n            guidMask: null,\n            tempDiv: null\n        }\n    },\n    mixins: [\n        toast,\n        pointsMixin\n    ],\n    mounted() {\n    },\n\n    computed: {\n        ...mapGetters('config', [\n            'isShowNoviceGuide'\n        ])\n    },\n\n\n    methods: {\n\n        ...mapMutations('config', [\n            '_SetIsShowNoviceGuide',\n            '_SetGuideStep'\n        ]),\n\n\n        showGuide(step: any, className: string) {\n            // @ts-ignore\n            this.step = step\n            // @ts-ignore\n            this.$nextTick(async _ => {\n                // @ts-ignore\n                if (this.isShowNoviceGuide) {\n                    // 当前步骤存储\n                    this._SetGuideStep(step)\n                    // @ts-ignore\n                    this.PointInitGuide(step)\n                    const res = await find(SHOWED_NOVICE_GUIDE)\n                    if (!res) {\n                        await DBIpcRender.insertToDB(DICTIONARY_TABLE, {\n                            keyword: SHOWED_NOVICE_GUIDE,\n                            value: APP_VERSION\n                        })\n                    }\n\n                    const guidMask = new noviceGuideUtil()\n                    // @ts-ignore\n                    this.guidMask = guidMask\n                    guidMask.addMask()\n                    guidMask.showGuide(step, className)\n                    this.commonMountFunc(step, className)\n                    const quiteNode = document.getElementById('guideQuit')\n                    // @ts-ignore\n                    quiteNode ? quiteNode.addEventListener('click', e => {\n                        this.allGuideQuit(step, className)\n                    }) : ''\n                }\n\n            })\n        },\n\n        /**\n         * 自定义挂载\n         */\n        commonMountFunc(step: number, className: any) {\n            const tempDiv = <HTMLImageElement>document.createElement('div')\n            tempDiv.setAttribute('id', `${ className }-tempDiv`)\n\n            let node = document.getElementsByClassName(className)[0]\n            // @ts-ignore\n\n            node ? node.parentNode.appendChild(tempDiv) : ''\n            switch (step) {\n                case 1:\n                    new tempStep1().$mount(`#${ className }-tempDiv`)\n                    break\n                case 2:\n                    new tempStep2().$mount(`#${ className }-tempDiv`)\n                    break\n                case 3:\n                    new tempStep3().$mount(`#${ className }-tempDiv`)\n                    break\n                case 4:\n                    new tempStep4().$mount(`#${ className }-tempDiv`)\n                    break\n                case 5:\n                    new tempStep5().$mount(`#${ className }-tempDiv`)\n                    break\n                case 6:\n                    new tempStep6().$mount(`#${ className }-tempDiv`)\n                    break\n            }\n        },\n\n        /**\n         * 退出当前引导（进入下一个引导）\n         * 1：移除高亮区域；2：移除遮罩；3：移除tips提示\n         */\n        async guideQuit(className: any) {\n            //@ts-ignore\n            if (!this.isShowNoviceGuide) {\n                return false\n            }\n\n            document.getElementsByClassName(className)[0].removeAttribute('style')\n            // @ts-ignore\n            this.guidMask.close()\n            // @ts-ignore\n            let myTemp = <HTMLImageElement>document.getElementsByClassName(`tempStep${ this.step }`)[0]\n            // @ts-ignore\n            // @ts-ignore\n            document.getElementsByClassName(className)[0].parentNode.removeChild(myTemp)\n\n            const quiteNode = document.getElementById('guideQuit')\n            // @ts-ignore\n            quiteNode ? quiteNode.removeEventListener('click', () => {\n            }) : ''\n        },\n\n        allGuideQuit(step: number, className: any) {\n            // @ts-ignore\n            this.tsConfirm({\n                title: '确认退出新手引导',\n                message: '您也可以在右上角新手教程中查看具体教程',\n                customMessageStyle: 'textAlign: center'\n            }).then(() => {\n                this.guideQuit(className)\n                // @ts-ignore\n                this._SetIsShowNoviceGuide(false)\n                // @ts-ignore\n                this.PointClickQuit(step)\n            }).catch(() => {\n\n            })\n        }\n    }\n}\n"],"sourceRoot":""}