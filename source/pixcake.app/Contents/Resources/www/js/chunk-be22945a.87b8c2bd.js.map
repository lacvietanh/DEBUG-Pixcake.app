{"version":3,"sources":["webpack:///./src/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings.vue","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings.vue?b7e6","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings.vue?5b0b","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings.vue?c10c","webpack:///./src/views/PhotoFinishing/Components/SavePreset/PresetSetting.vue?9698","webpack:///./src/components/TsSelect/TsSelectBox.vue","webpack:///./src/components/TsSelect/TsSelectBox.vue?b0b1","webpack:///./src/components/TsSelect/TsSelectBox.vue?6f0a","webpack:///./src/composables/points/useRefinePointsRepositories.ts","webpack:///./src/views/PhotoFinishing/Components/SavePreset/TsCheckboxGroup.vue?8bad","webpack:///./src/components/TsSlider/src/main.vue","webpack:///./node_modules/element-ui/src/mixins/emitter.js","webpack:///./src/components/TsSlider/src/marker.js","webpack:///./src/components/TsSlider/src/button.vue","webpack:///src/components/TsSlider/src/button.vue","webpack:///./src/components/TsSlider/src/button.vue?e408","webpack:///./src/components/TsSlider/src/button.vue?bb19","webpack:///src/components/TsSlider/src/main.vue","webpack:///./src/components/TsSlider/src/main.vue?281b","webpack:///./src/components/TsSlider/src/main.vue?d6ef","webpack:///./src/components/TsSlider/index.js","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SyncPresetSettings.vue?4d48","webpack:///./src/components/TsSlider/src/main.vue?3fcb","webpack:///./src/views/PhotoFinishing/Components/SavePreset/PresetSetting.vue","webpack:///./src/views/PhotoFinishing/Components/SavePreset/TsCheckboxGroup.vue","webpack:///./src/views/PhotoFinishing/Components/SavePreset/TsCheckboxGroup.vue?711c","webpack:///./src/views/PhotoFinishing/Components/SavePreset/TsCheckboxGroup.vue?634a","webpack:///./src/views/PhotoFinishing/Components/SavePreset/TsCheckboxGroup.vue?49b7","webpack:///./src/views/PhotoFinishing/Components/SavePreset/PresetSetting.vue?d897","webpack:///./src/views/PhotoFinishing/Components/SavePreset/PresetSetting.vue?3c88","webpack:///./src/views/PhotoFinishing/Components/SavePreset/PresetSetting.vue?e052"],"names":["render","_vm","this","_c","_self","_setup","_setupProxy","TsDialog","attrs","visible","on","$event","staticClass","slot","_v","staticStyle","PresetSetting","presetCheckboxCache","customSettings","onPresetSettingChange","selectType","ElButton","loading","onSubmit","_s","needSyncPreset","IS_WIN","staticRenderFns","_defineComponent","__name","props","value","type","Boolean","default","refineUUID","String","justSave","emits","setup","__props","expose","emit","$emit","ref","watch","async","val","initCustomCheckboxSettings","beautifyJsonStr","paletteJsonStr","refine","getPresetSuitJson","beautifyJson","JSON","parse","paletteJson","model","BeautifyParamsViewModel","paletteModel","PaletteParamsViewModel","json","userId","config","getHasEffectConfig","ptConfig","params","effects","getCustomCheckboxSettings","e","presetSettingCache","computed","get","store","getters","set","commit","isSaveSyncSetting","data","PointSynchronizeSettings","useRefinePointsRepositories","show","__sfc","component","_t","$getIconPath","script","sendPoint","useBaseRepositories","PointFileNotExit","PointEvent","CakeRefine","cake_operate","PointFileCopyPath","PointHistoryStep","operate","PointHistoryReset","PointHistoryScroll","PointGuideImgAdjust","CakeUpgradeGuide","cake_position","PointGuideOperate","InitImgAdjustmentGuide","PointGuideBackground","InitBackgroundGuide","PointGuideHistory","InitHistoryGuide","PointGuideCrop","InitCropGuide","PointGuidePresetSettings","InitPresetSettingGuide","PointPreviewClick","CakeImageAdjustment","PointRefineOperate","ClickPreview","PointPreviewExit","ExitPreview","PointPreviewInit","InitPreview","PointPreviewColorMode","ColorMode","PointPreviewFullMode","FullEffectMode","PresetSettingsObj","SelectTypeEnum","Default","Spec","All","Custom","Cancel","PointSavePresetSubmit1","SavePresetSubmit1","cake_feature","PointSavePresetSubmit2","SavePresetSubmit2","cake_new_preset2","PointSavePresetCover","SavePresetCover","cake_override_preset","SyncPresetSettingsObj","PointAddAFace","PointAddAFaceFinish","PointClickLiquefaction","PointLiquefactionCancel","PointLiquefactionConfirm","PointPortraitBeautification","PortraitBeautification","PointImageAdjustment","ImageAdjustment","PointBackgroundAdjustment","BackgroundAdjustment","PointOperationHistory","OperationHistory","PointCropIcon","CropIcon","class","vertical","showInput","min","max","sliderDisabled","range","step","inputSize","debounce","showInputControls","emitChange","firstValue","callback","$$v","expression","_e","style","runwayStyle","onSliderClick","barStyle","tooltipClass","cStyle","button","nativeOn","emitDblClick","apply","arguments","secondValue","showStops","_l","stops","item","key","getStopStyle","markList","length","position","mark","broadcast","componentName","eventName","$children","forEach","child","name","$options","concat","methods","parent","$parent","$root","call","Object","label","hovering","dragging","wrapperStyle","handleMouseEnter","handleMouseLeave","onButtonDown","indexOf","_k","keyCode","onLeftKeyDown","onRightKeyDown","preventDefault","showTooltip","formatValue","buttonStyle","components","isClick","startX","currentX","startY","currentY","startPosition","newPosition","oldValue","triggerEventObje","disabled","precision","currentPosition","enableFormat","bottom","left","displayTooltip","hideTooltip","window","onDragStart","event","onDragging","diff","onDragEnd","setTimeout","manualBlur","targetDom","setPosition","mixins","inject","elForm","formatTooltip","height","marks","SliderButton","SliderMarker","sliderSize","Array","valueChanged","every","setValues","console","resetSize","result","sort","filter","point","map","minValue","maxValue","barSize","barStart","width","mounted","valuetext","beforeDestroy","TsSlider","install","Vue","TsSelectBox","ElSelect","onSelectChange","stopPropagation","selectOptions","index","ElOption","presetGroup","i","TsCheckboxGroup","refInFor","children","checkObj","$set","ElCheckbox","isIndeterminate","handleCheckAllChange","checkAll","showCheckboxGroup","selectAllLabel","ElCheckboxGroup","directives","rawName","handleCheckedCitiesChange","checkedValues","values","reloadCheckAllBtnState","checkedCount","isEqual","immediate","handleCheckAll","handleCancelAll","checkboxObject","customCheckboxSettings","checkboxRefs","customCheckObj","recheckSelectType","log","defaultSyncCheckboxSettings","selectAllCheckboxSettings","nonSelectCheckboxSettings","cloneDeep","keys","obj","res","deep","checkParamsJson","crop","algoVersion","groupItem","find","Number","flags","includes","push","list","handleSelectAll","nextTick","elem"],"mappings":"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AGb,EAAIuB,GAAGvB,EAAI8N,gBAAgB5N,EAAG,MAAM,CAACS,YAAY,oBAAoB+I,MAAM,CAClgD,MAAS1J,EAAIiN,SACb,SAAYjN,EAAIkN,UAClBvC,MAAO3K,EAAI+N,iBAAkB,IAEvCrM,EAAkB,GCmCP,GACf6K,sBAEAyB,YACA,2BAGAnM,OACAC,OACAC,YACAE,WAEA0H,UACA5H,aACAE,YAEA8I,oBACAgD,oBAGAlJ,OACA,OACAoI,YACAC,YACAe,WACAC,SACAC,WACAC,SACAC,WACAC,gBACAC,iBACAC,oBACAC,wBAIAnK,UACAoK,WACA,oCAGA5E,MACA,yBAGAD,MACA,yBAGAI,OACA,0BAGA4D,cACA,iCAGAc,YACA,+BAGAC,kBACA,yDAGAC,eACA,uDAGAf,cACA,8EAGAX,eACA,sBAAA2B,6BAAA,CAAAC,6BAIAnM,OACAsK,YACA,0BAIAR,SACAsC,iBACA,wDAGAC,cACA,wDAGA7B,mBACA,iBACA,uBAGAC,mBACA,iBACA,oBAGAC,gBACA,gBAEA,0BACA,oBACA4B,qDACAA,qDACAA,kDACAA,mDACAA,wDAEAxB,gBACA,gBACA,oFACA,mCACA,4BAEAC,iBACA,gBACA,oFACA,mCACA,4BAEAwB,eACA,iBACA,gBACA,wBACA,wBACAC,+BACAA,gCAEA,cACA,sBAEA,sBAEA,oDACA,qCAGAC,cACA,kBACA,gBACA,sBACA,yBACA,QACA,uBACAD,+BACAA,gCAEA,eACA,wBACAE,4DAEA,wBACAA,2DAEA,sCACA,mCACA,4BAIAC,aACA,gBAKAC,gBACA,iBACA,mBACA,uCACA,eACA,mCACA,2BAEA,yBACA,GACAN,wDACAA,wDACAA,qDACAA,sDACAA,2DAIAO,cACA,iBACAC,aAGAC,eACA,6BACA,IACApB,IACA,QACAA,OAEA,4CACA,kBACA,2CACAzM,wCACA,sBACA,oBACA,sBACA,wDAEA,4CACA,6BC5P8W,I,YCO1WoD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCsFA,GACfqH,gBAEAqD,WAEAC,QACAC,QACA7N,aAIAJ,OACAgI,KACA9H,YACAE,WAEA6H,KACA/H,YACAE,aAEAgI,MACAlI,YACAE,WAEAH,OACAC,oBACAE,WAEA2H,WACA7H,aACAE,YAEAmI,mBACArI,aACAE,YAEAiI,WACAnI,YACAE,iBAEAsJ,WACAxJ,aACAE,YAEA4L,aACA9L,aACAE,YAEA8N,uBACArB,UACA3M,aACAE,YAEA+H,OACAjI,aACAE,YAEA0H,UACA5H,aACAE,YAEA+N,QACAjO,aAEAoI,UACApI,YACAE,aAEA+K,OACAjL,aAEAgJ,oBACAkF,aACAjF,eAGAgD,YACA,mCACAkC,eACAC,gBAGAtL,OACA,OACAuL,aACA9F,gBACAgB,iBACAkD,cACAtB,cAIAtK,OACAd,WACA,eACAuO,kBACAA,kBACAvN,0BAGA,kBAGAoK,YACA,GACA,kBAIA5C,cACA,WACA,kDAEA,uBAIAgB,cACA,YACA,mDAIAzB,MACA,kBAGAC,MACA,mBAIA4C,SACA4D,eACA,mBACA,8BACAC,MAAA,6BAEA,4BAGAC,YACA,qBAEA,YADAC,4EAGA,mBACA,6BACA,cACA,wCACA,cACA,wCACA,cACA,oCACA,cACA,qCAEA,qBACA,sBACA,sBACA,2EACA,0BAGA,4CACA,WACA,6BACA,WACA,8BAEA,kBACA,sBACA,+CACA,oBAMAd,eACA,2CACA,eAEA,YADA,kCAGA,MAEA1E,EADA,oDACAA,qDAEAA,qDAEA,8BAGAJ,iBACA,yCAEA,GADA,iBACA,eACA,yDACA,wDACA,CACA,uDACA,oDAEA,oBAGA6F,YACA,oBACA,+EAIArG,aACA,oBACA,4EAIAc,eACA,oBACA,4BAIAS,gBACA,mDAIAtH,UACAmH,QACA,+CACA,iBAGA,SAEA,sCACA,oCACA,KACA,oBACAkF,YAEA,kBACA,YACA,oDACA1G,oDAGA,mEAIA4B,WACA,eACA,SAGA,gCACA,yBACA+E,KAAA,YACAC,OAAAC,6BACAC,IAAAD,KACAA,QACA/E,8CACAC,uBAIAgF,WACA,mDAGAC,WACA,mDAGAC,UACA,kBACA,kBACA,sDAEA,4CAGA,WACA,0DACA,wDAIAC,WACA,kBACA,qD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","file":"js/chunk-be22945a.87b8c2bd.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.TsDialog,{attrs:{\"append-to-body\":\"\",\"destroy-on-close\":\"\",\"top\":\"30vh\",\"width\":\"504px\",\"custom-class\":\"common-dialog cover-dialog\",\"visible\":_setup.visible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_setup.visible=$event}}},[_c('div',{staticClass:\"title my_title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(\"同步设置\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"formLine\"},[_c('span',{staticStyle:{\"align-self\":\"flex-start\"}},[_vm._v(\"筛选：\")]),_c(_setup.PresetSetting,{attrs:{\"checkbox-object\":_setup.presetCheckboxCache,\"custom-checkbox-settings\":_setup.customSettings},on:{\"update:checkboxObject\":function($event){_setup.presetCheckboxCache=$event},\"update:checkbox-object\":function($event){_setup.presetCheckboxCache=$event},\"on-change\":_setup.onPresetSettingChange,\"on-select-input\":function($event){_setup.selectType = $event}}})],1)]),_c('div',{staticClass:\"footer\"},[_c(_setup.ElButton,{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"loading\":_setup.loading},on:{\"click\":_setup.onSubmit}},[_vm._v(\" \"+_vm._s(_setup.needSyncPreset ? '同步到选中图片' : '确认')+\" \")])],1),_c('div',{staticClass:\"tip_container\"},[_c('span',{staticClass:\"tip\"},[_vm._v(\"使用\"+_vm._s(_setup.IS_WIN ? 'Ctrl+C/Ctrl+V' : 'CMD+C/CMD+V')+\"也可以复制/粘贴效果\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { computed, WritableComputedRef, ref, watch } from 'vue'\nimport store from '@/store'\n\nimport { IS_WIN } from '@/universal/types/config'\nimport { ICheckboxCacheObject, IFormatCheckJson } from '@/types/preset'\n\nimport { Button as ElButton } from 'element-ui'\n// @ts-ignore\nimport PresetSetting from './PresetSetting'\nimport TsDialog from '@/components/TsDialog/ts-dialog'\nimport BeautifyParamsViewModel from '@/view-model/beautifyParamsViewModel'\nimport PaletteParamsViewModel from '@/view-model/paletteParamsViewModel'\nimport { getCustomCheckboxSettings } from '@/constants/presetParams/presetParamsGroup'\nimport refine from '@/qt-ipc/business/refine'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SyncPresetSettings',\n  props: {\n    value: {\n        type: Boolean,\n        default: false\n    },\n    refineUUID: {\n        type: String,\n        default: ''\n    },\n    justSave: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: ['input', 'on-apply'],\n  setup(__props, { expose, emit: $emit }) {\n\nconst props = __props\n\n\n\n\n\nlet visible = ref(props.value)\nwatch(() => props.value, async (val) => {\n    visible.value = val\n\n    if (val) {\n        await initCustomCheckboxSettings()\n    }\n})\nwatch(visible, (val) => $emit('input', val))\n\n\nconst customSettings = ref()\nconst initCustomCheckboxSettings = async (): Promise<void> => {\n    if (!props.refineUUID) {\n        return\n    }\n\n    const { beautifyJsonStr, paletteJsonStr } = await refine.getPresetSuitJson(props.refineUUID)\n    try {\n        const beautifyJson = JSON.parse(beautifyJsonStr)\n        const paletteJson = JSON.parse(paletteJsonStr)\n        const model = new BeautifyParamsViewModel(beautifyJson, null, -1)\n        const paletteModel = new PaletteParamsViewModel({ json: paletteJson, userId: -1 })\n\n        const config = model.getHasEffectConfig()\n        const ptConfig = paletteModel.getHasEffectConfig()\n\n        config.params = [...config.params, ...ptConfig.params]\n        config.effects = [...config.effects, ...ptConfig.effects]\n\n        customSettings.value = getCustomCheckboxSettings(config)\n    } catch (e) {\n    }\n}\n\nconst presetSettingCache: WritableComputedRef<IFormatCheckJson> = computed({\n    get: (): IFormatCheckJson => store.getters['refine/syncPresetSettingCache'],\n    set: (val) => store.commit('refine/_SetSyncPresetSettingCache', val)\n})\n\nconst presetCheckboxCache: WritableComputedRef<ICheckboxCacheObject> = computed({\n    get: (): ICheckboxCacheObject => store.getters['refine/syncPresetCheckboxCache'],\n    set: (val) => store.commit('refine/_SetSyncPresetCheckboxCache', val)\n})\n\nconst isSaveSyncSetting = computed(() => store.getters['refine/isSaveSyncSetting'])\n\nconst onPresetSettingChange = (data: IFormatCheckJson) => presetSettingCache.value = data\nconst needSyncPreset = computed(() => !props.justSave && !isSaveSyncSetting.value)\n\nlet loading = ref(false)\n\nconst selectType = ref(0)\nconst { PointSynchronizeSettings } = useRefinePointsRepositories()\n\nconst onSubmit = async () => {\n    if (!visible.value || loading.value) {\n        return\n    }\n    loading.value = true\n    if (needSyncPreset.value) {\n        store.commit('refine/_SetIsSaveSyncSetting')\n        $emit('on-apply')\n    }\n    PointSynchronizeSettings(selectType.value)\n    visible.value = false\n    loading.value = false\n}\n\nexpose({\n    show: () => {\n        visible.value = true\n        initCustomCheckboxSettings()\n    }\n})\n\n\nreturn { __sfc: true,props, $emit, visible, customSettings, initCustomCheckboxSettings, presetSettingCache, presetCheckboxCache, isSaveSyncSetting, onPresetSettingChange, needSyncPreset, loading, selectType, PointSynchronizeSettings, onSubmit, IS_WIN, ElButton, PresetSetting, TsDialog }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SyncPresetSettings.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SyncPresetSettings.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./SyncPresetSettings.vue?vue&type=template&id=8cddff06&scoped=true&\"\nimport script from \"./SyncPresetSettings.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./SyncPresetSettings.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./SyncPresetSettings.vue?vue&type=style&index=0&id=8cddff06&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cddff06\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetSetting.vue?vue&type=style&index=0&id=4cdccc21&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ts-select-box\"},[_vm._t(\"default\"),_c('span',{staticClass:\"right_icon\"},[_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_up.png'),\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_down.png'),\"alt\":\"\"}})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./TsSelectBox.vue?vue&type=template&id=a2952e3c&scoped=true&\"\nvar script = {}\nimport style0 from \"./TsSelectBox.vue?vue&type=style&index=0&id=a2952e3c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2952e3c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsSelectBox.vue?vue&type=style&index=0&id=a2952e3c&prod&lang=scss&scoped=true&\"","import useBaseRepositories from './useBaseRepositories'\nimport {PointEvent, PointGuideOperate, PointRefineOperate} from '@/constants/pointsDef'\nimport { SelectTypeEnum } from '@/constants/refine'\n\ninterface IUseUpdatePointsRepositories {\n    PointPortraitBeautification: () => void\n    PointImageAdjustment: () => void\n    PointBackgroundAdjustment: () => void\n    PointOperationHistory: () => void\n    PointCropIcon: () => void\n\n    PointFileNotExit: () => void\n    PointFileCopyPath: () => void\n\n    PointHistoryStep: () => void\n    PointHistoryReset: () => void\n    PointHistoryScroll: () => void\n\n    PointGuideImgAdjust: () => void\n    PointGuideBackground: () => void\n    PointGuideHistory: () => void\n    PointGuideCrop: () => void\n    PointGuidePresetSettings: () => void\n\n    PointPreviewClick: () => void\n    PointPreviewExit: () => void\n    PointPreviewInit: () => void\n    PointPreviewColorMode: () => void\n    PointPreviewFullMode: () => void\n\n    PointSavePresetSubmit1: (operate: number) => void,\n    PointSavePresetSubmit2: (data: string, operate: number) => void,\n    PointSavePresetCover: (data: string, operate: number) => void\n    PointSynchronizeSettings: (operate: number) => void\n\n    PointAddAFace: () => void\n    PointAddAFaceFinish: (value: string) => void\n\n    PointClickLiquefaction: () => void\n    PointLiquefactionCancel: () => void\n    PointLiquefactionConfirm: () => void\n}\n\nexport default function useRefinePointsRepositories(): IUseUpdatePointsRepositories {\n    const { sendPoint } = useBaseRepositories()\n\n    function PointFileNotExit(){\n        sendPoint(PointEvent.CakeRefine,{cake_operate: 'file_not_exist_close'})\n    }\n\n    function PointFileCopyPath(){\n        sendPoint(PointEvent.CakeRefine,{cake_operate: 'file_not_exist_copy'})\n    }\n\n    function PointHistoryStep(){\n        let operate = 'history_any_step'\n        sendPoint(PointEvent.CakeRefine,{cake_operate: operate})\n    }\n\n    function PointHistoryReset(){\n        let operate = 'history_reset'\n        sendPoint(PointEvent.CakeRefine,{cake_operate: operate})\n    }\n\n    function PointHistoryScroll() {\n        let operate = 'history_reset_scroll'\n        sendPoint(PointEvent.CakeRefine, {cake_operate: operate})\n    }\n\n    function  PointGuideImgAdjust(){\n        sendPoint(PointEvent.CakeUpgradeGuide,{cake_position: PointGuideOperate.InitImgAdjustmentGuide})\n    }\n\n    function PointGuideBackground(){\n        sendPoint(PointEvent.CakeUpgradeGuide,{cake_position: PointGuideOperate.InitBackgroundGuide})\n    }\n\n    function PointGuideHistory(){\n        sendPoint(PointEvent.CakeUpgradeGuide,{cake_position: PointGuideOperate.InitHistoryGuide})\n    }\n\n    function PointGuideCrop(){\n        sendPoint(PointEvent.CakeUpgradeGuide,{cake_position: PointGuideOperate.InitCropGuide})\n    }\n\n    function PointGuidePresetSettings(){\n        sendPoint(PointEvent.CakeUpgradeGuide,{cake_position: PointGuideOperate.InitPresetSettingGuide})\n    }\n\n    function PointPreviewClick(){\n        sendPoint(PointEvent.CakeImageAdjustment, {cake_position: PointRefineOperate.ClickPreview})\n    }\n\n    function PointPreviewExit(){\n        sendPoint(PointEvent.CakeImageAdjustment, {cake_position: PointRefineOperate.ExitPreview})\n    }\n\n    function PointPreviewInit(){\n        sendPoint(PointEvent.CakeImageAdjustment, {cake_position: PointRefineOperate.InitPreview})\n    }\n\n    function PointPreviewColorMode(){\n        sendPoint(PointEvent.CakeImageAdjustment, {cake_position: PointRefineOperate.ColorMode})\n    }\n\n    function PointPreviewFullMode(){\n        sendPoint(PointEvent.CakeImageAdjustment, {cake_position: PointRefineOperate.FullEffectMode})\n    }\n\n    const PresetSettingsObj = {\n        [SelectTypeEnum.Default]: 'preset_default',\n        [SelectTypeEnum.Spec]: 'preset_adjusted',\n        [SelectTypeEnum.All]: 'preset_all',\n        [SelectTypeEnum.Custom]: 'preset_customize',\n        [SelectTypeEnum.Cancel]: 'preset_none'\n    }\n    //保存预设，保存按钮\n    function PointSavePresetSubmit1(operate: number){\n        if (!PresetSettingsObj[operate]) return\n        sendPoint(PointEvent.CakeRefine, {\n            cake_position: PointRefineOperate.SavePresetSubmit1,\n            cake_feature: PresetSettingsObj[operate],\n        })\n    }\n\n    //保存预设，创建新预设按钮\n    function PointSavePresetSubmit2(data: string, operate: number){\n        if (!PresetSettingsObj[operate]) return\n        sendPoint(PointEvent.CakeRefine, {\n            cake_position: PointRefineOperate.SavePresetSubmit2,\n            cake_feature: PresetSettingsObj[operate],\n            cake_new_preset2: data\n        })\n    }\n\n    //保存预设,覆盖预设按钮\n    function PointSavePresetCover(data: string, operate: number){\n        if (!PresetSettingsObj[operate]) return\n        sendPoint(PointEvent.CakeRefine, {\n            cake_position: PointRefineOperate.SavePresetCover,\n            cake_feature: PresetSettingsObj[operate],\n            cake_override_preset: data\n        })\n    }\n\n    const SyncPresetSettingsObj = {\n        [SelectTypeEnum.Default]: 'synchronize_default',\n        [SelectTypeEnum.Spec]: 'synchronize_adjusted',\n        [SelectTypeEnum.All]: 'synchronize_all',\n        [SelectTypeEnum.Custom]: 'synchronize_customize',\n        [SelectTypeEnum.Cancel]: 'synchronize_none'\n    }\n    // 同步预设设置保存\n    function PointSynchronizeSettings(operate: number) {\n        if (!SyncPresetSettingsObj[operate]) return\n        sendPoint(PointEvent.CakeRefine, {\n            cake_operate: 'synchronize_settings',\n            cake_feature: SyncPresetSettingsObj[operate],\n        })\n    }\n\n    function PointAddAFace(){\n        sendPoint(PointEvent.CakeRefine, { cake_operate: 'add_a_face' })\n    }\n\n    function PointAddAFaceFinish(value: string) {\n        sendPoint(PointEvent.CakeRefine, {\n            cake_operate: 'add_a_face_finish',\n            cake_feature: value\n        })\n    }\n\n    function PointClickLiquefaction() {\n        sendPoint(PointEvent.CakeRefine, { cake_operate: 'click_liquefaction' })\n    }\n\n    function PointLiquefactionCancel() {\n        sendPoint(PointEvent.CakeRefine, { cake_operate: 'liquefaction_cancel' })\n    }\n\n    function PointLiquefactionConfirm() {\n        sendPoint(PointEvent.CakeRefine, { cake_operate: 'liquefaction_confirm' })\n    }\n\n    return {\n        PointPortraitBeautification: () => sendPoint(PointEvent.CakeRefine, { cake_operate: PointRefineOperate.PortraitBeautification }),\n        PointImageAdjustment: () => sendPoint(PointEvent.CakeRefine, { cake_operate: PointRefineOperate.ImageAdjustment }),\n        PointBackgroundAdjustment: () => sendPoint(PointEvent.CakeRefine, { cake_operate: PointRefineOperate.BackgroundAdjustment }),\n        PointOperationHistory: () => sendPoint(PointEvent.CakeRefine, { cake_operate: PointRefineOperate.OperationHistory }),\n        PointCropIcon: () => sendPoint(PointEvent.CakeRefine, { cake_operate: PointRefineOperate.CropIcon }),\n\n        PointFileNotExit,\n        PointFileCopyPath,\n\n        PointHistoryStep,\n        PointHistoryReset,\n        PointHistoryScroll,\n\n        PointGuideImgAdjust,\n        PointGuideBackground,\n        PointGuideHistory,\n        PointGuideCrop,\n        PointGuidePresetSettings,\n\n        PointPreviewClick,\n        PointPreviewExit,\n        PointPreviewInit,\n        PointPreviewColorMode,\n        PointPreviewFullMode,\n\n        PointSavePresetSubmit1,\n        PointSavePresetSubmit2,\n        PointSavePresetCover,\n\n        PointSynchronizeSettings,\n\n        PointAddAFace,\n        PointAddAFaceFinish,\n\n        PointClickLiquefaction,\n        PointLiquefactionCancel,\n        PointLiquefactionConfirm,\n    }\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsCheckboxGroup.vue?vue&type=style&index=0&id=feb0845e&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"el-slider ts-slider\",class:{ 'is-vertical': _vm.vertical, 'el-slider--with-input': _vm.showInput },attrs:{\"role\":\"slider\",\"aria-valuemin\":_vm.min,\"aria-valuemax\":_vm.max,\"aria-disabled\":_vm.sliderDisabled,\"aria-orientation\":_vm.vertical ? 'vertical': 'horizontal'}},[(_vm.showInput && !_vm.range)?_c('el-input-number',{ref:\"input\",staticClass:\"el-slider__input\",attrs:{\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"size\":_vm.inputSize,\"debounce\":_vm.debounce,\"disabled\":_vm.sliderDisabled,\"controls\":_vm.showInputControls},on:{\"change\":_vm.emitChange},model:{value:(_vm.firstValue),callback:function ($$v) {_vm.firstValue=$$v},expression:\"firstValue\"}}):_vm._e(),_c('div',{ref:\"slider\",staticClass:\"el-slider__runway\",class:{ 'show-input': _vm.showInput, 'disabled': _vm.sliderDisabled },style:(_vm.runwayStyle),on:{\"click\":_vm.onSliderClick}},[_c('div',{staticClass:\"el-slider__bar\",style:(_vm.barStyle)}),_c('slider-button',{ref:\"button1\",attrs:{\"vertical\":_vm.vertical,\"tooltip-class\":_vm.tooltipClass,\"buttonStyle\":_vm.cStyle && _vm.cStyle.button},on:{\"mousedown\":function($event){return _vm.$emit('mousedown', $event)},\"mouseup\":function($event){return _vm.$emit('mouseup', $event)},\"mousemove\":function($event){return _vm.$emit('mousemove', $event)}},nativeOn:{\"dblclick\":function($event){return _vm.emitDblClick.apply(null, arguments)}},model:{value:(_vm.firstValue),callback:function ($$v) {_vm.firstValue=$$v},expression:\"firstValue\"}}),(_vm.range)?_c('slider-button',{ref:\"button2\",attrs:{\"vertical\":_vm.vertical,\"tooltip-class\":_vm.tooltipClass,\"buttonStyle\":_vm.cStyle && _vm.cStyle.button},on:{\"mousedown\":function($event){return _vm.$emit('mousedown', $event)},\"mouseup\":function($event){return _vm.$emit('mouseup', $event)},\"mousemove\":function($event){return _vm.$emit('mousemove', $event)}},nativeOn:{\"dblclick\":function($event){return _vm.emitDblClick.apply(null, arguments)}},model:{value:(_vm.secondValue),callback:function ($$v) {_vm.secondValue=$$v},expression:\"secondValue\"}}):_vm._e(),(_vm.showStops)?_vm._l((_vm.stops),function(item,key){return _c('div',{key:key,staticClass:\"el-slider__stop\",style:(_vm.getStopStyle(item))})}):_vm._e(),(_vm.markList.length > 0)?[_c('div',_vm._l((_vm.markList),function(item,key){return _c('div',{key:key,staticClass:\"el-slider__stop el-slider__marks-stop ts-slider__marks-stop\",style:(_vm.getStopStyle(item.position))})}),0),_c('div',{staticClass:\"el-slider__marks ts-slider__marks\"},_vm._l((_vm.markList),function(item,key){return _c('slider-marker',{key:key,style:(_vm.getStopStyle(item.position)),attrs:{\"mark\":item.mark}})}),1)]:_vm._e()],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function broadcast(componentName, eventName, params) {\n  this.$children.forEach(child => {\n    var name = child.$options.componentName;\n\n    if (name === componentName) {\n      child.$emit.apply(child, [eventName].concat(params));\n    } else {\n      broadcast.apply(child, [componentName, eventName].concat([params]));\n    }\n  });\n}\nexport default {\n  methods: {\n    dispatch(componentName, eventName, params) {\n      var parent = this.$parent || this.$root;\n      var name = parent.$options.componentName;\n\n      while (parent && (!name || name !== componentName)) {\n        parent = parent.$parent;\n\n        if (parent) {\n          name = parent.$options.componentName;\n        }\n      }\n      if (parent) {\n        parent.$emit.apply(parent, [eventName].concat(params));\n      }\n    },\n    broadcast(componentName, eventName, params) {\n      broadcast.call(this, componentName, eventName, params);\n    }\n  }\n};\n","export default {\n    name: 'ElMarker',\n\n    props: {\n        mark: {\n            type: [String, Object]\n        }\n    },\n    render() {\n        let label = typeof this.mark === 'string' ? this.mark : this.mark.label;\n\n        return (\n            <div class=\"el-slider__marks-text\" style={ this.mark.style || {} }>\n                { label }\n            </div>\n        );\n    }\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"button\",staticClass:\"el-slider__button-wrapper\",class:{ 'hover': _vm.hovering, 'dragging': _vm.dragging },style:(_vm.wrapperStyle),attrs:{\"tabindex\":\"0\"},on:{\"focus\":_vm.handleMouseEnter,\"blur\":_vm.handleMouseLeave,\"mousedown\":_vm.onButtonDown,\"mouseenter\":_vm.handleMouseEnter,\"mouseleave\":_vm.handleMouseLeave,\"touchstart\":_vm.onButtonDown,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"]))return null;if('button' in $event && $event.button !== 0)return null;return _vm.onLeftKeyDown.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"]))return null;if('button' in $event && $event.button !== 2)return null;return _vm.onRightKeyDown.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"]))return null;$event.preventDefault();return _vm.onRightKeyDown.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"]))return null;$event.preventDefault();return _vm.onLeftKeyDown.apply(null, arguments)}]}},[_c('el-tooltip',{ref:\"tooltip\",attrs:{\"placement\":\"top\",\"disabled\":!_vm.showTooltip,\"popper-class\":_vm.tooltipClass}},[_c('span',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(_vm.formatValue))]),_c('div',{staticClass:\"el-slider__button\",class:{\n                'hover': _vm.hovering,\n                'dragging': _vm.dragging\n            },style:(_vm.buttonStyle)})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        tabindex=\"0\"\n        ref=\"button\"\n        class=\"el-slider__button-wrapper\"\n        :style=\"wrapperStyle\"\n        :class=\"{ 'hover': hovering, 'dragging': dragging }\"\n        @focus=\"handleMouseEnter\"\n        @blur=\"handleMouseLeave\"\n        @mousedown=\"onButtonDown\"\n        @mouseenter=\"handleMouseEnter\"\n        @mouseleave=\"handleMouseLeave\"\n        @touchstart=\"onButtonDown\"\n        @keydown.left=\"onLeftKeyDown\"\n        @keydown.right=\"onRightKeyDown\"\n        @keydown.up.prevent=\"onRightKeyDown\"\n        @keydown.down.prevent=\"onLeftKeyDown\"\n    >\n        <el-tooltip\n            ref=\"tooltip\"\n            placement=\"top\"\n            :disabled=\"!showTooltip\"\n            :popper-class=\"tooltipClass\">\n            <span slot=\"content\">{{ formatValue }}</span>\n            <div\n                class=\"el-slider__button\"\n                :style=\"buttonStyle\"\n                :class=\"{\n                    'hover': hovering,\n                    'dragging': dragging\n                }\"\n            >\n            </div>\n        </el-tooltip>\n    </div>\n</template>\n\n<script>\nimport { Tooltip } from 'element-ui'\n\nexport default {\n    name: 'ElSliderButton',\n\n    components: {\n        'el-tooltip': Tooltip\n    },\n\n    props: {\n        value: {\n            type: Number,\n            default: 0\n        },\n        vertical: {\n            type: Boolean,\n            default: false\n        },\n        tooltipClass: String,\n        buttonStyle: Object\n    },\n\n    data() {\n        return {\n            hovering: false,\n            dragging: false,\n            isClick: false,\n            startX: 0,\n            currentX: 0,\n            startY: 0,\n            currentY: 0,\n            startPosition: 0,\n            newPosition: null,\n            oldValue: this.value,\n            triggerEventObje: null\n        }\n    },\n\n    computed: {\n        disabled() {\n            return this.$parent.sliderDisabled\n        },\n\n        max() {\n            return this.$parent.max\n        },\n\n        min() {\n            return this.$parent.min\n        },\n\n        step() {\n            return this.$parent.step\n        },\n\n        showTooltip() {\n            return this.$parent.showTooltip\n        },\n\n        precision() {\n            return this.$parent.precision\n        },\n\n        currentPosition() {\n            return `${(this.value - this.min) / (this.max - this.min) * 100}%`\n        },\n\n        enableFormat() {\n            return this.$parent.formatTooltip instanceof Function\n        },\n\n        formatValue() {\n            return (this.enableFormat && this.$parent.formatTooltip(this.value)) || this.value\n        },\n\n        wrapperStyle() {\n            return this.vertical ? { bottom: this.currentPosition } : { left: this.currentPosition }\n        }\n    },\n\n    watch: {\n        dragging(val) {\n            this.$parent.dragging = val\n        }\n    },\n\n    methods: {\n        displayTooltip() {\n            this.$refs.tooltip && (this.$refs.tooltip.showPopper = true)\n        },\n\n        hideTooltip() {\n            this.$refs.tooltip && (this.$refs.tooltip.showPopper = false)\n        },\n\n        handleMouseEnter() {\n            this.hovering = true\n            this.displayTooltip()\n        },\n\n        handleMouseLeave() {\n            this.hovering = false\n            this.hideTooltip()\n        },\n\n        onButtonDown(event) {\n            if (this.disabled) return\n            //event.preventDefault()\n            this.$emit('mousedown', event)\n            this.onDragStart(event)\n            window.addEventListener('mousemove', this.onDragging)\n            window.addEventListener('touchmove', this.onDragging)\n            window.addEventListener('mouseup', this.onDragEnd)\n            window.addEventListener('touchend', this.onDragEnd)\n            window.addEventListener('contextmenu', this.onDragEnd)\n        },\n        onLeftKeyDown() {\n            if (this.disabled) return\n            this.newPosition = parseFloat(this.currentPosition) - this.step / (this.max - this.min) * 100\n            this.setPosition(this.newPosition)\n            this.$parent.emitChange()\n        },\n        onRightKeyDown() {\n            if (this.disabled) return\n            this.newPosition = parseFloat(this.currentPosition) + this.step / (this.max - this.min) * 100\n            this.setPosition(this.newPosition)\n            this.$parent.emitChange()\n        },\n        onDragStart(event) {\n            this.dragging = true\n            this.isClick = true\n            this.triggerEventObje = event\n            if (event.type === 'touchstart') {\n                event.clientY = event.touches[0].clientY\n                event.clientX = event.touches[0].clientX\n            }\n            if (this.vertical) {\n                this.startY = event.clientY\n            } else {\n                this.startX = event.clientX\n            }\n            this.startPosition = parseFloat(this.currentPosition)\n            this.newPosition = this.startPosition\n        },\n\n        onDragging(event) {\n            if (this.dragging) {\n                this.isClick = false\n                this.displayTooltip()\n                this.$parent.resetSize()\n                let diff = 0\n                if (event.type === 'touchmove') {\n                    event.clientY = event.touches[0].clientY\n                    event.clientX = event.touches[0].clientX\n                }\n                if (this.vertical) {\n                    this.currentY = event.clientY\n                    diff = (this.startY - this.currentY) / this.$parent.sliderSize * 100\n                } else {\n                    this.currentX = event.clientX\n                    diff = (this.currentX - this.startX) / this.$parent.sliderSize * 100\n                }\n                this.newPosition = this.startPosition + diff\n                this.setPosition(this.newPosition)\n                this.$emit('mousemove', event)\n            }\n        },\n\n        onDragEnd(event) {\n            if (this.dragging) {\n                /*\n                 * 防止在 mouseup 后立即触发 click，导致滑块有几率产生一小段位移\n                 * 不使用 preventDefault 是因为 mouseup 和 click 没有注册在同一个 DOM 上\n                 */\n                setTimeout(() => {\n                    this.dragging = false\n                    this.hideTooltip()\n                    this.manualBlur(this.triggerEventObje)\n                    if (!this.isClick) {\n                        this.setPosition(this.newPosition)\n                        this.$parent.emitChange()\n                    }\n                    this.$emit('mouseup', event)\n                }, 0)\n                window.removeEventListener('mousemove', this.onDragging)\n                window.removeEventListener('touchmove', this.onDragging)\n                window.removeEventListener('mouseup', this.onDragEnd)\n                window.removeEventListener('touchend', this.onDragEnd)\n                window.removeEventListener('contextmenu', this.onDragEnd)\n            }\n        },\n\n        manualBlur(e) {\n            const targetDom = e.target\n            targetDom && targetDom.blur()\n        },\n\n        setPosition(newPosition) {\n            if (newPosition === null || isNaN(newPosition)) return\n            if (newPosition < 0) {\n                newPosition = 0\n            } else if (newPosition > 100) {\n                newPosition = 100\n            }\n            const lengthPerStep = 100 / ((this.max - this.min) / this.step)\n            const steps = Math.round(newPosition / lengthPerStep)\n            let value = steps * lengthPerStep * (this.max - this.min) * 0.01 + this.min\n            value = parseFloat(value.toFixed(this.precision))\n            this.$emit('input', value)\n            this.$nextTick(() => {\n                this.displayTooltip()\n                this.$refs.tooltip && this.$refs.tooltip.updatePopper()\n            })\n            if (!this.dragging && this.value !== this.oldValue) {\n                this.oldValue = this.value\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./button.vue?vue&type=template&id=71103ab8&\"\nimport script from \"./button.vue?vue&type=script&lang=js&\"\nexport * from \"./button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div\n        role=\"slider\"\n        class=\"el-slider ts-slider\"\n        :aria-valuemin=\"min\"\n        :aria-valuemax=\"max\"\n        :aria-disabled=\"sliderDisabled\"\n        :aria-orientation=\"vertical ? 'vertical': 'horizontal'\"\n        :class=\"{ 'is-vertical': vertical, 'el-slider--with-input': showInput }\"\n    >\n        <el-input-number\n            v-if=\"showInput && !range\"\n            ref=\"input\"\n            class=\"el-slider__input\"\n            :min=\"min\"\n            :max=\"max\"\n            :step=\"step\"\n            :size=\"inputSize\"\n            :debounce=\"debounce\"\n            :disabled=\"sliderDisabled\"\n            :controls=\"showInputControls\"\n            v-model=\"firstValue\"\n            @change=\"emitChange\">\n        </el-input-number>\n\n        <div\n            ref=\"slider\"\n            class=\"el-slider__runway\"\n            :style=\"runwayStyle\"\n            :class=\"{ 'show-input': showInput, 'disabled': sliderDisabled }\"\n            @click=\"onSliderClick\">\n\n            <div\n                class=\"el-slider__bar\"\n                :style=\"barStyle\">\n            </div>\n\n            <slider-button\n                ref=\"button1\"\n                :vertical=\"vertical\"\n                :tooltip-class=\"tooltipClass\"\n                :buttonStyle=\"cStyle && cStyle.button\"\n                v-model=\"firstValue\"\n                @dblclick.native=\"emitDblClick\"\n                @mousedown=\"$emit('mousedown', $event)\"\n                @mouseup=\"$emit('mouseup', $event)\"\n                @mousemove=\"$emit('mousemove', $event)\"\n            >\n            </slider-button>\n\n            <slider-button\n                v-if=\"range\"\n                ref=\"button2\"\n                :vertical=\"vertical\"\n                :tooltip-class=\"tooltipClass\"\n                :buttonStyle=\"cStyle && cStyle.button\"\n                v-model=\"secondValue\"\n                @dblclick.native=\"emitDblClick\"\n                @mousedown=\"$emit('mousedown', $event)\"\n                @mouseup=\"$emit('mouseup', $event)\"\n                @mousemove=\"$emit('mousemove', $event)\"\n            >\n            </slider-button>\n\n            <template v-if=\"showStops\">\n                <div\n                    v-for=\"(item, key) in stops\"\n                    class=\"el-slider__stop\"\n                    :key=\"key\"\n                    :style=\"getStopStyle(item)\"\n                >\n                </div>\n            </template>\n\n            <template v-if=\"markList.length > 0\">\n                <div>\n                    <div\n                        v-for=\"(item, key) in markList\"\n                        :key=\"key\"\n                        :style=\"getStopStyle(item.position)\"\n                        class=\"el-slider__stop el-slider__marks-stop ts-slider__marks-stop\">\n                    </div>\n                </div>\n\n                <div class=\"el-slider__marks ts-slider__marks\">\n                    <slider-marker\n                        v-for=\"(item, key) in markList\"\n                        :key=\"key\"\n                        :mark=\"item.mark\"\n                        :style=\"getStopStyle(item.position)\">\n                    </slider-marker>\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Emitter from 'element-ui/src/mixins/emitter'\n\nimport { InputNumber } from 'element-ui'\nimport SliderMarker from './marker'\nimport SliderButton from './button.vue'\n\nexport default {\n    name: 'TsSlider',\n\n    mixins: [Emitter],\n\n    inject: {\n        elForm: {\n            default: ''\n        }\n    },\n\n    props: {\n        min: {\n            type: Number,\n            default: 0\n        },\n        max: {\n            type: Number,\n            default: 100\n        },\n        step: {\n            type: Number,\n            default: 1\n        },\n        value: {\n            type: [Number, Array],\n            default: 0\n        },\n        showInput: {\n            type: Boolean,\n            default: false\n        },\n        showInputControls: {\n            type: Boolean,\n            default: true\n        },\n        inputSize: {\n            type: String,\n            default: 'small'\n        },\n        showStops: {\n            type: Boolean,\n            default: false\n        },\n        showTooltip: {\n            type: Boolean,\n            default: true\n        },\n        formatTooltip: Function,\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        range: {\n            type: Boolean,\n            default: false\n        },\n        vertical: {\n            type: Boolean,\n            default: false\n        },\n        height: {\n            type: String\n        },\n        debounce: {\n            type: Number,\n            default: 300\n        },\n        label: {\n            type: String\n        },\n        tooltipClass: String,\n        marks: Object,\n        cStyle: Object\n    },\n\n    components: {\n        'el-input-number': InputNumber,\n        SliderButton,\n        SliderMarker\n    },\n\n    data() {\n        return {\n            sliderSize: 1,\n            firstValue: null,\n            secondValue: null,\n            oldValue: null,\n            dragging: false\n        }\n    },\n\n    watch: {\n        value(val, oldVal) {\n            if (this.dragging ||\n                (Array.isArray(val) &&\n                    Array.isArray(oldVal) &&\n                    val.every((item, index) => item === oldVal[index]))) {\n                return\n            }\n            this.setValues()\n        },\n\n        dragging(val) {\n            if (!val) {\n                this.setValues()\n            }\n        },\n\n        firstValue(val) {\n            if (this.range) {\n                this.$emit('input', [this.minValue, this.maxValue])\n            } else {\n                this.$emit('input', val)\n            }\n        },\n\n        secondValue() {\n            if (this.range) {\n                this.$emit('input', [this.minValue, this.maxValue])\n            }\n        },\n\n        min() {\n            this.setValues()\n        },\n\n        max() {\n            this.setValues()\n        }\n    },\n\n    methods: {\n        valueChanged() {\n            if (this.range) {\n                return ![this.minValue, this.maxValue]\n                    .every((item, index) => item === this.oldValue[index])\n            } else {\n                return this.value !== this.oldValue\n            }\n        },\n        setValues() {\n            if (this.min > this.max) {\n                console.error('[Element Error][Slider]min should not be greater than max.')\n                return\n            }\n            const val = this.value\n            if (this.range && Array.isArray(val)) {\n                if (val[1] < this.min) {\n                    this.$emit('input', [this.min, this.min])\n                } else if (val[0] > this.max) {\n                    this.$emit('input', [this.max, this.max])\n                } else if (val[0] < this.min) {\n                    this.$emit('input', [this.min, val[1]])\n                } else if (val[1] > this.max) {\n                    this.$emit('input', [val[0], this.max])\n                } else {\n                    this.firstValue = val[0]\n                    this.secondValue = val[1]\n                    if (this.valueChanged()) {\n                        this.dispatch('ElFormItem', 'el.form.change', [this.minValue, this.maxValue])\n                        this.oldValue = val.slice()\n                    }\n                }\n            } else if (!this.range && typeof val === 'number' && !isNaN(val)) {\n                if (val < this.min) {\n                    this.$emit('input', this.min)\n                } else if (val > this.max) {\n                    this.$emit('input', this.max)\n                } else {\n                    this.firstValue = val\n                    if (this.valueChanged()) {\n                        this.dispatch('ElFormItem', 'el.form.change', val)\n                        this.oldValue = val\n                    }\n                }\n            }\n        },\n\n        setPosition(percent) {\n            const targetValue = this.min + percent * (this.max - this.min) / 100\n            if (!this.range) {\n                this.$refs.button1.setPosition(percent)\n                return\n            }\n            let button\n            if (Math.abs(this.minValue - targetValue) < Math.abs(this.maxValue - targetValue)) {\n                button = this.firstValue < this.secondValue ? 'button1' : 'button2'\n            } else {\n                button = this.firstValue > this.secondValue ? 'button1' : 'button2'\n            }\n            this.$refs[button].setPosition(percent)\n        },\n\n        onSliderClick(event) {\n            if (this.sliderDisabled || this.dragging) return\n            this.resetSize()\n            if (this.vertical) {\n                const sliderOffsetBottom = this.$refs.slider.getBoundingClientRect().bottom\n                this.setPosition((sliderOffsetBottom - event.clientY) / this.sliderSize * 100)\n            } else {\n                const sliderOffsetLeft = this.$refs.slider.getBoundingClientRect().left\n                this.setPosition((event.clientX - sliderOffsetLeft) / this.sliderSize * 100)\n            }\n            this.emitChange()\n        },\n\n        resetSize() {\n            if (this.$refs.slider) {\n                this.sliderSize = this.$refs.slider[`client${this.vertical ? 'Height' : 'Width'}`]\n            }\n        },\n\n        emitChange() {\n            this.$nextTick(() => {\n                this.$emit('change', this.range ? [this.minValue, this.maxValue] : this.value)\n            })\n        },\n\n        emitDblClick() {\n            this.$nextTick(() => {\n                this.$emit('ondblclick')\n            })\n        },\n\n        getStopStyle(position) {\n            return this.vertical ? { 'bottom': position + '%' } : { 'left': position + '%' }\n        }\n    },\n\n    computed: {\n        stops() {\n            if (!this.showStops || this.min > this.max) return []\n            if (this.step === 0) {\n                process.env.NODE_ENV !== 'production' &&\n                console.warn('[Element Warn][Slider]step should not be 0.')\n                return []\n            }\n            const stopCount = (this.max - this.min) / this.step\n            const stepWidth = 100 * this.step / (this.max - this.min)\n            const result = []\n            for (let i = 1; i < stopCount; i++) {\n                result.push(i * stepWidth)\n            }\n            if (this.range) {\n                return result.filter(step => {\n                    return step < 100 * (this.minValue - this.min) / (this.max - this.min) ||\n                        step > 100 * (this.maxValue - this.min) / (this.max - this.min)\n                })\n            } else {\n                return result.filter(step => step > 100 * (this.firstValue - this.min) / (this.max - this.min))\n            }\n        },\n\n        markList() {\n            if (!this.marks) {\n                return []\n            }\n\n            const marksKeys = Object.keys(this.marks)\n            return marksKeys.map(parseFloat)\n                .sort((a, b) => a - b)\n                .filter(point => point <= this.max && point >= this.min)\n                .map(point => ({\n                    point,\n                    position: (point - this.min) * 100 / (this.max - this.min),\n                    mark: this.marks[point]\n                }))\n        },\n\n        minValue() {\n            return Math.min(this.firstValue, this.secondValue)\n        },\n\n        maxValue() {\n            return Math.max(this.firstValue, this.secondValue)\n        },\n\n        barSize() {\n            if (this.min < 0) {\n                if (this.firstValue < 0) {\n                    return `${100 * Math.abs(this.firstValue) / (this.max - this.min)}%`\n                } else {\n                    return `${100 * this.firstValue / (this.max - this.min)}%`\n                }\n            } else {\n                return this.range\n                    ? `${100 * (this.maxValue - this.minValue) / (this.max - this.min)}%`\n                    : `${100 * (this.firstValue - this.min) / (this.max - this.min)}%`\n            }\n        },\n\n        barStart() {\n            return this.range\n                ? `${100 * (this.minValue - this.min) / (this.max - this.min)}%`\n                : '0%'\n        },\n\n        precision() {\n            const precisions = [this.min, this.max, this.step].map(item => {\n                const decimal = ('' + item).split('.')[1]\n                return decimal ? decimal.length : 0\n            })\n            return Math.max.apply(null, precisions)\n        },\n\n        runwayStyle() {\n            const style = {\n                height: this.height\n            }\n            if (this.cStyle && this.cStyle.runwayStyle) {\n                Object.assign(style, this.cStyle.runwayStyle)\n            }\n            return style\n        },\n\n        barStyle() {\n            if (this.vertical) {\n                return {\n                    height: this.barSize,\n                    bottom: this.barStart\n                }\n            } else {\n                const style = {\n                    width: this.barSize\n                }\n                if (this.min < 0) {\n                    if (this.firstValue < 0) {\n                        style.right = `${100 * this.max / (this.max - this.min)}%`\n                        if (this.cStyle && this.cStyle.barStyle && this.cStyle.barStyle.left) {\n                            Object.assign(style, this.cStyle.barStyle.left)\n                        }\n                    } else {\n                        style.left = `${100 * Math.abs(this.min) / (this.max - this.min)}%`\n                        if (this.cStyle && this.cStyle.barStyle && this.cStyle.barStyle.right) {\n                            Object.assign(style, this.cStyle.barStyle.right)\n                        }\n                    }\n                } else {\n                    if (this.cStyle && this.cStyle.barStyle && this.cStyle.barStyle.left) {\n                        Object.assign(style, this.cStyle.barStyle.left)\n                    } else {\n                        style.left = this.barStart\n                    }\n                }\n                return style\n            }\n        },\n\n        sliderDisabled() {\n            return this.disabled || (this.elForm || {}).disabled\n        }\n    },\n\n    mounted() {\n        let valuetext\n        if (this.range) {\n            if (Array.isArray(this.value)) {\n                this.firstValue = Math.max(this.min, this.value[0])\n                this.secondValue = Math.min(this.max, this.value[1])\n            } else {\n                this.firstValue = this.min\n                this.secondValue = this.max\n            }\n            this.oldValue = [this.firstValue, this.secondValue]\n            valuetext = `${this.firstValue}-${this.secondValue}`\n        } else {\n            if (typeof this.value !== 'number' || isNaN(this.value)) {\n                this.firstValue = this.min\n            } else {\n                this.firstValue = Math.min(this.max, Math.max(this.min, this.value))\n            }\n            this.oldValue = this.firstValue\n            valuetext = this.firstValue\n        }\n        this.$el.setAttribute('aria-valuetext', valuetext)\n\n        // label screen reader\n        this.$el.setAttribute('aria-label', this.label ? this.label : `slider between ${this.min} and ${this.max}`)\n\n        this.resetSize()\n        window.addEventListener('resize', this.resetSize)\n    },\n\n    beforeDestroy() {\n        window.removeEventListener('resize', this.resetSize)\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-slider__marks.el-slider__marks {\n    .el-slider__marks-text {\n        margin-top: 5px;\n        font-size: 12px;\n        white-space: nowrap;\n    }\n\n\n}\n\n.ts-slider {\n    margin: 0 7px;\n\n    ///deep/ {\n    //    //.el-slider__input.el-input-number--mini {\n    //    //    width: 39px;\n    //    //    height: 22px;\n    //    //\n    //    //    .el-input--mini .el-input__inner {\n    //    //        height: 22px;\n    //    //        line-height: 22px;\n    //    //        font-size: 12px;\n    //    //        padding-left: 3px;\n    //    //        padding-right: 3px;\n    //    //    }\n    //    //}\n    //\n    //    .el-slider__runway.show-input {\n    //        margin-right: 50px;\n    //    }\n    //\n    //    .el-slider__bar {\n    //        margin-left: -7px;\n    //    }\n    //\n    //    .el-slider__runway::after {\n    //        position: absolute;\n    //        content: \" \";\n    //        background: transparent;\n    //        width: calc(100% + 14px);\n    //        height: 12px;\n    //        top: calc(50% - 6px);\n    //        left: -7px;\n    //        right: 0;\n    //        border-radius: 3px;\n    //    }\n    //\n    //    //.el-slider__button-wrapper {\n    //    //    height: 16px;\n    //    //    width: 16px;\n    //    //    top: -7px\n    //    //}\n    //}\n    //\n    ///deep/ .el-slider__runway:before {\n    //    position: absolute;\n    //    content: \" \";\n    //    background: inherit;\n    //    width: calc(100% + 14px);\n    //    height: 2px;\n    //    top: calc(50% - 1px);\n    //    left: -7px;\n    //    right: 0px;\n    //    border-radius: 3px;\n    //}\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=1f7c3af9&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=1f7c3af9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f7c3af9\",\n  null\n  \n)\n\nexport default component.exports","import TsSlider from './src/main'\n\n/* istanbul ignore next */\nTsSlider.install = function (Vue) {\n    Vue.component(TsSlider.name, TsSlider)\n}\n\nexport default TsSlider\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SyncPresetSettings.vue?vue&type=style&index=0&id=8cddff06&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=1f7c3af9&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"preset-setting\"},[_c(_setup.TsSelectBox,{staticClass:\"presetSelect\"},[_c(_setup.ElSelect,{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},on:{\"change\":_setup.onSelectChange},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.stopPropagation();}},model:{value:(_setup.selectType),callback:function ($$v) {_setup.selectType=$$v},expression:\"selectType\"}},_vm._l((_setup.selectOptions),function(item,index){return _c(_setup.ElOption,{key:index,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('div',{staticClass:\"preset-group-container global__scroll-style\"},[_vm._l((_setup.presetGroup),function(item,i){return [_c(_setup.TsCheckboxGroup,{key:i,ref:\"checkboxRefs\",refInFor:true,staticClass:\"ts-checkbox-group\",attrs:{\"select-all-label\":item.name,\"data\":item.children},on:{\"on-change\":function($event){_setup.selectType = -1}},model:{value:(_setup.checkObj[item.value]),callback:function ($$v) {_vm.$set(_setup.checkObj, item.value, $$v)},expression:\"checkObj[item.value]\"}})]})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"ts-checkbox-group\"},[_c('div',[_c(_setup.ElCheckbox,{attrs:{\"indeterminate\":_setup.isIndeterminate},on:{\"change\":_setup.handleCheckAllChange},model:{value:(_setup.checkAll),callback:function ($$v) {_setup.checkAll=$$v},expression:\"checkAll\"}}),_c('el-button',{staticClass:\"expanded-btn\",staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_setup.showCheckboxGroup = !_setup.showCheckboxGroup}}},[_vm._v(\" \"+_vm._s(_vm.selectAllLabel)+\" \"),_c('i',{class:_setup.showCheckboxGroup ? 'el-icon-caret-bottom' : 'el-icon-caret-right'})])],1),_c(_setup.ElCheckboxGroup,{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showCheckboxGroup),expression:\"showCheckboxGroup\"}],staticStyle:{\"margin-left\":\"24px\"},on:{\"change\":_setup.handleCheckedCitiesChange},model:{value:(_setup.checkedValues),callback:function ($$v) {_setup.checkedValues=$$v},expression:\"checkedValues\"}},_vm._l((_vm.data),function(item){return _c(_setup.ElCheckbox,{key:item.value,staticStyle:{\"width\":\"126px\"},attrs:{\"label\":item.value}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { computed, Ref, ref, watch } from 'vue'\n\nimport { Checkbox as ElCheckbox, CheckboxGroup as ElCheckboxGroup } from 'element-ui'\nimport { isEqual } from 'lodash'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TsCheckboxGroup',\n  props: {\n    data: {\n        type: Array,\n        default: () => []\n    },\n    selectAllLabel: {\n        type: String,\n        default: '全部'\n    },\n    value: {\n        type: Array,\n        default: () => []\n    }\n},\n  emits: ['input', 'on-change'],\n  setup(__props, { expose, emit: $emit }) {\n\nconst props = __props\n\n\n\n\n\nconst values = computed(() => {\n    return props.data.map((item: any) => item.value) as number[]\n})\n\nconst checkAll = ref(false)\nconst isIndeterminate = ref(true)\nconst checkedValues: Ref<any[]> = ref([])\nconst showCheckboxGroup = ref(false)\n\n// 重新检查选择全部按钮状态\nconst reloadCheckAllBtnState = (value: number[]): void => {\n    const data = props.data\n\n    const checkedCount = value.length\n    checkAll.value = checkedCount === data.length\n    isIndeterminate.value = checkedCount > 0 && checkedCount < data.length\n}\n\nwatch(() => props.value, (val) => {\n    if (isEqual(val, checkedValues.value)) {\n        reloadCheckAllBtnState(checkedValues.value)\n        return\n    }\n\n    checkedValues.value = val\n    reloadCheckAllBtnState(checkedValues.value)\n}, {\n    immediate: true\n})\n\nwatch(checkedValues, (val) => $emit('input', val))\n\n\nconst handleCheckAllChange = (val: boolean) => {\n    checkedValues.value = val ? values.value : []\n    isIndeterminate.value = false\n    // $emit('on-change', checkedValues.value)\n}\n\nconst handleCheckedCitiesChange = (value: number[]) => {\n    reloadCheckAllBtnState(value)\n    $emit('on-change', checkedValues.value)\n}\n\nexpose({\n    handleCheckAll: () => {\n        checkAll.value = true\n        isIndeterminate.value = false\n        handleCheckAllChange(true)\n    },\n    handleCancelAll: () => {\n        checkAll.value = false\n        isIndeterminate.value = false\n        handleCheckAllChange(false)\n    }\n})\n\nreturn { __sfc: true,props, $emit, values, checkAll, isIndeterminate, checkedValues, showCheckboxGroup, reloadCheckAllBtnState, handleCheckAllChange, handleCheckedCitiesChange, ElCheckbox, ElCheckboxGroup }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsCheckboxGroup.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsCheckboxGroup.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./TsCheckboxGroup.vue?vue&type=template&id=feb0845e&scoped=true&\"\nimport script from \"./TsCheckboxGroup.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./TsCheckboxGroup.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./TsCheckboxGroup.vue?vue&type=style&index=0&id=feb0845e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"feb0845e\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent as _defineComponent } from 'vue'\nimport { computed, nextTick, ref, watch } from 'vue'\n\nimport { IFormatCheckJson } from '@/types/preset'\nimport {\n    presetGroup,\n    defaultSyncCheckboxSettings,\n    selectAllCheckboxSettings,\n    nonSelectCheckboxSettings\n} from '@/constants/presetParams/presetParamsGroup'\n\nimport { cloneDeep, debounce, isEqual } from 'lodash'\n\nimport { Select as ElSelect, Option as ElOption } from 'element-ui'\n// @ts-ignore\nimport TsCheckboxGroup from './TsCheckboxGroup'\n// @ts-ignore\nimport TsSelectBox from '@/components/TsSelect/TsSelectBox'\nimport { SelectTypeEnum } from '@/constants/refine'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PresetSetting',\n  props: {\n    checkboxObject: {\n        type: Object,\n        default: () => {}\n    },\n\n    customCheckboxSettings: {\n        type: Object,\n        default: () => {}\n    }\n},\n  emits: ['on-change', 'update:checkboxObject', 'on-select-change', 'on-select-input'],\n  setup(__props, { emit: $emit }) {\n\nconst props = __props\n\n\n\n\nconst selectType = ref(0)\nconst checkboxRefs = ref([])\nconst customCheckObj = ref({})\n\nconst recheckSelectType = debounce(function (val) {\n    console.log(val, defaultSyncCheckboxSettings)\n    if (isEqual(val, defaultSyncCheckboxSettings)) {\n        selectType.value = SelectTypeEnum.Default\n    } else if (isEqual(val, selectAllCheckboxSettings)) {\n        selectType.value = SelectTypeEnum.All\n    } else if (isEqual(val, nonSelectCheckboxSettings)) {\n        selectType.value = SelectTypeEnum.Cancel\n    } else if (isEqual(val, props.customCheckboxSettings)) {\n        selectType.value = SelectTypeEnum.Spec\n    } else {\n        selectType.value = SelectTypeEnum.Custom\n        customCheckObj.value = cloneDeep(val)\n    }\n}, 300)\n\nconst checkObj = ref(cloneDeep(nonSelectCheckboxSettings))\nwatch(() => props.checkboxObject, (val) => {\n    if (!val) {\n        return\n    }\n\n    if (Object.keys(val).length === 0) {\n        checkObj.value = cloneDeep(nonSelectCheckboxSettings)\n    } else {\n        if (isEqual(val, checkObj.value)) {\n            return\n        }\n        checkObj.value = cloneDeep(val)\n    }\n\n    recheckSelectType(checkObj.value)\n}, {\n    immediate: true\n})\n\nwatch(() => props.customCheckboxSettings, (obj) => {\n    if (Object.keys(obj).length > 0) {\n        recheckSelectType(checkObj.value)\n    }\n})\n\nwatch(checkObj, (res) => {\n    recheckSelectType(res)\n    $emit('update:checkboxObject', res)\n},{\n    deep: true\n})\n\n// 格式化选中参数所需的配置信息\nconst checkParamsJson = computed(() => {\n    const obj: IFormatCheckJson = {\n        effects: [],\n        params: [],\n        crop: [],\n        algoVersion: []\n    }\n\n    for (const key in checkObj.value) {\n        const groupItem = presetGroup.find(item => item.value === Number(key))\n        const flags = checkObj.value[key]\n        groupItem?.children.forEach(item => {\n            if (item.includes && flags.includes(item.value)) {\n                obj.effects.push(...(item.includes.effects || []))\n                obj.params.push(...(item.includes.params || []))\n                obj.crop.push(...(item.includes.crop || []))\n                obj.algoVersion.push(...(item.includes.algoVersion || []))\n            }\n        })\n    }\n\n    return obj\n})\n\nwatch(checkParamsJson, (val) => {\n    $emit('on-change', val)\n}, {\n    immediate: true,\n    deep: true\n})\n\nconst selectOptions = computed(() => {\n    const list = [\n        { name: '默认', value: SelectTypeEnum.Default },\n        { name: '已调整', value: SelectTypeEnum.Spec },\n        { name: '全选', value: SelectTypeEnum.All },\n        { name: '全部取消', value: SelectTypeEnum.Cancel }\n    ]\n\n    if (selectType.value === SelectTypeEnum.Custom || Object.keys(customCheckObj.value).length > 0) {\n        list.push({ name: '自定义', value: SelectTypeEnum.Custom })\n    }\n\n    return list\n})\n\nconst handleSelectAll = (val: boolean) => {\n    nextTick(() => {\n        checkboxRefs.value?.forEach((elem: TsCheckboxGroup) => {\n            if (val) {\n                elem.handleCheckAll()\n            } else {\n                elem.handleCancelAll()\n            }\n        })\n    })\n}\n\nconst onSelectChange = (value: number) => {\n    switch (value) {\n        case SelectTypeEnum.Default:\n            checkObj.value = cloneDeep(defaultSyncCheckboxSettings)\n            break\n        case SelectTypeEnum.All:\n            handleSelectAll(true)\n            break\n        case SelectTypeEnum.Cancel:\n            handleSelectAll(false)\n            break\n        case SelectTypeEnum.Spec:\n            if (Object.keys(props.customCheckboxSettings).length > 0) {\n                checkObj.value = cloneDeep(props.customCheckboxSettings)\n            } else {\n                handleSelectAll(false)\n            }\n            break\n        case SelectTypeEnum.Custom:\n            checkObj.value = cloneDeep(customCheckObj.value)\n            break\n    }\n\n    $emit('on-select-change', value)\n}\n\nwatch(selectType, (val) => $emit('on-select-input', val))\n\n\nreturn { __sfc: true,$emit, props, selectType, checkboxRefs, customCheckObj, recheckSelectType, checkObj, checkParamsJson, selectOptions, handleSelectAll, onSelectChange, presetGroup, ElSelect, ElOption, TsCheckboxGroup, TsSelectBox }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetSetting.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetSetting.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./PresetSetting.vue?vue&type=template&id=4cdccc21&scoped=true&\"\nimport script from \"./PresetSetting.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./PresetSetting.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./PresetSetting.vue?vue&type=style&index=0&id=4cdccc21&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cdccc21\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}