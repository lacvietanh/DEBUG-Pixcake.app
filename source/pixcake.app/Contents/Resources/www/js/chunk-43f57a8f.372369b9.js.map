{"version":3,"sources":["webpack:///./src/components/ComponentCollection/index.vue?1561","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseDialog.vue?8f2b","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./src/views/PhotoFinishing/RefineNavBar.vue?f9bd","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./src/views/PhotoFinishing/PhotoFinishingView.vue","webpack:///./src/views/PhotoFinishing/RightParamsView.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/utils.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/remove-defects.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/skin.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/teeth.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/eye.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/background-enhance.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/sky.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/makeup.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/facial-refine.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/body.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/hsl.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/base.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/detailBoosting.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/params/white-balance.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/index.ts","webpack:///./src/views/PhotoFinishing/Components/ParamsCollapse.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item.vue","webpack:///./src/components/ComponentCollection/index.vue","webpack:///./src/components/ComponentCollection/model/BaseItem.ts","webpack:///./src/components/ComponentCollection/model/Collection.ts","webpack:///./src/components/ComponentCollection/components/TsItemCard.vue","webpack:///./src/components/ComponentCollection/components/TsItemCard.vue?c505","webpack:///./src/components/ComponentCollection/components/TsItemCard.vue?da9d","webpack:///./src/components/ComponentCollection/components/TsItemCard.vue?2653","webpack:///./src/components/TsSliderGroup/index.vue","webpack:///./src/components/TsSliderGroup/components/ts-slider-group-lock-icon.vue","webpack:///src/components/TsSliderGroup/components/ts-slider-group-lock-icon.vue","webpack:///./src/components/TsSliderGroup/components/ts-slider-group-lock-icon.vue?b618","webpack:///./src/components/TsSliderGroup/components/ts-slider-group-lock-icon.vue?7636","webpack:///./src/components/TsNumberPlaceholder/index.vue","webpack:///./src/components/TsNumberPlaceholder/TsInput/index.vue","webpack:///src/components/TsNumberPlaceholder/TsInput/index.vue","webpack:///./src/components/TsNumberPlaceholder/TsInput/index.vue?27e1","webpack:///./src/components/TsNumberPlaceholder/TsInput/index.vue?b754","webpack:///./src/components/TsNumberPlaceholder/TsInput/index.ts","webpack:///src/components/TsNumberPlaceholder/index.vue","webpack:///./src/components/TsNumberPlaceholder/index.vue?9cc1","webpack:///./src/components/TsNumberPlaceholder/index.vue?417f","webpack:///src/components/TsSliderGroup/index.vue","webpack:///./src/components/TsSliderGroup/index.vue?1f75","webpack:///./src/components/TsSliderGroup/index.vue?ebb3","webpack:///./src/components/ComponentCollection/index.vue?ac5c","webpack:///./src/components/ComponentCollection/index.vue?a98c","webpack:///./src/components/ComponentCollection/index.vue?093b","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-panel.vue","webpack:///src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-panel.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-panel.vue?129e","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-panel.vue?c0b9","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment.vue","webpack:///src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment.vue?e46d","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment.vue?5a4c","webpack:///src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo.vue?7f7e","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo.vue?0f4b","webpack:///./src/components/SuitParamsGroup/SuitParamsGroup.vue","webpack:///./src/components/SuitParamsGroup/SuitParamsItem.vue","webpack:///./src/components/SuitParamsGroup/SuitParamsGridView.vue","webpack:///src/components/SuitParamsGroup/SuitParamsGridView.vue","webpack:///./src/components/SuitParamsGroup/SuitParamsGridView.vue?8fae","webpack:///./src/components/SuitParamsGroup/SuitParamsGridView.vue?0a05","webpack:///src/components/SuitParamsGroup/SuitParamsItem.vue","webpack:///./src/components/SuitParamsGroup/SuitParamsItem.vue?91de","webpack:///./src/components/SuitParamsGroup/SuitParamsItem.vue?40b9","webpack:///src/components/SuitParamsGroup/SuitParamsGroup.vue","webpack:///./src/components/SuitParamsGroup/SuitParamsGroup.vue?23a8","webpack:///./src/components/SuitParamsGroup/SuitParamsGroup.vue?5e29","webpack:///./src/views/PhotoFinishing/Components/FilterComponent.vue","webpack:///./src/model/ParamsModel/FilterParamModel.ts","webpack:///./src/views/PhotoFinishing/Components/FilterPanelComponent.vue","webpack:///src/views/PhotoFinishing/Components/FilterPanelComponent.vue","webpack:///./src/views/PhotoFinishing/Components/FilterPanelComponent.vue?5b27","webpack:///./src/views/PhotoFinishing/Components/FilterPanelComponent.vue?aec8","webpack:///src/views/PhotoFinishing/Components/FilterComponent.vue","webpack:///./src/views/PhotoFinishing/Components/FilterComponent.vue?b3b3","webpack:///./src/views/PhotoFinishing/Components/FilterComponent.vue?4658","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/BaseHistory.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/SwitchHistory.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/SelectHistory.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/TsSliderGroupHistory.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/CheckboxHistory.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryRecord.ts","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky-panel.vue","webpack:///./src/components/TsSelect/index.vue","webpack:///src/components/TsSelect/index.vue","webpack:///./src/components/TsSelect/index.vue?827d","webpack:///./src/components/TsSelect/index.vue?5d7f","webpack:///./src/components/TsSelect/src/ts-select-option.vue","webpack:///src/components/TsSelect/src/ts-select-option.vue","webpack:///./src/components/TsSelect/src/ts-select-option.vue?cbe7","webpack:///./src/components/TsSelect/src/ts-select-option.vue?154e","webpack:///./src/composables/useFocusAndBlurRepositories.ts","webpack:///./node_modules/element-ui/src/utils/dom.js","webpack:///./src/directives/mousedownoutside.js","webpack:///src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky-panel.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky-panel.vue?27cb","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky-panel.vue?d6b6","webpack:///src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky.vue?b968","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky.vue?fea9","webpack:///src/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item.vue","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item.vue?6c2c","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item.vue?f22d","webpack:///src/views/PhotoFinishing/Components/ParamsCollapse.vue","webpack:///./src/views/PhotoFinishing/Components/ParamsCollapse.vue?b514","webpack:///./src/views/PhotoFinishing/Components/ParamsCollapse.vue?a3a9","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SavePresetDialog.vue","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SavePresetDialog.vue?cb19","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SavePresetDialog.vue?2b2b","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SavePresetDialog.vue?d5ac","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseDialog.vue","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseItem.vue","webpack:///./src/utils/GlobalDocumentEventBus.ts","webpack:///src/views/PhotoFinishing/Components/ImportAgeSexReviseItem.vue","webpack:///./src/view-model/PersonBioViewModel.ts","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseItem.vue?ddd0","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseItem.vue?2caf","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue","webpack:///./src/views/PhotoFinishing/Components/FaceMark/FaceResizeFrame.vue","webpack:///src/views/PhotoFinishing/Components/FaceMark/FaceResizeFrame.vue","webpack:///./src/views/PhotoFinishing/Components/FaceMark/FaceResizeFrame.vue?4d79","webpack:///./src/views/PhotoFinishing/Components/FaceMark/FaceResizeFrame.vue?2ebc","webpack:///./src/components/TsDriver/common/constants.js","webpack:///./src/components/TsDriver/common/utils.js","webpack:///./src/components/TsDriver/core/overlay.js","webpack:///./src/components/TsDriver/core/position.js","webpack:///./src/components/TsDriver/core/element.js","webpack:///./src/components/TsDriver/core/popover.js","webpack:///./src/components/TsDriver/core/stage.js","webpack:///./src/components/TsDriver/index.js","webpack:///./src/composables/guide/useRefineFaceBatchSelectGuide.ts","webpack:///src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue","webpack:///./src/composables/guide/useRefineFaceUpdateGuide.ts","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue?f1e1","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue?8967","webpack:///src/views/PhotoFinishing/Components/ImportAgeSexReviseDialog.vue","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseDialog.vue?69fd","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseDialog.vue?f929","webpack:///./src/universal/model/UserPreferenceSettingModel.ts","webpack:///./src/views/PhotoFinishing/Composables/useSplitRepositories.ts","webpack:///./src/view-model/photoControl/controlTools/contants/config.ts","webpack:///src/views/PhotoFinishing/RightParamsView.vue","webpack:///./src/views/PhotoFinishing/RightParamsView.vue?3323","webpack:///./src/views/PhotoFinishing/RightParamsView.vue?69e7","webpack:///./src/views/PhotoFinishing/Components/feedbackDialog.vue","webpack:///src/views/PhotoFinishing/Components/feedbackDialog.vue","webpack:///./src/views/PhotoFinishing/Components/feedbackDialog.vue?2730","webpack:///./src/views/PhotoFinishing/Components/feedbackDialog.vue?f468","webpack:///./src/views/PhotoFinishing/Components/SpinLoading.vue","webpack:///src/views/PhotoFinishing/Components/SpinLoading.vue","webpack:///./src/views/PhotoFinishing/Components/SpinLoading.vue?96ad","webpack:///./src/views/PhotoFinishing/Components/SpinLoading.vue?8a29","webpack:///./src/views/PhotoFinishing/Components/zoom-button-group.vue","webpack:///src/views/PhotoFinishing/Components/zoom-button-group.vue","webpack:///./src/views/PhotoFinishing/Components/zoom-button-group.vue?5273","webpack:///./src/views/PhotoFinishing/Components/zoom-button-group.vue?ab9c","webpack:///./src/components/TsProgress/index.vue","webpack:///src/components/TsProgress/index.vue","webpack:///./src/components/TsProgress/index.vue?d47d","webpack:///./src/components/TsProgress/index.vue?b8f0","webpack:///./src/components/TsDrawer/index.vue","webpack:///src/components/TsDrawer/index.vue","webpack:///./src/components/TsDrawer/index.vue?27e9","webpack:///./src/components/TsDrawer/index.vue?3818","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/DefectPanel.vue","webpack:///./src/utils/event-emitter.ts","webpack:///./src/view-model/photoControl/controlTools/impl/BaseTool.ts","webpack:///./src/view-model/photoControl/controlTools/impl/DefectTool.ts","webpack:///./src/view-model/photoControl/controlTools/BaseToolControl.ts","webpack:///./src/view-model/photoControl/utils/commonUtil.ts","webpack:///./src/view-model/photoControl/controlTools/DefectToolControl.ts","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/DefectPanel.vue?eab4","webpack:///./src/view-model/photoControl/contants/listenerEvent.ts","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/DefectPanel.vue?5baa","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/DefectPanel.vue?0bff","webpack:///./src/views/PhotoFinishing/Composables/usePainterRepositories.ts","webpack:///./src/views/PhotoFinishing/Components/ThumbOptRecordView.vue","webpack:///src/views/PhotoFinishing/Components/ThumbOptRecordView.vue","webpack:///./src/views/PhotoFinishing/Components/ThumbOptRecordView.vue?cc2d","webpack:///./src/views/PhotoFinishing/Components/ThumbOptRecordView.vue?b30c","webpack:///./src/views/PhotoFinishing/Composables/useGetQtViewRepositories.ts","webpack:///./src/views/PhotoFinishing/Components/CostTime.vue","webpack:///./src/composables/guide/useRefineGuideRepositories.ts","webpack:///src/views/PhotoFinishing/Components/CostTime.vue","webpack:///./src/views/PhotoFinishing/Components/CostTime.vue?77c2","webpack:///./src/views/PhotoFinishing/Components/CostTime.vue?3dbc","webpack:///./src/views/PhotoFinishing/RefineNavBar.vue","webpack:///./src/composables/useMouseStayRepositories.ts","webpack:///./src/views/PhotoFinishing/RefineNavBar.vue?b257","webpack:///./src/views/PhotoFinishing/RefineNavBar.vue?919f","webpack:///./src/views/PhotoFinishing/RefineNavBar.vue?bdb7","webpack:///./src/model/ExtraInfoModel.ts","webpack:///./src/view-model/photoControl/utils/OperationStack.ts","webpack:///./src/view-model/photoControl/PainterBaseControl.ts","webpack:///./src/view-model/photoControl/DefectControl.ts","webpack:///./src/view-model/photo-control.ts","webpack:///./src/view-model/photoControl/controlTools/impl/LiquefyTool.ts","webpack:///./src/view-model/photoControl/controlTools/LiquefyToolControl.ts","webpack:///./src/view-model/photoControl/LiquefyControl.ts","webpack:///./src/views/PhotoFinishing/Composables/usePhotoControlRepositories.ts","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/CropPanel.vue","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/CropArea.vue?fa76","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/CropArea.vue","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/RotateArea.vue?d2f9","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/CropArea.vue?38ce","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/CropArea.vue?cd09","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/RotateArea.vue","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/RotateArea.vue?f731","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/RotateArea.vue?c20c","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/CropPanel.vue?5454","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/CropPanel.vue?73ee","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/CropPanel.vue?2589","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel.vue","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel.vue?7ed8","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel.vue?f868","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel.vue?287d","webpack:///./src/views/PhotoFinishing/Composables/useCropRepositories.ts","webpack:///./src/views/PhotoFinishing/Composables/usePaletteRepositories.ts","webpack:///./src/views/PhotoFinishing/Composables/useNavbarRepositories.ts","webpack:///./src/views/PhotoFinishing/Composables/useLiquefyRepositories.ts","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer.vue","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer.vue?f598","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer.vue?edb0","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer.vue?4665","webpack:///src/views/PhotoFinishing/PhotoFinishingView.vue","webpack:///./src/views/PhotoFinishing/PhotoFinishingView.vue?6c74","webpack:///./src/views/PhotoFinishing/PhotoFinishingView.vue?93ec","webpack:///./node_modules/lodash/_equalByTag.js","webpack:///./src/assets/images/tips_png_keyboard_mac@3x.png","webpack:///./node_modules/lodash/_Promise.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky.vue?67ed","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue?b88e","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./src/views/PhotoFinishing/Components/CostTime.vue?df68","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/_getSymbols.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./src/components/SuitParamsGroup/SuitParamsGroup.vue?87b5","webpack:///./src/components/TsSelect/index.vue?747f","webpack:///./node_modules/lodash/_WeakMap.js","webpack:///./src/components/SuitParamsGroup/SuitParamsGridView.vue?cf65","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/CropArea.vue?621e","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel.vue?0b3b","webpack:///./src/views/PhotoFinishing/Components/ThumbOptRecordView.vue?1918","webpack:///./src/views/PhotoFinishing/PhotoFinishingView.vue?8312","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item.vue?8467","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-panel.vue?676c","webpack:///./src/components/SuitParamsGroup/SuitParamsItem.vue?4269","webpack:///./node_modules/core-js/modules/es.regexp.flags.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo-sky-panel.vue?cc23","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./src/components/TsSliderGroup/components/ts-slider-group-lock-icon.vue?4d8a","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./src/views/PhotoFinishing/Components/FaceMark/FaceResizeFrame.vue?2879","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./src/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox.vue?02b0","webpack:///./src/components/TsNumberPlaceholder/TsInput/index.vue?4ca0","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment.vue?3be4","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./src/views/PhotoFinishing/Components/SavePreset/SavePresetDialog.vue?133c","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./src/views/PhotoFinishing/RightParamsView.vue?3858","webpack:///./node_modules/lodash/_baseGetAllKeys.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_setCacheAdd.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./src/components/TsSelect/src/ts-select-option.vue?f449","webpack:///./src/components/TsDrawer/index.vue?6b77","webpack:///./src/views/PhotoFinishing/Components/SpinLoading.vue?f506","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/components/RotateArea.vue?95cc","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/DefectPanel.vue?0818","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/lodash/_getAllKeys.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./src/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/id-photo.vue?f800","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_DataView.js","webpack:///./src/views/PhotoFinishing/Components/feedbackDialog.vue?d871","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./src/views/PhotoFinishing/Components/FilterPanelComponent.vue?39e3","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./src/views/PhotoFinishing/Components/zoom-button-group.vue?c37e","webpack:///./src/views/PhotoFinishing/Components/FilterComponent.vue?b407","webpack:///./node_modules/lodash/_cacheHas.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./src/views/PhotoFinishing/PhotoFinishingView.vue?7c7c","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./src/assets/images/tips_png_keyboard_windows@3x.png","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/_SetCache.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./src/views/PhotoFinishing/Components/FilterComponent.vue?87ff","webpack:///./node_modules/lodash/_setCacheHas.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/CropPanel.vue?6f01","webpack:///./node_modules/lodash/_toSource.js","webpack:///./src/views/PhotoFinishing/Components/feedbackDialog.vue?95a9","webpack:///./node_modules/lodash/_Hash.js","webpack:///./src/components/TsSliderGroup/index.vue?6ff7","webpack:///./src/components/TsNumberPlaceholder/index.vue?475e","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/keys.js","webpack:///./node_modules/core-js/internals/define-built-in-accessor.js","webpack:///./node_modules/lodash/_mapToArray.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/popper.js/dist/esm/popper.js","webpack:///./src/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer.vue?bdb3","webpack:///./src/components/ComponentCollection/components/TsItemCard.vue?3c45","webpack:///./node_modules/lodash/_listCacheHas.js"],"names":["Symbol","objectProto","Object","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","getRawTag","value","isOwn","call","tag","unmasked","e","result","module","exports","isPrototype","nativeKeys","baseKeys","object","key","push","stubFalse","arrayPush","array","values","index","length","offset","baseIsNative","getValue","getNative","freeExports","nodeType","freeModule","moduleExports","Buffer","root","nativeIsBuffer","isBuffer","isKeyable","type","isObjectLike","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","func","isObject","render","_vm","this","_c","_self","_setupProxy","staticClass","on","onDropImageFiles","$event","preventDefault","stopPropagation","attrs","isInCropNav","showAllScale","onZoomSlider","imageResize","model","fitRatio","callback","$$v","expression","directives","name","rawName","class","isDragging","showLiquefy","handleClickDrag","staticStyle","imageState","effectLoaded","showPainter","isInColorNav","isOnlyPaletteEffect","handleUseLiquefyMode","disabledProgress","loading","isFullScreenPreview","containerMouseDown","costTimeObj","costIsPro","_e","costTimeData","costLastTime","costNewTime","style","handleExitPreview","nativeOn","stopMousePropagation","_v","showPaletteUpdateGuide","cacheHiddenEffectTip","apply","arguments","slot","showHiddenEffectTip","ref","require","$isMac","PointZoomCompare","photoCompare","$getIconPath","loadingText","user","waterMark","_s","$t","imageName","RefineNavName","Beauty","Palette","Background","includes","activeNavName","refineUUID","isDestroy","getParamsJson","onApplyPresetClick","reloadProcessImage","onChangeColor","onChangeBeautify","resetRemoveDefectivePaintMask","histogramData","chartData","imageInfo","PointClickSmear","allowPainter","usePainterTool","paintRemoveDefectiveMaskIsEmpty","disabled","photoControlInfo","cropConfig","rotate","handleRotate","handleFlip","handleCrop","handleResetCrop","scopedSlots","_u","fn","clickFinishCropBtn","proxy","beforeRefineNavBarChange","init","showResetMaskBtn","painterHistoryList","switchDefectTool","onChangeHistory","resetPainterRecord","PointClickSmearCancel","setRemoveDefectivePaintMask","PointClickPreservation","liquefyHistoryList","showLiquefyResetBtn","onChangeLiquefyHistory","handleResetLiquefy","handleFinishLiquefyMode","PointLiquefactionCancel","PointLiquefactionConfirm","hideLiquefyTool","switchLiquefyTool","done","showFeedbackDialog","feedbackDialog_viewModel","importProgress","status","myImportName","handleCancelImport","showImportProgress","deleteProgress","showDeleteProgress","staticRenderFns","activeNames","splitMinVal","splitManualVal","splitValue","PointDragPanel","handlResetPreset","cancelBlur","PointAddPresetIcon","handleAddPreset","presetHeight","_l","personList","person","PointSwitchGender","active","currPersonType","label","PointModifyGender","isFaceLoadSuccess","setSexAdjustHasRedDotValue","sexAdjustButtonHasNewDot","sexAdjustHasRedDotValue","showImportAgeSexRevise","paramsColsHeight","onUserBehavior","onChangeSliders","onChangeColorSliders","onInputSliders","onInputColorSliders","$emit","PointParameterAdjustmentReset","_t","PointSelectFilter","data","PointAddPresetButton","isOriParams","onSaveNewPresetClick","PointAddApplyButton","isApplyLoading","isSyncPresetDisabled","onApplyPresetToOther","changeSyncSetting","isRecommendPreset","deletePresetSuitId","preset_label","showNewPresetTypeDialog","onSaveSuccess","showSavePresetDialog","showImportPresetDialog","loadPreset","showSyncPresetSettings","showInAllTypes","formatAllPersonType","formatPersonParams","params","temp","forEach","item","obj","cloneDeep","PersonParamModel","identify","map","options","option","formatColorParams","colorList","param","colorMapping","cStyle","runwayStyle","background","JSON","parse","stringify","HslParamModel","formatPersonParamsGroup","Male","Female","Child","Older","showType","personType","flag","ParamFlag","EffectParamPersonType","flags","visibleBySex","visible","personParamsMap","Map","EffectParamEnum","Spotless","RemoveNevus","cType","max","SpotlessBody","RemoveForeheadLines","RemoveEyeLines","LightenPouch","tip","TearTrough","RemoveNeckLines","RemoveDoubleChin","line","StretchMark","StretchMarkLine","realtime","RealtimeType","EnableByGpu","NeutralGrayRetouch","MoisturizingSkin","IS_CLIENT_PIX_PIE","MoisturizingSkinNoFace","SkinColorLighten","SkinColorWhiten","SkinColorRuddy","SkinColorUniform","TeethWhiten","ToothRepairing","beta","BrightEye","getBackgroundEnhance","bgCleanModeDefault","bgCleanMooreModeDefault","initDefaultMode","BgCleanSwitch","BgCleanMode","hiddenName","parent","textColor","BgCleanMooreSwitch","tipStyle","width","BgCleanMooreMode","BackgroundEnhance","getSkyParams","haveSky","sky","haveWater","water","haveBody","body","slotName","title","SkyEdgeTransition","SkyTemp","min","step","barStyle","left","right","SkySaturation","SkyBrightness","SkyVague","SkyFlip","SkySceneryColor","SkyCharacterColor","SkyWaterReflex","titleTip","SkyWaterVague","makeup","FacialStereo3DLight","FacialStereo3DShadow","MakeupEnhanceEye","MakeupEnhanceMouth","makeupGroup","makeupSuit","id","SuitMakeup","effectKey","EffectNameEnum","MakeupSuit","isMainItem","children","path","iconPath","defaultValue","new","EyebrowMakeup","Eyebrow","customBtnTextStyle","display","EyeMakeup","Eyemakeup","EyelashMakeup","Eyelash","BlusherMakeup","Blusher","LipMakeup","Lipstick","makeupGroupFormat","comp","realtimeKeys","PersonEffectItemModel","EffectParamPersonTypeValue","version","EffectAlgoVersion","FaceSurgery","facialParams","LeftFaceLift","RightFaceLift","cTitle","LeftTemple","RightTemple","LeftCheekBone","RightCheekBone","LeftJaw","RightJaw","FaceLift","FacialRefineTemple","FacialRefineCheekBone","FacialRefineJaw","HeadNarrow","FacialRefineSmallFace","FaceWidth","FacialRefineChin","FacialRefineHairLine","eyeParams","FacialRefineEyeZoom","FacialRefineEyeHigher","FacialRefineEyeWidth","FacialRefineEyeDistance","FacialRefineEyeAngle","FacialRefineEyeUpDownAdjust","LeftEyeZoom","RightEyeZoom","LeftEyeHigher","RightEyeHigher","LeftEyeWidth","RightEyeWidth","LeftEyeDistance","RightEyeDistance","LeftEyeAngle","RightEyeAngle","LeftEyeUpDownAdjust","RightEyeUpDownAdjust","noseParams","FacialRefineNose","FacialRefineNoseHigher","FacialRefineNoseBridge","FacialRefineNoseAlar","FacialRefineNoseTip","mouthParams","FacialRefineMouthSize","FacialRefineMouthWidth","FacialRefineMouthHigher","FacialRefineMouthUpperLip","FacialRefineMouthLowperLip","eyeBrowParams","FacialRefineEyeBrowThickness","FacialRefineEyeBrowDistance","FacialRefineEyeBrowAngle","FacialRefineEyeBrowShape","FacialRefineEyeBrowHigher","LeftEyeBrowThickness","RightEyeBrowThickness","LeftEyeBrowDistance","RightEyeBrowDistance","LeftEyeBrowAngle","RightEyeBrowAngle","LeftEyeBrowShape","RightEyeBrowShape","LeftEyeBrowHigher","RightEyeBrowHigher","getFaceCompParams","SymmetryReshapeSwitch","symmetry","getDisableValue","faceDisabled","bodyDisabled","SymmetryReshapeFace","SymmetryReshapeBody","fSymmetryParams","getSymmetryParams","face","toLocaleLowerCase","typeGroupFormat","list","filter","parentName","trueLabel","falseLabel","AIBodyReshape","alwaysShow","PoseRefineSlim","PoseRefineHeighten","PoseRefineShrinkHead","PoseRefineSlimLeftNeck","PoseRefineSlimRightNeck","PoseRefineSlimHand","PoseRefineEnhanceBreast","PoseRefineSlimWaist","PoseRefineNiceButtock","PoseRefineSlimLeg","PoseRefineLengthen","BodyParams","constructor","baseParams","_mergeRule","get","personComMap","PersonType","switchMap","has","every","getParamsData","AlwaysEnable","red","orange","yellow","green","cyan","blue","purple","magenta","gray","black","white","customColor","EnhanceEditHSLHue","EffectParamHslColor","Red","Orange","Yellow","Green","Cyan","Blue","Purple","Magenta","EnhanceEditHSLSaturation","EnhanceEditHSLLightness","button","borderColor","EnhanceEditExposure","EnhanceEditContrast","EnhanceEditHighlight","EnhanceEditShadow","EnhanceEditWhite","EnhanceEditBlack","EnhanceEditCameraRawSharpen","EnhanceEditCameraRawVibrance","EnhanceEditSaturation","EnhanceEditCRDBStrength","collapse","collapseValue","collapseDisabled","EnhanceEditCRDBRadius","EnhanceEditCRDBDetail","getBaseParams","imageType","baseValue","oriWbICC","oriWbTint","loaded","cct","EnhanceEditColorTemperature","formatValue","v","calcRawWhiteBalanceCCTValue","calcJpgWhiteBalanceCCTValue","getRealValue","calcRawWhiteBalanceCCTValueToNormalizedValue","calcJpgWhiteBalanceCCTValueToNormalizedValue","hue","EnhanceEditHue","calcRawWhiteBalanceTintValue","calcJpgWhiteBalanceTintValue","calcRawWhiteBalanceTintValueToNormalizedValue","calcJpgWhiteBalanceTintValueToNormalizedValue","defaultOpenBeautyCollapse","beautyGroup","defaultOpenColorCollapse","colorGroup","group","defaultOpenBackgroundCollapse","backgroundGroup","component","PersonList","fRemoveDefects","removeDefects","fSkinParams","skinParams","fTeethParams","teethParams","fEyeParams","getDefaultParams","hsl","detailBoosting","base","getPersonParams","instance","poseRefineInfos","getFormComponents","extendInfo","symmetryStatusJson","skyExtendInfo","height","activeName","intelligentComponents","refInFor","oriPaletteParams","oriBeautifyParams","cParams","opt","ext","onModify","indexOf","_k","keyCode","nameDesc","t","i","isModify","reset","isSkyDisabled","formComponents","singleSingleFunction","onBlur","onFocus","onInput","onChange","paramsKeys","initParams","filterIsModify","onSlotInput","bgIsModify","isSkySelectEnable","skyIsModify","makeupSuitModify","allParamValues","isVisible","emitResetSingle","allRecordObject","$set","valueArr","indexArr","onSliderGroupChange","placeholder","ctrlKey","shiftKey","altKey","metaKey","collapseObj","onFilterObjectChange","filterObject","child","j","singleResetFunction","operation","BaseItem","update","toObject","toJson","DataCollection","currObject","_collectionMap","res","_collection","collection","childRes","set","console","warn","config","currValue","assign","toFilterObject","toCollapseObject","updateByObject","dataKey","isUpdate","size","hiddenLabel","precise","newIcon","components","Divider","Tooltip","props","Boolean","default","String","Number","onDoubleClick","onSlider","tempObj","showInputControls","showTooltip","showInput","inputSize","showStops","formatTooltip","range","vertical","debounce","tooltipClass","marks","isLock","onLockClick","locked","switchLockState","lockIconUrl","methods","getLockIconUrl","watch","isClicked","onLabelClick","showValue","isShow","parmaChangeInputValue","domProps","Array","isArray","_i","onCheckNumberValue","onUp","onDown","$$a","$$el","target","$$c","checked","$$i","concat","slice","_q","composing","mountedCallback","changeCallback","destroyCallback","autofocus","flat","tsInputDom","val","replace","destroy","mounted","createTargetBeforeElDom","targetEl","span","document","createElement","parentNode","insertBefore","createTsInput","placeholderDom","InputConstructor","Vue","extend","TsInput","propsData","$mount","useTsInput","formatResult","setup","emit","fValue","tsInput","TsNumberPlaceholder","onMounted","nextTick","isMounted","arr","immediate","indexs","updateIndexs","needUpdate","isAutoSync","currentValue","Switch","Checkbox","Select","Option","TsSlider","TsSliderGroup","TsItemCard","Function","hasMounted","isResetting","isEqual","deep","isNeedInput","collectionObj","resultObj","comName","activeSourceTab","isIdPhotoLoading","backgroundList","BACKGROUND_LENGTH","mineIdPhotoCount","MINE_BACKGROUND_LENGTH","openMorePanel","listIconHeight","marginRight","getMarginRight","onChangeBackgroundPath","currentPath","filterFormatName","isMineListEmpty","getMineMarginRight","onAddClick","mineIdPhotoList","handleNodeContextmenu","selected","isSelected","getIconPath","progress","onCancelClick","_m","tsGtag","PointDoubleClickTitle","onResetSingle","SliderEnum","Gamma","currentGamma","onLabelChange","PointDoubleClickDot","onChangeBackgroundGamma","isShowPanel","onActiveSourceChange","closePanel","mineIdBackgroundList","panelGamma","mixins","sourceType","handler","store","isShort","None","selectedItemIds","isFound","customMessageStyle","message","then","catch","menu","action","show","onDeleteMaterialMineIdPhoto","showProgress","isEmpty","importDescription","percentage","isCancel","description","current","total","computed","BgReplacePath","EffectModel","IdPhotoPanel","idPhotoUploadFragment","importStatusWatchSymbol","PointSelectIdPhotoBackground","strFinalPath","labName","isRest","isSwitch","lab2Name","lab3Name","optDesc","extInfo","emitChange","importIdPhotoMaterialRpc","onCommandLeftMouseClick","onShiftMouseClick","firstSelectedItem","firstSelectedIndex","itemIndex","it","resetMineSelects","registerShortKey","beforeDestroy","changeChoose","cacheRadio","changeData","changeValue","onMainChange","selectPath","onSuitClick","onSliderChange","onSliderInput","slideValue","items","paddingLeft","getMarginLeft","paddingRight","onItemClick","mouseDownIndex","_f","itemSize","w","h","initSelectPath","filters","initSelectIndex","sPath","SuitParamsGridView","PointRightMakeupItem","hasInit","paramsData","currentSuit","tempValue","slideDisable","currentSuitDefaultValue","identifyPath","initParamsData","gridView","isMain","updateParams","SuitParamsItem","suitParamsItemRefs","allParams","PointRightMakeupTheme","showFilterPanelView","matchFilterList","marginLeft","onChangePath","filterPath","onChangeAlpha","onInputAlpha","filterAlpha","showFilterPanelScene","filterParams","FilterParamModel","ParamModel","super","_path","pathKey","getFullPath","exitScene","filterColumnFormat","column","isOriginal","activeColumn","currentSelectId","currentSliderValue","row","filterList","filterPathCache","Filter","alphaKey","FilterPanelComponent","tempFilterAlpha","BaseHistory","groupName","getCommonLabel","labelArr","getLabelName","getLabelArr","commonArr","getOptDesc","getPersonType","test","matchArr","match","pt","getHistoryExtInfo","sex","SwitchHistory","SelectHistory","find","TsSliderGroupHistory","CheckboxHistory","HistoryRecord","_realtimeMap","_slotRealtimeKeys","_componentMap","_filterHistoryKeys","_group","getRealtimeMap","initSlotRealtimeKeys","slotRealtimeKeys","formatData","cd","rKeys","realtimeMap","createHistoryRecord","len","createResetHistoryRecord","listElement","enable","debug","isRealtime","isValidRealtime","k1","k2","v1","v2","imgUrl","backgroundSize","skyButtonClick","onMousedown","skyName","transform","skyIconRotate","zIndex","top","panelTopPosition","panelRightPosition","showSkySelect","skyPath","changeChooseItem","initButton","clickoutsidePanel","foucuSelect","skySelectChange","cacheType","skyAllType","skyColumnFormat","currentTarget","onInputFocus","inputValue","showSelectDropdown","dropdownPosition","showUpArrow","removeTimer","scroll","isScroll","translateY","onContentWheel","showDownArrow","slots","UP","DOWN","direction","getMaxHeight","log","maxHeight","maxHeightRef","isFixed","scrollTop","viewContent","timer","clearInterval","changeCurOption","onSwitchSelectDrop","getDropdownPosition","addDomClickListener","hideOptionCount","hideOptionCountRef","leftBottom","leftTop","removeDomClickListener","closeDropdown","window","onUnmounted","curValue","provide","viewContentHeight","dropdownContainerBottom","dropdownContainer","isReachTop","onInputBlur","dropdownRef","viewHeight","selectContent","optionsCount","isActive","onSelect","useFocusAndBlurRepositories","QtEventFilter","process","QtEventFilterType","KeyBoard","onDialogFocus","Mouse","onDialogBlur","isServer","$isServer","documentMode","addEventListener","element","event","attachEvent","removeEventListener","nodeList","ctx","seed","createDocumentHandler","el","binding","vnode","mouseup","mousedown","context","contains","popperElm","methodName","bindingFn","node","documentHandler","bind","unbind","splice","Sky","getters","TsSelectOption","TsSelect","mousedownoutside","skyList","skyPathCache","skyType","backgroundIcon","backgroundName","SkyReplacePanel","PointSkyChoose","isAutoClose","inPanel","handlePanelPosition","handleScroll","handleResize","ComponentCollection","IdPhoto","FilterComponent","SuitParamsGroup","IdPhotoSky","showSliderInput","showLabelPercent","historyRecord","syncSlotComp","initParamsFilter","isChange","domRef","customCollapseItemRef","componentCollectionRef","idPhoto","idPhotoTailorPanel","filterRef","suitParamsGroup","idPhotoSky","bgCropIsModify","sync","syncParams","_setup","TsDialog","form","TsSelectBox","ElSelect","whichPresetClass","allPreset","ElOption","handleAddPresetClass","ElDivider","PresetSetting","customSettings","checkboxSettings","onPresetSettingChange","selectType","ElButton","onSubmit","coverLoading","onCover","hasMineIdPhoto","_defineComponent","__name","emits","__props","inputPresetNameRefs","defaultSyncCheckboxSettings","checkHasMineIdPhoto","getPresetClass","focus","userId","reactive","cover","class_list","state","presetting","preset_class","classId","presetIncludeJson","effects","crop","algoVersion","initCustomCheckboxSettings","beautifyJson","paletteJson","BeautifyParamsViewModel","paletteModel","PaletteParamsViewModel","json","getHasEffectConfig","ptConfig","getCustomCheckboxSettings","async","beautifyJsonStr","paletteJsonStr","refine","getPresetSuitJson","presetCheckHasMineIdPhoto","dispatch","tsNotify","useToastRepositories","createdTime","trim","isSaveBtnClick","fsParams","paletteParams","jsonObject","beautify","configJson","palette","createPresetSuit","loadDb","setting_id","PointSavePresetEvent","delay","err","createdAt","presetItems","preItems","created_at","updated_at","moment","format","PointSavePresetSubmit1","PointSavePresetCover","PointSavePresetSubmit2","useRefinePointsRepositories","pointStr","oldName","oldClassId","nameStr","classIdStr","__sfc","dialogTop","dialogWidth","onClose","onBodyClick","manualFaceGuidId","onAddFaceFrameClick","toScale","dialogHeight","canvasHeight","canvasWidth","faceData","scale","noComplete_toScale","callBackPersonType","onFaceDeleted","onFaceEditStatusChanged","mousewheel","GlobalDocumentEventBus","eventName","callBack","eventbus","$on","$off","PersonBioItemStatus","isMove","edit","parentElement","scaleRadio","isFirst","clearUpData","mouseAll","mouseAllUnRegister","ev","changeScaleRadio","documentMove","centerInfoBox","documentUp","faceDataTemp","deleted","faceBoxNormalized","border","selectedBorderWidth","selectedColor","ManualFaceFrameId","onNormalFaceFrameClick","onNormalFaceFrameMetaClick","opacity","selectedPersons","InActiveAlpha","isPending","refreshPage","isSelect","borderDiv","canShowFaceMarkToolTip","tooltipBgColor","isFaceMarkLoading","faceMarkTooltipText","newFaceDataViewModel","x","faceBox","y","newFaceFramePendingBorderColor","outColor","canDragFaceFrame","onNewFaceFrameChanged","onNewFaceChangeFinished","canShowFaceConfirm","isFaceMarkWarning","onFaceConfirm","onFaceReject","onDeleteFaces","onBatchSexClick","onBottomGroupSexItemChoosed","batchSelectSexVal","PersonBioViewModel","bioModel","_status","_isSelected","_bioModel","dataModel","PersonBioModel","v4","uuidv4","time","Date","getTime","fileName","replaceAll","bindFromConfirm","faceJson","gender","age","getFaceRect","getFaceBoxNormalizedRect","isManual","add","changed","fbrFileName","currentFrame","outBoxFrame","outerBorderWidth","onBodyMousedown","innerBoxFrame","innerBorderWidth","inColor","vectors","vec","pointerEvents","floatClass","hexColorToRgba","hexColor","alphaMaxVal","rgbaArray255","VectorTag","topLeft","topRight","bottomRight","bottomLeft","innerBoxAlpha","frame","minSize","maxSize","safeEdge","vectorWidth","isDown","isBodyDown","downPoint","curVecTag","floatBoardSize","edgeFrame","safeEdgeFrame","beforeMount","maxRightEdgeX","maxBottomEdgeY","setFloatClass","strClass","parentEl","registerEvents","rgba","ary","onMousemove","targetX","targetY","targetWidth","targetHeight","isLimitMin","onMouseup","OVERLAY_OPACITY","OVERLAY_PADDING","SHOULD_ANIMATE_OVERLAY","SHOULD_OUTSIDE_CLICK_CLOSE","ALLOW_KEYBOARD_CONTROL","SHOULD_OUTSIDE_CLICK_NEXT","ESC_KEY_CODE","LEFT_KEY_CODE","RIGHT_KEY_CODE","ID_OVERLAY","ID_STAGE","ID_POPOVER","CLASS_DRIVER_HIGHLIGHTED_ELEMENT","CLASS_POSITION_RELATIVE","CLASS_FIX_STACKING_CONTEXT","CLASS_STAGE_NO_ANIMATION","CLASS_POPOVER_TIP","CLASS_POPOVER_TITLE","CLASS_POPOVER_DESCRIPTION","CLASS_POPOVER_FOOTER","CLASS_CLOSE_BTN","CLASS_NEXT_STEP_BTN","CLASS_PREV_STEP_BTN","CLASS_BTN_DISABLED","CLASS_CLOSE_ONLY_BTN","CLASS_NAVIGATION_BTNS","CLASS_DRIVER_STEP","ANIMATION_DURATION_MS","POPOVER_HTML","className","OVERLAY_HTML","STAGE_HTML","createNodeFromString","htmlString","div","innerHTML","firstChild","getStyleProperty","propertyName","prefixVendor","prefixes","counter","prefixedProperty","foundValue","propertyValue","currentStyle","defaultView","getComputedStyle","getPropertyValue","toLowerCase","isDomElement","Overlay","highlightedElement","lastHighlightedElement","hideTimer","removeNode","attachNode","pageOverlay","getElementById","appendChild","animate","removeChild","highlight","isSame","clearTimeout","onHighlightStarted","onDeselected","position","getCalculatedPosition","canHighlight","onHighlighted","setTimeout","bottom","getHighlightedElement","getLastHighlightedElement","clear","onReset","hideStage","refresh","showPopover","showStage","Position","Element","popover","stage","overlay","animationTimeout","isInView","offsetTop","offsetLeft","offsetWidth","offsetHeight","offsetParent","pageYOffset","pageXOffset","innerHeight","innerWidth","scrollManually","elementRect","getBoundingClientRect","absoluteElementTop","middle","scrollTo","bringInView","scrollIntoView","scrollIntoViewOptions","behavior","block","documentElement","scrollLeft","getPopover","hidePopover","removeHighlightClasses","addHighlightClasses","classList","remove","stackFixes","querySelectorAll","canMakeRelative","fixStackingContext","tagName","parseFloat","transformStyle","transformBox","perspective","currentPosition","avoidPositionsList","property","getNode","hide","showAtPosition","showAfterMs","getFullPageSize","html","Math","scrollHeight","scrollWidth","getSize","Popover","isLast","totalCount","currentIndex","showButtons","showPreviewButton","doneBtnText","startBtnText","nextBtnText","prevBtnText","tipNode","querySelector","titleNode","descriptionNode","footerNode","nextBtnNode","prevBtnNode","closeBtnNode","driverStepNode","getTitleNode","getDescriptionNode","setInitialState","renderFooter","positionOnLeft","positionOnLeftCenter","positionOnLeftBottom","positionOnRight","positionOnRightCenter","positionOnRightBottom","positionOnTop","positionOnTopCenter","positionOnTopRight","positionOnBottom","positionOnBottomCenter","positionOnBottomRight","positionOnMidCenter","autoPosition","hasSteps","elementPosition","popoverWidth","popoverMargin","padding","popoverDimensions","popoverHeight","popoverCenter","elementCenter","topCenterPosition","dimensions","nodeCenter","pageSize","popoverSize","pageHeight","pageHeightAfterPopOver","Stage","setInitialStyle","requiredPadding","backgroundColor","stageBackground","Driver","autoComplete","autocompleteWait","allowClose","keyboardControl","overlayClickNext","onNext","onPrevious","onCloseClicked","isActivated","steps","currentStep","currentMovePrevented","autoCompleteTimer","onResize","onKeyUp","onClick","moveNext","movePrevious","preventMove","getSteps","setSteps","hasHighlightedElement","clickedHighlightedElement","clickedPopover","handleNext","nextClicked","prevClicked","closeClicked","handleCloseClicked","handlePrevious","previousStep","resetAutoCompleteTimer","nextStep","hasNextStep","hasPreviousStep","clearAutoCompleteTimer","defineSteps","prepareElementFromStep","allSteps","elementOptions","isStepDefinition","Error","domElement","mergedClassNames","c","join","popoverOptions","stageOptions","start","selector","GuideId","isWin32","useRefineFaceUpdateGuide","PointGuideImgAdjust","PointGuideBackground","PointGuideHistory","_onFinishGuide","localStorage","setItem","GuideStoryKey","Refine_ManualFaceBatchSelect","APP_VERSION","driver","handleGuideStart","getItem","getInstance","footEl","getElementsByClassName","overFlowRate","defaultNewFrameSize","nFaceShowHotKeyGuide","avgOfFaceFrame","faceDataViewModels","totalWidth","totalHeight","newFaceFrame","faceSize","canvasW","canvasH","PointAddAFace","PointAddAFaceFinish","noCompleteRatio","canShowInitAddTooltip","popperObject","virtualTipElement","contextElement","isFaceChanged","pendingToSavePersons","bottomToolRef","calcSelects","selectedPerson","changedFaceData","sexSelectorRef","faces","deletedFaces","clearSelects","getNewFaceFrameNormalized","retX","retY","retWidth","retHeight","isFaceRectIntersect","filterIds","initFaceData","faceDataViewModel","resetToolTip","placement","modifiers","select","saveFace","selfAdaptionFaceBox","elselectsmall","handle_noComplete_face","changePersonBoxPosition","personBox","attachBottomTool","bodyEl","Refine_ManualFace","ManualFaceId","ImportAgeSexReviseItem","ImportAgeSexReviseBox","personTypeTab","headHeight","footHeight","isPersonBioChanged","newPersonType","ageSexReviseImageData","scaleRatioWidth","scaleRatioHeight","isUpdateType","imageData","isLoadSuccess","isConfirm","isFacePending","oldFaceData","jsonArySaveToFile","cxt","centerInfo","img","canvas","needConvert","oldPersonType","isChanged","isIdentical","changedPersonType","UserPreferenceSettingModel","ret","chartTitleHeight","presetTitleHeight","useSplitRepositories","isRaw","paramsComRefHeight","cacheHeight","userPreferModel","setRefineParamsSplitValue","initSplitVal","getRefineParamsSplitValue","histogramHeight","updateHistogramHeight","getHistogramRef","tsHistogramH","$children","getHeight","updateParamsComRefHeight","getParamsComRef","listenResizeEvent","Tool","Split","ParamsCollapse","SavePresetDialog","TSPresetTree","ImportAgeSexRevise","SyncPresetSettings","ElButtonGroup","presetManager","PointsMixin","reloadColsHeight","tsConfirm","batchSendGtag","PointRightParams","PointRightPreset","PointAddPresetSort","presetSuitId","showCancelButton","_","savePresetDialogRefs","tSPresetTreeRefs","presetTree","isPresetSuitDelete","lastPresetSuitId","that","beautifyParams","presetType","reloadPresetSuitSelect","paramsComRef","histogram","splitMaxVal","activeThumbnail","thumbnailSelection","updateShowFeedbackDialog","PointFeedbackChoose","feedback_type","PointFeedbackInputContent","inputDefault","inputFocus","feedback_content","onCancelBtn","onSubmitBtn","isCancelClick","isSubmitClick","feedbackData","type_id","FeedbackReport","projectId","imgPath","pointFeedbackConfirm","imgFormat","pointFeedbackCancel","hiddenBackground","fixed","fullscreen","text","zoom","isMousedown","handleSliderChange","transformUseValue","disabledQuickButton","fitPosition","PointClickFit","PointClickOriginal","ratio","cake_operate","loadingPercent","loadingTimer","autoAddPercentage","showProgressTimer","activeNav","PointClickSmearReset","toolKey","changeTool","tools","tool","setValue","PointClickSmearTool","painterMouseDown","painterMouseMove","painterMouseUp","historyList","PointClickSmearHistoryBack","uuid","changeHistory","ToolRecordName","EventEmitter","_listeners","maxListener","$once","once","off","$listeners","listeners","addListener","removeListener","cb","error","args","shift","listener","self","removeAllListener","setMaxListeners","num","BaseTool","cursorMounted","_size","cursor","createCursorElement","increaseSize","toRound","getElement","updateCursorSize","_centerOffset","borderRadius","updateCursorElement","dom","ele","feather","DefectTool","isEraser","_opacity","_feather","insideElem","createInsideCycleElement","updateInsideCycleElement","elem","getDataForAlgorithm","featherTemp","insideCycle","justifyContent","alignItems","margin","fontSize","innerText","fontStyle","getComponentData","BaseToolControl","_cacheMousePosition","_tool","Eraser","initTools","getSpecialTool","_addKeyDownEvent","unmounted","removeCursor","addCursor","updateMousePoint","activeTool","updateCursorPosition","createToolsOperationData","bindMany","ControlTools","toolMap","Brush","PtListenerEvent","LiquefyListenerEvent","pointsMixin","toast","controlTools","emitToolChange","addKeyDownEvent","code","eventCode","listenerKeyboard","resetTool","bodyDom","clientX","clientY","usePainterRepositories","photoControlRef","controlInstance","showResetBtn","showProcessModePanel","useProcessMode","beforeOpenMode","usePainterMode","HistoryUpdate","ShowResetDefaultMask","HistoryExpired","_listenThumbnailCanChooseItem","_finishProcessMode","mode","beforeCloseMode","cancelRemoveDefectivePaintMask","painterCloseConfirm","confirmButtonText","isButton","RefineListenerEvent","ThumbnailCanChooseItem","openPainterMode","selectId","onResetRecord","throttleScroll","renderTitle","renderDesc","originItem","created_time","thumbnailId","sexMap","DynamicScroller","DynamicScrollerItem","photoControlFunc","PointHistoryStep","PointHistoryReset","PointHistoryScroll","leading","ipcRenderer","history","resultElement","finalList","scrollToTarget","targetIndex","isUp","distance","leader","throttle","timeout","wait","onHistoryScroll","defaultRefineViewParams","leftListMargin","fullPreviewRefineViewParams","defaultGalleryListViewParams","fixWidth","leftListPadding","useGetQtViewRepositories","needCreateMainFragment","setNeedCreateMainFragmentTag","from","to","canDestroy","updateDragStatus","switchGrab","_showFragment","refineViewParams","isInGallery","galleryListViewParams","send","showRefineFragment","commit","isFromRefineTab","refineOrGalleryUUID","loadGalleryView","onEscKeyboard","handleFullPreview","listenerEscKeyboardEvent","exitFullPreview","updateRefineLayout","fullPreview","qtTimer","loadQtView","doWhenLeave","hideRefineFragment","LoadImage","LoadImageNative","ReqServe","ReqServeNative","Process","ProcessNative","loadTime","lastTime","newTime","GenSeed","ReqFile","ServeDur","Alatency","Native","navMenuList","isStaying","handleClick","onMouseEnter","onMouseLeave","point","guideId","icon","dot","newDot","shortcut","CURR_LOCAL_VALUE","useRefineGuideRepositories","PointGuideCrop","PointGuidePresetSettings","RefineNavBar","steps1","NavBarColor","NavBarBackground","NavBarCrop","NavBarHistory","PresetSettings","steps2","useMouseStayRepositories","enterTimer","banShortcut","beforeChange","imageLoading","imageInit","PointPortraitBeautification","PointImageAdjustment","PointBackgroundAdjustment","PointOperationHistory","PointCropIcon","navbarDot","newDotTip","checkHasGuideRecord","DictionaryKeys","NavbarBackgroundDot","History","insertGuideRecord","bool","ExtraInfoModel","_init","info","bgCleanMode","bgCleanMooreMode","getJson","getJsonStr","setDefaultCleanMode","isNeedUpdateDefaultMode","updateDefaultMode","updateBgCleanMode","updateBgCleanMooreMode","OperationStack","_stack","_limit","_allowExpirePop","activeIndex","currRecord","getRecordStack","_limitRecord","hasInitRecord","_discarding","restore","pop","_activeIndex","previous","preIndex","next","createInitRecord","record","save","createRecord","activeOperation","findIndex","activeRecord","needActive","PainterBaseControl","photoId","operationStack","toolControl","_emitHistoryChange","reverse","revRecordCallback","_createRecord","onInitCompleted","RecordType","Init","RECORD_INIT_UUID","initRecordNameMap","qtPhotoMode","Reset","ThumbnailPainterRecord","setRefineUUID","useTool","switchTool","qtToolKey","resetPicture","closeProcessMode","locatePainterStep","SignalKeyboardEventName","Undo","Redo","signalMouseAndKeyboardEvent","PainterControl","_isDragging","_showResetDefaultMask","_hasChangedMask","QtPhotoMode","Defect","QtToolKey","DefectPainter","DragStateChanged","paintMaskIsEmpty","showResetDefaultMask","handleRemoveDefectivePaintMask","OperateDefectMode","Save","Cancel","InitSize","PhotoCtrlListenerEvent","PreviewMode","LiquefyTool","_density","_pressure","_edges","setEdges","density","pressure","edges","LiquefyToolControl","Liquefy","m_nDiameterSize","nStep","isPlus","LiquefyControl","LiquefyPainter","resetLiquefy","handleLiquifyOperate","OperateLiquefyMode","saveLiquefyMode","cancelLiquefyMode","MousePress","MouseEvent","MouseRelease","PhotoControl","thumbnailModel","imgIndex","photoID","paletteViewModel","beautifyViewModel","extraInfoModel","exifInfo","painterControl","liquefyControl","_isLoadingThumb","_thumbnailLoading","_imageLoading","_algorithmLoading","_maskLoading","_loadingText","isPainting","updateTime","isSetEffectHis","_paintRemoveDefectiveMaskIsEmpty","_allowPainter","_isOnlyPreviewPalette","MemoryMonitor","shareInstance","addObject","registerListener","getPhotoControlInfo","ImageType","Raw","quickCancelImageLoading","PresetSuitIdType","NoEffect","ThumbnailStatus","_updateLoadingStatus","getLastPathName","msg","ImageLoadErrorCode","COMPLETE_CODE_UN_SUPPORT_IMAGE_FORMAT","CLIENT_NAME","NodeApi","getExport","asyncReportRawShowError","COMPLETE_CODE_FAILED_GENERATE_SEED","ImageLoadingStatus","EffectLoaded","Notify","ThumbnailExtraInfo","_updateExifInfo","ExtraInfo","updateHisData","hisData","ThumbnailAIResponse","extraInfo","initExtraInfoModel","AIResponse","ThumbnailScale","Scale","SignalThumbnailEvent","eventId","RefineThumbnailEventId","UpdateHisData","CropInfo","updateCropInfo","UpdatePainterInfo","_updatePainterInfo","CostTimeRecorder","updateCostTimeData","ProcessCode","_updateProcessMessage","Rotate","_updateRotate","FinishCrop","ChangeRatio","_updateCropRatio","PresetUpdate","_onPresetUpdate","configJsonStr","toningConfigStr","PresetSuitUpdate","presetId","PresetJsonUpdate","cropModel","setRatio","rotateModel","setRotate","angle","curr","typeText","RefineProcessCodeMapping","Status","allowModifyGender","ThumbnailLoading","ThumbnailLoaded","OriginLoading","OriginLoaded","EffectLoading","MaskLoading","MaskLoaded","setBaseParam","hexToInt","isValid","UpdateCropInfo","cropWidth","cropRoi","cropHeight","UpdateCostTime","loadImage","parseToJson","OnlyPreviewPalette","PreviewAll","presetSuitModel","resetLiquefyMask","applyPresetSuit","allKeys","updateKeys","checkModelKeys","models","getParamsModel","setParamValueToTsImageIO","reloadBeautifyEffect","needReloadThumbnailByModify","faceSurgery","isIncludeBgClean","some","bgCleanModeObj","bgCleanMooreModeObj","needReloadProcess","batchUpdateData","isBatch","updateEffect","AlgoVersionModel","colorFlag","getFloatValue","setPaletteValue","personFlag","setBeautifyValue","WhiteBalanceParamModel","batchSetValue","changeRatio","compare","imageCompare","handlePhotoControlOperate","QtPhotoOperate","ResetDefectMask","ResetLiquefyMask","extraInfoStr","hasExtraCache","isNeedUpdate","finishPainterMode","useLiquefyMode","finishLiquefyMode","useCropTool","Crop","dpi","unit","flipX","flipY","toComponent","closeTool","getCropObj","rotateObj","cropObj","setFlit","handleFlit","setCrop","OperateCropMode","Update","_removePhotoCtrlListener","_removeRefineThumbnailEvent","hasBeautifyEffect","hasEffect","usePhotoControlRepositories","beforeThumbnailChange","isOnlyPreviewPalette","getCurrentInstance","activeThumbnailId","activeProject","photoControl","isPro","isShowMsg","PointFileNotExit","PointFileCopyPath","_thumbIsValid","FileUtils","isFileExist","thumbInfo","basename","findDirPath","$createElement","styleTitle","styleContent","customTitleEl","customMessageEl","distinguishCancelAndClose","beforeClose","clipboard","writeText","_destroyPhotoControl","_loadPhotoControl","image","originWidth","originHeight","faceIsValid","skyInfoJson","transFaces","cacheFaces","addThumbnailChangeListener","onThumbnailChange","valid","$thumbnailOptRecord","loadThumbnailOptRecord","removeThumbnailChangeListener","removeThumbnailChange","Unit","ElCollapse","ElCollapseItem","resetCrop","CropArea","isShowCropReset","isShowRotateReset","resetRotate","RotateArea","onTypeChange","tailorTypeList","faceNum","imageOriFaceNum","showRadioInput","ElInputNumber","onRatioChange","rWidth","rHeight","handleExchange","showIdPhotoInput","onIdPhotoChange","handleIdPhotoExchange","onUnitChange","maxDPI","limitDpi","onDpiChange","_n","Flip","expose","cropInitObject","isSyncFromQt","OriginType","Cm","cache","showRatioInputTypes","allIdPhotoTypes","Pix","needReset","RatioType","syncFromJson","FixedRatioType","recommendRadioTypes","DefaultIdPhotoType","idPhotoTypes","emitRadioChange","emitIdPhotoChange","cropTypes","limitToPrecision","checkHasRecommendRatio","recommendRadioOptions","needSetRecommendCropType","cm2pix","pix2cm","limitMax","emitRotateChange","ondbclickRotate","rotateButtons","click","RotateInfo","baseAngle","baseIndex","floor","spliteRotateAngle","increaseBase","Collapse","CollapseItem","toRefs","Default","emitFlipChange","Inverse","showCropResetBtn","cropRef","rotateRef","useCropRepositories","PointCropFinish","useParamsPointsRepositories","finishCrop","usePaletteRepositories","hasCachePreviewTip","PointPreviewColorMode","PointPreviewFullMode","checkHasHiddenEffectTip","HiddenPreviewEffectTip","checkIsShowHiddenEffectTip","PointPreviewInit","hiddenTipTimer","clearTimer","isChangeImage","useNavbarRepositories","navBarChange","cacheLastNav","defaultActiveNavName","isInCropNavbar","restoreNavbar","fromKey","toKey","useLiquefyRepositories","showModePanel","liquefyInstance","PointClickLiquefaction","_finishLiquefyMode","_closeConfirm","handleReset","Drawer","onBeforeClose","ElSwitch","PointLiquefyOperate","initTool","updateToolByKeydown","thumbnail","tsFileImport","LiquefyDrawer","CostTime","FeedbackDialog","SpinLoading","RightParamsView","Histogram","ZoomButtonGroup","TsProgress","DefectPanel","ThumbOptRecordView","CropPanel","beforeRouteEnter","vm","beforeRouteLeave","toningJsonStr","ageSexReviseData","onSelectionChangedCallback","PointPreviewClick","PointPreviewExit","handlePreviewAll","isShowingImportDialog","changeShortcutHelper","isNoSpace","onShowMultipleGuide","onHideMultipleGuide","thumbnailRef","thumbViewScrollToIndex","onFeedbackItemClick","callChangeShortcutHelper","paths","properties","registerSecondImportEvent","ShortcutHelper","Uint8Array","eq","equalArrays","mapToArray","setToArray","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","other","bitmask","customizer","equalFunc","stack","byteLength","byteOffset","buffer","convert","isPartial","stacked","Promise","hashDelete","__data__","getMapData","mapCacheSet","mapCacheGet","nativeCreate","HASH_UNDEFINED","hashSet","baseGetTag","argsTag","baseIsArguments","listCacheClear","objectToString","freeGlobal","freeSelf","arrayFilter","predicate","resIndex","stackDelete","isFunction","isLength","isArrayLike","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","toSource","reRegExpChar","reIsHostCtor","funcProto","funcToString","reIsNative","RegExp","pattern","nullTag","undefinedTag","WeakMap","arraySome","DataView","Set","objectTag","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","Ctor","ctorString","hashClear","baseTimes","n","iteratee","global","DESCRIPTORS","defineBuiltInAccessor","regExpFlags","fails","RegExpPrototype","FORCED","INDICES_SUPPORT","O","calls","expected","addGetter","chr","defineProperty","pairs","dotAll","ignoreCase","multiline","sticky","hasIndices","getOwnPropertyDescriptor","configurable","stackHas","overArg","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","baseIsEqual","assocIndexOf","arrayProto","lastIndex","isArguments","isIndex","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","arrayTag","funcTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","hashHas","mapCacheClear","mapCacheDelete","mapCacheHas","MapCache","Stack","equalObjects","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","Hash","baseGetAllKeys","keysFunc","symbolsFunc","stackClear","stackGet","stackSet","setCacheAdd","arg","asyncTag","genTag","proxyTag","freeProcess","types","SetCache","cacheHas","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","getAllKeys","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","MAX_SAFE_INTEGER","hashGet","reIsUint","LARGE_ARRAY_SIZE","setCacheHas","proto","makeBuiltIn","descriptor","getter","setter","f","isBrowser","navigator","timeoutDuration","longerTimeoutBrowsers","userAgent","microtaskDebounce","called","taskDebounce","scheduled","supportsMicroTasks","functionToCheck","getType","getStyleComputedProperty","ownerDocument","css","getParentNode","nodeName","host","getScrollParent","_getStyleComputedProp","overflow","overflowX","overflowY","getReferenceNode","reference","referenceNode","isIE11","MSInputMethodContext","isIE10","isIE","getOffsetParent","noOffsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","end","createRange","setStart","setEnd","commonAncestorContainer","element1root","getScroll","side","upperSide","scrollingElement","includeScroll","rect","subtract","modifier","getBordersSize","styles","axis","sideA","sideB","computedStyle","parseInt","getWindowSizes","classCallCheck","Constructor","TypeError","createClass","defineProperties","enumerable","writable","protoProps","staticProps","_extends","source","getClientRect","offsets","sizes","clientWidth","clientHeight","horizScrollbar","vertScrollbar","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","getFixedPositionOffsetParent","getBoundaries","popper","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","_ref","computeAutoPlacement","refRect","rects","sortedAreas","area","sort","a","b","filteredAreas","_ref2","computedPlacement","variation","split","getReferenceOffsets","commonOffsetParent","getOuterSizes","marginBottom","getOppositePlacement","hash","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","check","prop","cur","runModifiers","ends","modifiersToRun","enabled","isDestroyed","arrowStyles","attributes","flipped","positionFixed","flip","originalPlacement","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","getSupportedPropertyName","upperProp","charAt","toUpperCase","prefix","toCheck","removeAttribute","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","scrollParents","isBody","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","cancelAnimationFrame","isNumeric","isNaN","isFinite","setStyles","setAttributes","setAttribute","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","getRoundedOffsets","shouldRound","_data$offsets","round","noRound","referenceWidth","popperWidth","isVertical","isVariation","sameWidthParity","bothOddWidth","horizontalToInteger","verticalToInteger","isFirefox","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","devicePixelRatio","invertTop","invertLeft","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","sideCapitalized","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","getOppositeVariation","placements","validPlacements","clockwise","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","placementOpposite","flipOrder","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","keepTogether","toValue","str","parseOffset","basePlacement","useHeight","fragments","frag","divider","search","splitRegex","ops","op","mergeWithPrevious","reduce","index2","preventOverflow","transformProp","popperStyles","priority","primary","escapeWithReference","secondary","shiftvariation","shiftOffsets","bound","inner","subtractLength","onLoad","Defaults","Popper","_this","requestAnimationFrame","jquery","Utils","PopperUtils"],"mappings":"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BACA,UACA,UAEA,gBACA,yBACAC,uCACA,4DAGA,OAFA,WACA,WACA,GAGA,MACA,cACA,OAEA,oBAAAZ,GAAA,KACA,cACAjB,qBACAtB,WACAkD,eAEA3B,mBACA,qBACA,cACAhE,UACA2F,eAEAE,aAEA5B,kBACAxB,WACAkD,cAEA9tB,iBAIA,OACA8qB,YACA3C,YACAyC,YACAC,mBC1G8V,MCQ1V,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC4DA,IACfzmB,qBACA0kB,YACA,oBACAmF,uBACA,gCAEAhF,OACA3U,MACApS,YACAinB,WAEAnpB,OACAkC,oBACAinB,UACA,cAGAQ,WACAznB,aACAinB,YAEAM,mBACAvnB,aACAinB,YAEAS,WACA1nB,YACAinB,iBAEAU,WACA3nB,aACAinB,YAEAO,aACAxnB,aACAinB,YAEAW,uBACAvhB,UACArG,aACAinB,YAEAY,OACA7nB,aACAinB,YAEAa,UACA9nB,aACAinB,YAEApF,QACA7hB,aAEA+nB,UACA/nB,YACAinB,aAEAjd,OACAhK,aAEAgoB,oBACAC,aACA5a,cACAqI,QACA1V,YACAinB,YAEAla,SACA/M,WACAinB,YACA,KAKA0E,cAAAC,IAEA,6BACA,uBACA,uBAEAI,4BACAC,2BACAC,eAIA,2DAEA,MACA,WAIA,OAHAC,kBACAzf,eAEA,GAGA,iCACA+b,qCACAnB,eAGA,YACA,WACA,qBAIA,OAHAhnB,cACA6rB,YAEA,GAGA,MACA,WAIA,OAHAA,kBACAzf,SAEA,GAIA,cACA,uBACA,KAGA,gBACA,oBACA,kCAIA+b,mCACA,mBACA,+BACA,eACAP,aACAZ,eAEA,CAAA8E,eAGA,8CACA,qBACA,yBACA,OAGA9E,aACA,UAGA,YACA,WACA,uBACAA,aACA+E,UAEAC,IAGAxG,yCAEA,sBAIA8F,mBAGA,MACA,MACA,mBACA,SACA,uBACA,iBACAW,MAIA,IACAC,WACAnF,OACA4E,2BACAO,gBAMA,YACAA,WACAnF,OACA4E,2BACAO,aAEAZ,6BAGA,OACAtrB,OACAmsB,eACAnF,UACAY,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nB,YAEA8H,UACA/uB,YACAinB,mBACA,OACAqK,UACAC,YAKAtmB,OACA,OACAmmB,cAGAI,UACAN,oBACA,oEAEAC,aACA,2BAGA,8CAFA,IAKA5I,SACAyG,gBACA,iBACA,6BAEAP,aACA,6BCvF8Z,MCQ1Z,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,kGC2Kf,MAAMgD,GAAgBC,GAAA,KAAY7kB,SAAS,OAAgB4kB,eAE5C,QACfvvB,gBACA8tB,gBACApJ,YACA+K,gBACA7E,iBACAf,uBACA6F,0BAEA7K,OACAxD,YACAvjB,YACAinB,aACA,MAIAhc,OACA,OACA4mB,6BACAlE,oBACAI,+BACAF,0BACAkB,UACAuC,UACAC,WAIA5F,cAAAC,IACA,0CAEA,8BACA,SACA,6BAAAkG,GAAA,kBAEA,uFACA,4BACA,2DAGA,kCACA,MACA,OACA,EAEA,EAGA,MACA,WACA,gBACA,EAEA,GAIA,cACA,iBAEA,oBACA,yBACA,sBAEA,SAGA,6BACA,OAEAnC,YAGA,uBACA,sBAGA,cACA,cACA,0BACAoC,qBAEA,SACA,OACA,iCAGA,KACA,uBACA,2DACAtM,WAGA,yBACAmG,uBAEAxtB,WAEA,UACA,MACA,wBAEA,YADAmjB,6CAGA,cAEA,YADAA,6BAKA8M,gBACA,kBACAkB,WAEA,WAEAtkB,EADA,uBACAA,kCAEAA,kDAGA6mB,KAEA,OACAE,WACAC,UACAC,YACAC,YACAC,YACAC,YAEAC,gBACAA,gBACAA,iBAEA,cACA,0BACAP,qBAEAQ,GACA,OACA,iCAEA,SAAA/kB,kBAAAf,IAEA,OAEA,OACAulB,WACAC,UACAC,YACAC,YACAC,YACAC,YAEAC,gBACAA,kBACAA,kBAEAC,GACA,iCACA,SAAA/kB,oBAQA,uBACA,6BACA,WACA,4BACA,wCACAd,sBAGA,WAEA,6BAEA,uBAEA+b,yBACAmD,mBAEA,YACA,qCACAyC,cAEA,kBACA,yBACA,MACAA,6BAIA,sDACAkB,kCAGAnxB,SACA,aACA,kCAKA,OACA,yCACAiwB,qBAGA,4DACAkB,wCAOA,OACAyC,WACAC,UACAC,YACAC,YACAC,YACAC,YAEAC,iBACAA,eAEAC,GACA,aACA,iCAEA,QAAA/kB,oBAMA,GACA6iB,QACAf,SA2CA,MACA,cACAC,UACAG,IACAR,gCAOA,MACA,mBACA,0CACA,gBACA,4BACAK,gBACAG,MASA,SAGA,OACA8C,yCAEA,OACA9E,kBACAiC,cACA3B,gBACAM,mBAEAD,cACAkB,eAEA3B,iBACAO,iBACAK,qBACAJ,yBACAsB,0BACAV,gBACAP,aAGA5L,WACAC,QACA3b,OAEAkoB,aACAG,gBAEAJ,gBACAF,SACAX,oBAGAiD,aACA,6BACA,gBAEAvD,iBACA,+BACA,OAEA,qBACA,QAEA,SAEAS,kBACA,kEACA,yBACA,WACA,UAEAZ,mBACA,mDACA,kBAGAvF,YACA,6BACA,2BACA,kCAEAuG,eACA,gBACA,sBAEA,uFACA,UAEAc,wBACA,wBAEA,qCACA,SACA,+CACA,KACA,kBACA,4FACA,uBACAU,0BACA,uCACAC,QAIA,sBACAD,0BAEA,gBACAte,SACAwe,uCACAC,+BACAC,KAAA,gBACA,uEACA,yBACAC,MAAA,SAIAhC,yBACA,oBACAiC,QACA5mB,WACA6mB,sBACAxqB,YACA4E,OACAnJ,4CACAgvB,QAEA,uBACA,wDAAAV,aAEA,4EAIA,GAHA,6GACAtK,kDACA,yBACA,QACA,0BACA,KACA,uCACA,yCACAyK,KACA,MAGA,GACA,uCAKAkC,8BACA,mCACAhmB,6BAMAimB,qBACA,WACA,+CACA,KACA,IACA,KACA,kBACA,0CACA,IACAC,IACAC,MAGA,iBACAC,KAEA5zB,IAEA,MACAA,IACA,sBACA,gBACA6mB,6DACA,iBAEAgN,aADA,WAKA7zB,MAIA8zB,mBACA,mDACA,iBACAD,iBAGAE,sBAeAvI,UACA,iBAEAwI,gBACA,uCACA,wBACAT,iFCpsB+X,MCQ3X,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX7xB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAA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L,gBACApE,WACA,yBAEA9D,cAEAwH,OACA1D,WACA,2CAEA9D,eAGAmI,SACAjG,oBACA,iBAEA,oBACA,yBACA,sBAEA,WAGA/F,SACAuL,iBACA,eACA,EAEA,GAGA3F,kBACA,eACA,EAEA,GAGArL,QACA,uBAEA0R,mBACA,QAEA,GADA,sBACA,cACA,2BACA,cACA,YACA,sBACA,MAGAv1B,IAGA6mB,+FAEAkO,uDACAlO,oCACA,sBACA,gCACA,IACA,aAEA,sBACA,qDACA,sCACA,+BACA,SACA,UACA2O,cACA,IAEAA,aACA,MC3I2W,MCQvW,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC8CA,gCAAgB,CAC/BvyB,uBACA8tB,gBACApJ,YACA,oBACA8N,sBACA3I,wBAEAhF,OACA9b,MACAjL,YACAinB,eAGA0E,QACA,2BAAAgJ,GAAA,kBAEA,OACAA,yBAGA1pB,OACA,OACA2pB,WACAC,cACAC,eAEAC,YACApB,aACAJ,cAEAyB,gBACAC,4BAGAzD,UACA3kB,WACA,iBACA,cAEA,IAGAqoB,eACA,iBACA,oBAEA,IAGArhB,aACA,+BAGA4U,OACAxd,MACAilB,WACA,uBAEA9D,eAGA7D,SACA4M,iBACA,YAGA,eACA,gCACA,+BACA,mBACA,mBAIAhuB,QACA,UAAAxI,YAAA+U,GAAA,UAEA,sCACA,OACA,oBACA,qBAiBA,GAbA,sCACA,iCAEA,gCAEA,+BAEA,0CACA,qCAEA,mBAGA,kCACA,yCACA0hB,mCAGA,OACA,oBACA,sBAIAC,SACA,wBAGAvS,QACA,SACA,kDACA,SAaA,GAVA,iDACA,6CACApW,kCAGA,uBACA,mBACAA,yBAGA,kCACA,yCACA0oB,UAGA,UAGA5B,eACA,cACA,MACA,OAGA,YACA70B,gBAAA+U,GAAA,UAEA,6BACA,uBACA4hB,YACAA,oBAIA,+BACA,+BAIA,SACA,oBACA,qBAGA,gBACA,0CAEA,qCAGA,oCACA,MACA,qCACA,6CAKA5B,iBACA,sBACA,OAGA,iBACA,UAAA/0B,YAAA+U,GAAA,UACA,GACA,oBACA,qBAE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YACAinB,YAGAzY,SACAxO,aACAinB,aAIAhlB,YACAm/B,qBAGAzV,QACA,2BAAA/nB,GAAA,KACA,OACAA,yBAGAqH,OACA,OACAiwB,WACApK,kBACAwK,eACAE,iBACAlB,mBAGA9I,UACA6P,UACA,kDAEAC,eACA,oDAEA5F,kBACA,SAUA,MATA,uBACAvE,eACA,gBACA,yBACA,qCACAA,YAIA,sBAGAsE,aACA,SACA,GAAA39B,aAAAkM,cAUA,OATAu3B,UAEA,yBACA,SACA,6BACAA,QAAAzjC,aAAAkM,kBAIA,IAIAye,OACA4F,iBACA,SACA,KACA,yBACA,YACAmT,WACAC,YAGA,iCACA,gBAGAvG,WACA,YACA,2BAIA1sB,WACA,aAGAsiB,QACA,iCAIAyD,SACAjG,oBACA,iBAEA,oBACA,yBACA,sBAEA,WAGA/F,SACA8S,oBACA,kBAIA,YACAvV,iCACA,eAIAsJ,gBACA,oDACA,4BAIA,6BAGA0G,kBACA,oBACA,kCAGAyF,mBACA,kBAGAzY,QACA,gBACA,sBAEA,OACAkP,WACAC,UACAC,YACAC,YACAC,YACAC,YAGAC,gBACAA,eAEA,4BACA,0BACA,wDAGAnrB,QACA,SACA,qCACA,cACA,oBAMA,gBACA,+BCtQyY,MCQrY,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCyBf,MAAM,GAAUuqB,GAAA,KAAY7kB,SAAS,OAAem0B,KAErC,oCAAgB,CAC/B9+B,oBAEA0kB,YACA8a,mBACA3V,uBACA,yBAGAhF,OACAtV,SACAzR,aACAlC,WAIA6tB,QACA,qBAAAgW,GAAA,kBACA,OACAA,mBAIAlX,UACAqT,uDACAA,wDAEA7K,gBACA6K,0DACAA,2DAEA7yB,OACA,OACAiwB,WACAD,iBACAX,iBACAS,mBACAC,qBACA4G,eACAC,WACAnH,eACAE,kBAGAnS,OACAyS,WACA,YACA,0BAEA,IACA,wBAIAD,iBACA,qBACA,IACA,yBAKA1G,SACAjG,oBACA,iBAEA,oBACA,yBACA,sBAEA,WAGA/F,SACAuZ,sBACA,uBACA,QACA,KACA,MACA,mDACA,4FACA,sDACA,uBACA,2BAEA,MACA,4BACA,uEAEA,oDACA,4BACA,wEAEA,4BACA,gDAMAC,eAEA,4BAGAC,eAEA,4BAGAlf,QACA,gBACA,gBACA,sBAEA,OACAkP,WACAC,UACAC,YACAC,YACAC,YACAC,YAIAC,gBACAA,eAEA,4BACA,0BACA,wDAGAnrB,QACA,mCACA,mBACA,oBAKA,sBACA,gBACA,sBACA,6BAGAszB,cACA,qBACA,sBAIAD,iBACA,iBACA,qBAIA,uCACA,oBACA,6BAIAW,oBACA,wBACA,oBACA,OACAnJ,WACAC,UACAC,YACAC,YACAC,YACAC,YAGAC,gBACAA,iBACA,kCAEA,4BACA,0BACA,uDAEA,6BAGA8I,gBACA,uBACA,MACA,uBAEA,8BACA,gCChPmY,MCQ/X,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC2HA,IACfl5B,4BACA0kB,YAEA,0BACA,qCACAqb,uBACAC,WACAC,mBACAC,mBACAC,eAGAtb,OACAub,iBACAtiC,aACAinB,YAEAsb,kBACAviC,aACAinB,YAEAnd,eACAyZ,kBACAtY,MACAjL,YACAinB,gBAGAjnB,YACAqG,UACArG,aACAinB,aAGA0E,cAAAC,IACA,uEACA,iEACA,gEACA,gEACA,yEACA,8EACA,qEACA,yEAEA,oEACA,6BACA,SACA,eACA,aACAO,GACA,CACArd,aACAiD,kBACApC,YACAsF,eAAAtW,WAAAgR,iCAGA,MACA,cACAwc,GACA,CACArd,aACAiD,mBACAvC,UAGA,MAEA,oBACA,WACA,YACA,UACA,aACA2c,aAAAje,qBACA,MAEA,mBACAie,aAAAje,mBAAAyT,6BACA,MAEA,WACAwK,aAAAje,mBAAAwT,qBACA,MAEA,mBACAyK,aAAArN,kBAAAC,oBACA,MAEA,wBACAoN,aAAAxb,2BAAAC,kCACA,MACA,UACAub,aAAAvK,wBACA,MACA,QACAuK,aACA,MAGA,WAGA,2CAEA1D,yBACA+Z,2BAEA1c,yCAEA,6BACA,uBAEA,6BACA,WACA,4BACA,sBACApZ,sBAGA,WAEA,6BACA,WACA,uBACA,sBACAA,iBAGA,WAGA,uBACA,uBACA,uBACA,uBACA,uBAIA,+BACA,8CAIA,+BACArP,gCACA,uCAIAorB,0CACA,4DACA,yCAEA,qBACA,qBACA,qBACA,qBACA,qBAGA,qBACA,OACA,0BACA,+BACA,+BAEA,kDACA3C,6BACA8F,2BAGA,0CACA,0CACA,0CACA,0CACA,0CAEAA,uBAKA,MACAK,2BAAA,UAIA,EAIA,GAPA,0CACA,0CACA,0CACA,oCACA,2CAGA,mCACA,8CAMA,MACAA,2BACAnI,kCACA2e,QAKA,KACA,eACAC,eACAz3B,eAIA,MACA,+BACA,kCAIA,+BAIA,qCACA,wBACA,IAEA,yCACA,sCACA,IAEA,uBACA,MACA,SACA,uCACA2gB,gCACA,CAEA,SACA,iBACA,oBACA+W,MAGA,MACA,uCACA/W,+BAKA,qBAUA,OATAI,4BACAC,2BACA,gBACA,GACA2W,4DAKA,CACAC,wBACAC,yBACAC,UACAC,qBACAC,YACAC,kBACAC,aAEArf,iBACAd,iBAEAM,aACAI,aACA0f,iBACAxf,cACAC,mBACAL,iBACAX,WACAc,oBACAZ,gBAEAD,QACAugB,OACAZ,eACAxf,uBAEAG,UACAK,cACAJ,WAEAH,wDACAC,4DCrb4X,MCQxX,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCmCA,IACfjhB,sBACA0kB,YACA,2BAEAG,OACA/mB,YACAuK,kBACAvK,YACAinB,6BAEA5gB,UACArG,aACAinB,aAGA0E,cAAAC,IACA,6BACA,eACA,YACA9J,WACA,MAEA,aACAA,WACA,MAEA,iBACAA,WACA,MAGA,kCACA,oBACA,qBACA,yBACA,IAGA,sFAEA,wEACA,uEAEA,yEACA,wEAEA,uEACA,uEAEA,iEAGA,uBACA,oCACA,gBACA,UAEAmK,2BAEA4W,oBACA,yBACApiB,kBAEAA,wBAIA,KACAgI,8BAGA,0CACA,gBACA,UAEAwD,2BAEA4W,oBACA,yBACApiB,UAEAA,gBAIA,KAEA,iBACAgI,yBACA,IACA3C,8CACAwd,OAIA7a,yBACA,IACA3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CAioB,OACAxgB,oBACA,qBAEA9D,eAGA3B,UACA,wBACA,oBACA,oCACA,4BACA,sBACA,wBAGA6mB,cACA,yBAEA/oB,SACAgpB,gBACA,wBACA,4BACA,qDAEAC,iBACA,wBACA,4BACA,wBACA,8CACA,2BAKAC,gBACA,SACA,oBACA,2BACA,+CACA,qBAGAC,EADA,KACAA,YAEAA,aAEA,yCACAA,mBAEA,mBAEAC,WACA,yBAEAC,kBACA,GACAxH,oDACAA,kDAEAA,uDACAA,qDAGAyH,UACA,SACA,sBAEA,YAOA,OANA,aACAC,UAEA,cACAA,QAEA,yBAEArX,iBACA,wBAGA,eACA,gBACAoS,UACAE,WAEA,mBAEAgF,eACA,uBACA,cACA,UACA,oBACA,2BACA,aACA,GAAAlF,yBAAAE,0BACA,gBACA,8BACA,gBAAAF,IAAAE,KACA,UACA,MACA,UACA,WAEA,UACA,iBACAiF,OACAC,OACAC,OACAC,OAEA,SASA,GARA,uBACAD,qBACAE,MAEA,wBACAD,sBACAC,MAEA,GAEA,SAAAvF,qBAAAE,sBACAiF,QACAC,QAGA,SAAApF,IAAAE,IAAA17B,QAAAwQ,UACA,uBACA,IACAmwB,kBACAC,kBACAC,oDACAC,qDAEA,MACA,kBACAF,OACAC,OACAC,OAEA,SASA,GARA,uBACAD,qBACAE,MAEA,wBACAD,sBACAC,MAEA,GAEA,SAAAvF,qBAAAE,sBACAkF,QAGA,SAAApF,IAAAE,IAAA17B,QAAAwQ,UACA,uBACA,IACAmwB,kBACAC,kBACAC,oDACAC,qDAEA,MACA,qBACAD,OACAC,OACA,uBACAD,sBAEA,wBACAC,uBAEA,SAAAtF,IAAAE,IAAA17B,QAAAwQ,UACA,uBACA,IACAmwB,kBACAC,kBACAC,oDACAC,qDAEA,MACA,oBACAH,OACAE,OACAC,OACA,SASA,GARA,uBACAD,qBACAE,MAEA,wBACAD,sBACAC,MAEA,GAEA,SAAAvF,qBAAAE,sBACAiF,QAEA,SAAAnF,IAAAE,IAAA17B,QAAAwQ,UACA,uBACA,IACAmwB,kBACAC,kBACAC,oDACAC,qDAEA,MACA,QACA,MA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,sBACAyW,kBACAC,mBACAC,oBACAvL,2BAEA5M,wBACAD,sBACAsB,oBACAhB,mBACApwB,YACAjO,iBACAC,qBACAC,mBACAC,oBAEAi2C,iBACAC,wBACAtW,qBACA9B,uCACAK,iBACAzB,8BAGAjiB,OACAohB,UACA3Z,WACA,kBACA,sCACA,wBAIAwc,mBACAxc,WACA,2BAGAgc,iBACAhc,WACA,6CACA,uBAAAwyB,GAAA,KACAA,OAIA9V,sBACA1c,WACA,8CAEA9D,eAGAoF,UACA4a,YACA,6HAEAI,yBACA,8BACA,SAEA,yCACA,SAOA,OANA,cACA1S,+BAEA,mEACAA,MAEA,GAEA6S,sBACA,8BACA,SAEA,yCACA,UACA,aACA,oBAGA,8BACA,WAEA,uBACA,UAEA,IAEAF,iBACA,8BACA,SAEA,yCACA,2CACA,UAEA,uBACA,UAEA,IAEAQ,WACA,kBACA,YACA,kCAGA,uBACA,EAHA,GAOAD,iCACA,oBACA,WAGAzkB,SACA47B,gBACA,oCAEA,0BACA,qDACA,gCACA,4BAEAC,cACA,kDACA,WAGA,eAGAzW,+BACA,kCACA0W,eACAA,aACA,kBACAA,SACAA,YAEA,+BACAA,SACAA,YAEA,8BACAA,QACAA,YAEA,8BACAA,UACAA,YAGA,SACA,iCACA7Y,mBAEA,iCAAA8Y,qCAAA9Y,kBAEAkC,mDACA,kCACA,UAGA6W,gBACA,IACA9W,gBACA,oCACA,QACA,OAGA,qCACA,uBACA,gBACAz7B,QACAye,UACAD,yCACAE,KAAA,UACA,SACA,qCACA8zB,sBACA,4CACA,6BACA,aACAH,aACAA,2DAIA,oCACA,SACA,iCACA7Y,mBAEA,4BACA,oEACA,wBACA,4BAAAiZ,kCAAAjZ,iBAEA,8CACA7a,MAAAxyB,QAKAumD,eACA,kDACA5xB,iBACA,WAGA,gBAGA,uDACA,6FAEAiZ,0BACA,4BAGA,oBACAniC,gBACA,qBAEAoiC,gCACA,6BACA,OAEA,wCACA,IACApiC,4BAEA,oBAKA+6C,4BACA,yBACA,oBACA,0CACA,MACA,MACA,UACA,WACA,GACAC,IACAC,IACAC,IACAC,KAEA,UAEAC,sBACA,SACA,8BACA,SAEA,SACAnY,uCACAE,uCACA17B,2CACAwQ,6CAEA,kCACA,aACA,SAEA,OACAgrB,0CACAE,2CACA17B,8CACAwQ,iDAEA,6BACA,MACA,yBACA,mBAEA,WACAzjB,KACA,QAKA,UAEA+uC,yBACA,oCACA,8BACA,2BACA,4CACA,kDACA,mBACA,4BAGAC,0BACA,4BAEA,sBAGA,GAFA,kDACA,4CACA,uBAEA,YADA,oBAGA,0BACA,oBACA,6EACA,wBACA,iCACA,uCACA,SACA,iCACA6X,aAEA,uCAEA,GADA,0BACA,YACA,sBACA,6CACA,6DACA,kCACA,0BACA,0CACA,2CACA,+BAEA,sCAEA,oBACA,oBACA,8BAGAzX,eACA,8CACA,+BACA,2BAEA0X,gBACA,qBACA,wBACA,kBACA,6BACA,iCACAC,2BAEA,6BACAA,mBAEA,+BACA,GACA,0BAEA,4BACA,+BAOAC,eACA,oBACA,kCACA,6BACA,WAGA,4CACA,wDACAC,gBACAC,WACA,CACApjD,cACA6K,SACA5N,sBAQAqqC,sBAEA,GADA,qBACA,0BACA,OAEA,8BACA,iEACA,sCACA,6DACA,yCACA,sCACA,iCACA,qCACA,2EACA,qBAGA8C,cACA,QACA,4CACA,SACA,2BACAnyB,gBAEA,mBAGA,GACA,oBACA,sDACA,4BACA,uCACA,mBACAorC,iCAOAlZ,mBACAziC,aACA,GACA,kBAIA47C,YACA,2CACA,4BACA,8BACA,8BAEA,6CACA,4BACA,8BACA,8BAEA,4CACA,2BACA,8BACA,8BAEA,4CACA,6BACA,8BACA,8BAEA,SACA,iCACAha,mBAEA,oCACA,iCAAAyY,iCAAAK,oBAAA9Y,kBAGAia,sBACA,oBAGA,sDACA,4BACA,wBACA,OACA3qB,QAEA4qB,0BACA,qCAMAC,4BACA,sCACA,UAEA,gEACA,yBACA,uBACA,sCAKAC,2BACA,gCACAC,4BACA,SACAA,0BAEA,QACAA,yBAKAC,mBACA,eACA,OACA,yBACA,oBACA,mCACAC,IACA,OAGA,yBACAA,sCAIAt7B,UACA,yBAEA6mB,cACA,cAAA9mB,GAAA,KACAA,OEhxBiY,MCS7X,I,oBAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QFFD,SAAUu3B,KAEpB,MAAM,oBAAEC,EAAF,qBAAuBC,EAAvB,kBAA6CC,GAAsBtZ,kBAEnEuZ,EAAiB,KACnBC,aAAaC,QAAQC,OAAc0D,kBAAmBxD,UAGpDpD,EAAQ,CACV,CACI3f,QAAS,IAAKoiB,GAAQoE,aACtBxO,QAAS,CACLtD,UAAW,2BACXniC,MAAM,GACNqf,YAAa,gBACbolB,SAAS,iBAEbuI,OAAQ,IAAM,OAItB,IAAI9hB,EAAQ,EAEZ,MAAMulB,EAA6Br+C,iBAAI,MACjCs+C,EAAmB,KACrB,MAAM5kD,EAAQskD,aAAaO,QAAQL,OAAc0D,mBAC7CloD,IAIJo/B,EAAQ2Z,WAAW,KACf4L,EAAO3kD,MAAQ,IAAI4gD,GAAO,CACtBC,cAAc,EACdnD,YAAa,GACbF,YAAa,GACbmC,QAAS,EACTxR,QAAS,GACT4S,YAAY,EACZxD,mBAAmB,EACnByD,iBAAgB,EAChBF,iBAAiB,IACjBH,gBAAgB,YAChBhI,SAAS,gBACTtC,UAAW,qBACX+K,eAAgB,IAAMiD,IACtB9Y,QAAS,KACLvK,QAAc8jB,cAAc7jB,QAAQ,CAACC,QAAkBG,MAAOH,QAAkBC,WAAW,MAGnGwjB,EAAO3kD,MAAMijD,YAAY3B,GACzBnzB,sBAAS,KAAK,MACV+b,gBAAM,IAAItX,KAAK,KACX,MAAMmyB,EAAqBh4B,SAASi4B,uBAAuB,yBAAyB,GACpFD,EAAOp/C,MAAM6Q,QAAU,SAE3BwqB,QAAc8jB,cAAc7jB,QAAQ,CAACC,QAAkBG,MAAOH,QAAkBC,WAAW,GAC3F,UAAAwjB,EAAO3kD,aAAP,SAAc6jD,QACdQ,OAEL,OAWP,MAAO,CACHO,mBACAl4B,QAAS,KACD0S,IACAoZ,aAAapZ,GACbA,EAAQ,GAEZulB,EAAO3kD,MAAQ,QAjF3B,SAAY+jD,GACRA,wCADJ,CAAYA,QAAO,KG2CJ,oCAAgB,CAC/Bj7B,YACA,oBACA,wBACAs/B,0BACAC,0BAEAp/B,OACAjpB,OACAkC,aACAinB,YAEAm/B,eACApmD,YACAinB,YAEA3hB,YACAtF,YACAinB,aAGA0E,QACA,oBAAA+3B,sBAAAC,GAAA,kBAEA,OACAD,gBACAC,wBAGA14C,OACA,OACA4+B,cACAD,cACAD,eACAP,cACAM,eAEAP,YACAkd,cACAC,cAEA93C,WACAN,gBACAq4C,sBACAC,mBACAC,2BACAC,qBACAC,sBACAC,gBACAC,eACAC,iBACAvd,iCACAwd,aACAC,iBACAld,QACAmd,mBAGAz1B,YACAxB,gBAEAvH,OACA3qB,OACAoyB,WAGA,GADA,eACA,GAEA,+DAEA,uBAAAwyB,GAAA,KACAA,IACA,kBACA7b,qCAEAA,iCAGAza,eAGA7D,YACA,gBACA,eACA,kBACA,YACA,eACA,iBAGA,kBACA,IAEA,gCACA,2DACA,6DACA,2DACA,6DAGA,qDAEA,wDACA,2DACA,sBACA,iBAGA,SAEA,IACA,qCACA,gBAGAzC,4BAKAnlB,SACA,yBACA,yBACA,kBACA,8CACA,6DAKA,iBAEA,GADA,kBACA,yBAEA,SACA,6BACAumD,6BAEA,+BAGA,+BAEA,qBACA,sDACA,2BAKA5d,cACA,oDAGAD,UACA,+CACA,MACA,2BACA,GACA8d,kCAGA,gBACA,8BACA,gCACA,mBAEA,gBACA,+EAEA,yBAGA,kCAIAnc,cAEA,8CACAoc,iBACAA,gBAEA,iDACA,kDAEA,wBACA,wBAKA,mBACA,6BACA,iDACA,mCACA,oCAEA,qBACA,6BACA,YACAC,QACAA,cACAC,2BACAA,6BACAxnB,kEACA,UAIA,GAHAwnB,uCACAA,8BAEA,qCACA,6CACAA,4BACAA,oBACA,6DAAAh1C,SAEA,0CACA,+CACAg1C,4BACAA,mBACA,6DAAAxsB,WAMAiP,sBACA,gBAEA,uDAGAN,WACA,SACA,OACAK,IACAyd,MAEA,OACAzd,IACAyd,MAEA,6BAEA,8BACAH,iCACAA,2EAGA,uBACA,iBAAA3C,eAAAjZ,GAAA,EACA,qBACA,gBACA,iCACA,iBAEAtB,2BACA,sBAIA,4BACA,kBAAA+Z,kBAAAK,eAAA9Y,GAAA,EACA,gBACA,oDACA,KA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SAEA,iDACAnD,yBACAwD,2BACA,WACA,sDACA,4DACAkE,yDAGA,aACA,oCACA,KACA,4DACA,sDACAnnB,WAEAgjB,0BAGA,2BACA,qBACA,sBAEA,WAAA7iB,iBAAAD,eAAAO,kBAAA++C,2BAAAM,GAAA,IACAC,4BACAL,4BACA1/C,gBAIA,wCACA,MACA,8BACAuB,oCACA,6BACAA,4BACA,mCACAA,iBAGAke,2CACAkhC,KACAb,KACA,CAAA18B,eACA3D,0FAGA,oEACA,yEACA,4EACA,6EACA,wEACA,4BACA,oBACA,gDAGA,uBACA,wBAEA,SAAAwe,YAAA2iB,GAAA,kBACA,YACA,YAEA,YADA19C,YAIA,0BAEA,YADA+6B,qBAIA37B,WACA,oEACA,qBACAA,WACA27B,GAAAxW,gDAGA,OACAN,8CACAjkB,YAGA,yBACA0P,4CACAiK,mDAIA,cAAAgkC,mBAAAC,mBAAAC,qBAAAC,qBAAAzgD,GAAA,kBAGA,4EACAkf,8BAEA,mCACAwD,2BACA,gBACA,MACA,OAEA,gBACA2W,yCAEA,KAEA,4BACA,aACA,MAEA,YADAqE,WAIA,mBAAAgjB,GAAA,QACA,WAMAF,KAEA,6BACAH,GACA53C,aACAye,4BACAy5B,sBACAx5B,KAAAy5B,OACAx5B,MAAAw5B,QAKAt/C,6BACAslB,+DACA,KAEA,MACA,GACAlE,2BACA,gBACA,IAGA2W,gCACAoF,+BACA/b,2BACA2W,wCAOA,kEACA,yEAGA,qBACA,MACA3W,2BACA,UACAm+B,+BAMA,OACA,qDACA3kD,KACA,SACA4kD,mCAIA,MACA,yBACAP,wBACA,0BACAA,sBACA,oBACAA,yBAOA,uBACA,MAEA,qBAEA,OADAl+C,cACA,EAGA,IAEA,IAFA,KACA,KAIA,+BAWA,OAVA0+C,cACA79C,uBACA,UACAf,aACA6+C,KACAroD,UACAyjC,kBAIA,MACA/5B,cACA,GAEA,UACAA,SAAA1J,OAAAyjC,YACA,IAOA,2BACA,wBACA,uBACA,cACA,iBAAAskB,mBAAAO,GAAA,QACA,wBACA7+C,UACAD,eAEAC,gBACAD,oBAIAK,YAGA,2CACA,SACA,mBACA/B,aACA6mB,uCACAxqB,YACA4E,UACAnJ,cACA2oD,gCAEA7rD,KAAA,CACAoL,aACA6mB,wCACAxqB,YACA4E,UACAnJ,cACA2oD,8BACAT,OAEAl5B,QAGA,+CAEA,0BACA,wBACA,QACA,8CACA,IACArkB,UAEA21C,2CAUA,aAEA,qBACA,oCAEAt8B,iCACA,WACA,kBACA,aACAxZ,QAAA3N,MAAAb,UACAqyB,8CAAAxxB,MAAAb,UAGA,cACA+rD,gBAAAa,yBAGA7/C,sCACAslB,6DAGA,sCACA,6BACA,OAGA,WACA,kBACA,aACA7jB,QAAA3N,MAAAb,UAEA+M,+CACA,IAQA,aACA,qBACA,oCAEA,WACA,kBACA,aACAyB,QAAA3N,MAAAb,UACAqyB,6CAAAxxB,MAAAb,UAIA,cACA+rD,aAAAa,yBAGA7/C,mCACAslB,6DAGA,sCACA,6BACA,OAGA,WACA,kBACA,aACA7jB,QAAA3N,MAAAb,UAGA+M,mCACA,IAeA,OAbAmhB,iCACAC,8EACA,UACA,mCACAmZ,gCACAulB,4BAEAC,IACA,SACA3jB,gBAIA,CACAjiC,sBAEA6lD,eACAC,YACAT,mBACAD,uBAEAjhD,aACAD,iBAEAD,gBACA8hD,eAEA/hD,cAEAS,eACAc,mBAEAs/C,gBACAtgD,qBACAiB,iBAEAW,cACAG,iBACA0/C,kBACAC,qBACA1/C,uBACAW,yBAEAV,uBACAC,oBACAhG,qBACAmlD,yBACA9+C,gBACAV,wBACA5B,mBACAyC,aACA5C,mBAGA0C,uBACAL,oBACAC,qBACAC,eACA1B,oBAEAH,iBACAJ,gCACAW,0BACAF,4BACAC,2BACAF,8BAEAQ,kBACAF,mBACAC,wBACAE,0BC3sBwW,MCQpW,I,UAAY,gBACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBXjK,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACS,MAAM,CAAC,iBAAiB,GAAG,IAAM,OAAO,MAAQ,QAAQ,OAAS,QAAQ,MAAQ,SAAS,MAAQ,OAAO,eAAe,mDAAmD,QAAUX,EAAI0H,mBAAmB,wBAAuB,EAAM,oBAAmB,EAAK,eAAe1H,EAAIsqD,2BAA2B,CAACpqD,EAAG,MAAM,CAACS,MAAM,CAAC,KAAO,SAAS2C,KAAK,SAAS,CAACtD,EAAIiD,GAAG,UAAU/C,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,YAAY,CAACmB,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAIuqD,oBAAqBnpD,WAAW,wBAAwBT,MAAM,CAAC,eAAe,kBAAkB,YAAc,YAAYK,MAAM,CAAC9D,MAAO8C,EAAI4S,GAAI1R,SAAS,SAAUC,GAAMnB,EAAI4S,GAAGzR,GAAKC,WAAW,OAAOpB,EAAI8I,GAAI9I,EAAIwqD,eAAe,SAAS3+C,GAAM,OAAO3L,EAAG,YAAY,CAACnC,IAAI8N,EAAK+G,GAAGvS,YAAY,kBAAkBM,MAAM,CAAC,MAAQkL,EAAKvK,KAAK,MAAQuK,EAAK+G,SAAQ,GAAG1S,EAAG,OAAO,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMX,EAAI6D,aAAa,qBAAqB,IAAM,MAAM3D,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMX,EAAI6D,aAAa,uBAAuB,IAAM,SAAS,GAAG3D,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACH,EAAG,WAAW,CAACmB,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAIyqD,0BAA2BrpD,WAAW,8BAA8BT,MAAM,CAAC,YAAcX,EAAI0qD,aAAa,UAAY,MAAM,kBAAkB,GAAG,KAAO,WAAW,KAAO,KAAKpqD,GAAG,CAAC,MAAQN,EAAI2qD,YAAY3pD,MAAM,CAAC9D,MAAO8C,EAAI4qD,iBAAkB1pD,SAAS,SAAUC,GAAMnB,EAAI4qD,iBAAiBzpD,GAAKC,WAAW,uBAAuB,KAAKlB,EAAG,MAAM,CAACS,MAAM,CAAC,KAAO,UAAU2C,KAAK,UAAU,CAACpD,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,QAAQL,GAAG,CAAC,MAAQN,EAAI6qD,cAAc,CAAC7qD,EAAIiD,GAAG,UAAU/C,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWL,GAAG,CAAC,MAAQN,EAAI8qD,cAAc,CAAC9qD,EAAIiD,GAAG,WAAW,MAE5zDkF,GAAkB,G,aC0EP,IACf7G,sBACA8tB,uBACApJ,YACA,wBACA,wBACA,sBACA,wBACA,qBAEAG,OACAze,2BACAC,iCAEAkgB,OAEAngB,oBACA4nB,WACA,EACA,wBAEA,wCACA,2BAEA,sBACA,0BAOAjlB,OACA,OACAmgD,mBACA53C,MACAg4C,sBACAF,gEAEAK,iBACAC,mBAGArjC,YACA,gBACA,mBAEA,wBACA,qBAGA,6CAGAgjC,aACA,0CACA,yBAIAE,cACA,sBACA,gCACA,4BAGA,oBACA,YAEA,YADA,2BAGA,0BAEA,YADA,6BAGA,sBACA,SACAI,GACAC,gBACAV,iDACAI,wCAEA,yCAEA,6CAEA,gCACA,wBACA,0BAGAO,oBAEA,iCACA,GACAC,YACAC,kBACAJ,gBAGA/tB,uCAIAotB,2BACA,aACA,2BACA,2CACA,mDAEA,0CACA,yBAKAgB,0BAEA,MAIA,kBACAC,UAEA,kBACAA,SAEA,kBACAA,SAEA,cACA,8BAIAC,sBACA,8BCrNsX,MCSlX,I,oBAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCpBXzrD,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAO8C,EAAIkwB,KAAM9uB,WAAW,SAASf,YAAY,kBAAkBmB,MAAM,CACxL,oBAAqBxB,EAAIyrD,iBACzB,MAASzrD,EAAI0rD,MACb,CAAC1rD,EAAI61C,UAAW71C,EAAI0rD,MACpBC,WAAY3rD,EAAI2rD,WAChB11B,OAAQj2B,EAAIi2B,SACb,CAAC/1B,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYrE,MAAO8C,EAAIoC,QAAShB,WAAW,YAAYf,YAAY,sBAAsB,CAACH,EAAG,OAAO,CAACG,YAAY,2BAA2B,CAACH,EAAG,IAAI,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,OAAQ8C,EAAIoC,QAAShB,WAAW,aAAaf,YAAY,yBAAyBL,EAAIiD,GAAG,IAAIjD,EAAIiE,GAAGjE,EAAI4rD,MAAM,SAAS1rD,EAAG,MAAM,CAACG,YAAY,uBAE9X8H,GAAkB,GCkBP,IACf7G,qBACA6kB,OACAylC,MACAxsD,YACAinB,kBAGA6J,MACA9wB,aACAinB,YAGAolC,kBACArsD,aACAinB,YAGAslC,YACAvsD,aACAinB,YAGAo+B,WACArlD,YACAinB,uBAGA4P,QACA72B,aACAinB,YAGAjkB,SACAhD,aACAinB,YAGAqlC,OACAtsD,aACAinB,aAIAuK,UACAilB,WACA,eACA,SAGA,SACA,8BACA,oDACA,UAGA,kCACA,eAGA,iBCtFmX,MCQ/W,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX91C,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACH,EAAG,IAAI,CAACG,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOR,EAAIe,YAAY,WAAWb,EAAG,YAAY,CAACsD,IAAI,SAASnD,YAAY,SAASM,MAAM,CAAC,IAAM,EAAE,IAAM,IAAI,gBAAe,EAAM,MAAQX,EAAI6rD,MAAMvrD,GAAG,CAAC,UAAY,SAASE,GAAQR,EAAI8rD,aAAc,GAAM,QAAU,SAAStrD,GAAQR,EAAI8rD,aAAc,GAAO,MAAQ9rD,EAAIc,aAAa,OAASd,EAAI+rD,sBAAsB7rD,EAAG,IAAI,CAACG,YAAY,oBAAoBC,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOR,EAAIe,YAAY,UAAUf,EAAIiD,GAAG,IAAIjD,EAAIiE,GAAGjE,EAAIgsD,kBAAkBhsD,EAAI6rD,OAAO,QAAQ,GAAG3rD,EAAG,iBAAiB,CAACS,MAAM,CAAC,SAAWX,EAAIisD,oBAAoB,KAAO,UAAU,aAAa,WAAWjrD,MAAM,CAAC9D,MAAO8C,EAAIksD,YAAahrD,SAAS,SAAUC,GAAMnB,EAAIksD,YAAY/qD,GAAKC,WAAW,gBAAgB,CAAClB,EAAG,kBAAkB,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,UAAU,CAACD,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAImsD,cAAe/qD,WAAW,kBAAkBT,MAAM,CAAC,MAAQ,OAAOoC,SAAS,CAAC,MAAQ,SAASvC,GAAQR,EAAIisD,qBAAiCjsD,EAAIe,YAAY,UAAU,CAACf,EAAIiD,GAAGjD,EAAIiE,GAAGjE,EAAIkE,GAAG,8BAA8B,OAAOhE,EAAG,kBAAkB,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,UAAU,CAACD,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAIosD,mBAAoBhrD,WAAW,uBAAuBT,MAAM,CAAC,MAAQ,WAAWoC,SAAS,CAAC,MAAQ,SAASvC,GAAQR,EAAIisD,qBAAiCjsD,EAAIe,YAAY,cAAc,CAACf,EAAIiD,GAAG,YAAY,IAAI,IAEriDkF,GAAkB,GCmDP,IACf7G,uBACA0kB,YACA,iCACA,mCACAkG,kBAEAkD,gBACAjJ,OACAjpB,OACAkC,aAEAqG,UACArG,aACAinB,YAEAxlB,cACAzB,YACAinB,YAEA4lC,qBACA7sD,aACAinB,aAGA0E,cAAAC,IACA,gDAEA,2BACA,wBACA,uBACA,gCACA,6EAEA,uBACA9F,4BACA,gCACA,mBACA,cACA,oBACA,iBACA,OAEA,OADAmnC,IACA,OAGA,YACA,iBACA,OAEA,OADAA,IACA,EAKA,SAGA,cACA,YACA,QACA,aACA,gBACAnvD,oBAEA,aAGA,cACA,QACA,SACAmvD,aACA,UACA,aACA,gBACAA,4BAGA,gCAKA,cACA,UACAR,UACA7gC,qBAuBA,OAnBAnD,mCACAgkC,aAEAK,eACA,gBACAA,oBAGA,oBACA,oCACAA,iBAKArkC,yBACAmD,kBAGA,CACA6gC,OACAC,cACAI,cACAF,oBACAlrD,qBACAC,gBACA,6BACA,wBACA8qD,aACA7gC,sBAEAA,kBAGA+gC,wBACAlC,qDACAyC,oCCnLyX,MCQrX,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXvsD,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAASJ,EAAIyF,SAA4NzF,EAAIyC,KAAtNvC,EAAG,cAAc,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAO8C,EAAI4N,QAASxM,WAAW,YAAYf,YAAY,kBAAkBM,MAAM,CAAC,eAAe,EAAE,aAAY,EAAM,WAAaX,EAAIusD,mBAE5SpkD,GAAkB,GCaP,gBAAIsiB,OAAO,CAC1BnpB,kBACA0kB,YACA,6BAGAG,OACAjpB,OACAkC,aACAinB,YAGA5gB,UACArG,aACAinB,aAIA0E,cAAAC,IACA,0BACA,4BAEA,yBACA,yBAEA,aACA,UACA0qB,sBACA8W,cAEAA,wBACA,aACAD,WACAE,MAEA,IAqCA,OAlCA5kC,mCACA,GACAja,UACA2+C,UACA,UACA7W,sBACAgX,cAEAD,MAEAF,YACA7W,sBACAgX,wBACArhC,2BACAzd,cAEA,QAIAia,sCAEAsV,8BACA,UACAuY,sBACA8W,cAGA,UACA9W,sBACAgX,gBAIA,CACAH,iBACA3+C,cCzF8V,MCO1V,GAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,qBClBX7N,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAO8C,EAAI4N,QAASxM,WAAW,YAAYf,YAAY,YAAYwC,MAAO,CACtN4N,MAAOzQ,EAAIyQ,MAAQzQ,EAAIyQ,MAAQ,SAC/B,CAACzQ,EAAImK,GAAG,YAAY,IAExBhC,GAAkB,GCUP,gBAAIsiB,OAAO,CAC1BnpB,gBACA6kB,OACAjpB,OACAkC,aACAinB,YAEA5V,OACArR,YACAinB,YAEAyV,WACA18B,YACAinB,gBAGA0E,cAAAC,IACA,sCAOA,OALAnD,mCACAja,YAEAia,sCAEA,CACAja,cCvC8V,MCQ1V,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX7N,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,OAAO,CAACG,YAAY,WAAWmB,MAAM,CAAE,OAA4B,SAAlBxB,EAAI2sD,WAAuBrsD,GAAG,CAAC,MAAQ,SAASE,GAAQR,EAAI2sD,UAAY,UAAU,CAACzsD,EAAG,IAAI,CAACG,YAAY,gCAAgCH,EAAG,OAAO,CAACG,YAAY,WAAWmB,MAAM,CAAE,OAA4B,YAAlBxB,EAAI2sD,WAA0BrsD,GAAG,CAAC,MAAQ,SAASE,GAAQR,EAAI2sD,UAAY,aAAa,CAACzsD,EAAG,IAAI,CAACG,YAAY,gCAAmD,SAAlBL,EAAI2sD,UAAsBzsD,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,OAAO,CAACF,EAAIiD,GAAG,UAAU/C,EAAG,OAAO,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAO8C,EAAIwG,iBAAkBpF,WAAW,qBAAqBf,YAAY,OAAO,CAACH,EAAG,IAAI,CAACmB,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAI4sD,qBAAsBxrD,WAAW,yBAAyBf,YAAY,uCAAuCuB,YAAY,CAAC,YAAY,QAAQtB,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOE,kBAAyBV,EAAIiK,MAAM,4BAA4B/J,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,iBAAiB,CAACS,MAAM,CAAC,MAAQX,EAAI6sD,QAAQ,aAAa,UAAU,KAAO,SAAS,CAAC3sD,EAAG,kBAAkB,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,WAAWZ,MAAM,CAAC,MAAQ,SAASoC,SAAS,CAAC,MAAQ,SAASvC,GAAQ,OAAOR,EAAI8sD,WAAW,YAAY,CAAC5sD,EAAG,IAAI,CAACG,YAAY,wBAAwBmB,MAAM,CAAkB,UAAhBxB,EAAI6sD,QAAsB,uBAAwB,qBAAqB3sD,EAAG,kBAAkB,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,WAAWZ,MAAM,CAAC,MAAQ,UAAUoC,SAAS,CAAC,MAAQ,SAASvC,GAAQ,OAAOR,EAAI8sD,WAAW,aAAa,CAAC5sD,EAAG,IAAI,CAACG,YAAY,yBAAyBmB,MAAM,CAAkB,WAAhBxB,EAAI6sD,QAAuB,wBAAyB,uBAAuB,IAAI,GAAG7sD,EAAI8I,GAAI9I,EAAI+sD,OAAO,SAASC,EAAKjvD,GAAK,MAAO,CAACmC,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAO8C,EAAI6sD,UAAY9uD,EAAKqD,WAAW,oBAAoBrD,IAAIA,EAAIsC,YAAY,eAAe,CAACL,EAAI8I,GAAIkkD,GAAM,SAASnhD,EAAKsY,GAAG,MAAO,CAACjkB,EAAG,MAAM,CAACnC,IAAIomB,EAAE9jB,YAAY,oBAAoB,CAACH,EAAG,IAAI,CAACG,YAAY,SAAS,CAACH,EAAG,OAAO,CAACF,EAAIiD,GAAGjD,EAAIiE,GAAG4H,EAAKvK,SAASpB,EAAG,OAAO,CAACF,EAAIiD,GAAGjD,EAAIiE,GAAG4H,EAAK3O,YAAYgD,EAAG,YAAY,CAACG,YAAY,8BAA8BM,MAAM,CAAC,IAAMkL,EAAK0F,KAAO,EAAE,IAAM1F,EAAKsC,KAAO,IAAI,gBAAe,GAAO7N,GAAG,CAAC,MAAQ,SAASE,GAASqL,EAAKohD,SAASzsD,GAASR,EAAI8sD,WAAW9sD,EAAI6sD,UAAW,OAAS,SAASrsD,GAAQ,OAAOR,EAAIktD,oBAAoBnvD,EAAK8N,EAAKzM,OAAO,UAAYY,EAAImtD,iBAAiB,UAAYntD,EAAIotD,iBAAiB,QAAUptD,EAAIqtD,gBAAgBrsD,MAAM,CAAC9D,MAAO2O,EAAK3O,MAAOgE,SAAS,SAAUC,GAAMnB,EAAIsjB,KAAKzX,EAAM,QAAS1K,IAAMC,WAAW,iBAAiB,QAAO,QAAO,GAAGpB,EAAImK,GAAG,WAAW,GAAGnK,EAAIyC,KAAKvC,EAAG,MAAM,CAACmB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASrE,MAAyB,YAAlB8C,EAAI2sD,UAAyBvrD,WAAW,4BAA4Bf,YAAY,QAAQ,CAACL,EAAIquB,GAAG,GAAGnuB,EAAG,KAAK,CAACG,YAAY,6CAA6C,CAAEL,EAAIstD,YAAYhvD,OAAS,EAAG,CAAC0B,EAAI8I,GAAI9I,EAAIstD,aAAa,SAASzhD,GAAM,MAAO,CAAC3L,EAAG,KAAK,CAACmB,WAAW,CAAC,CAACC,KAAK,aAAaC,QAAQ,eAAerE,MAAO8C,EAAIutD,2BAA4BnsD,WAAW,+BAA+BrD,IAAI8N,EAAK2hD,KAAKntD,YAAY,eAAemB,MAAM,CAAEiE,SAAUoG,EAAKpG,SAAUyD,OAAQ2C,EAAK3C,QAAS5I,GAAG,CAAC,MAAQ,SAASE,GAAQqL,EAAKpG,SAAWzF,EAAIqmC,SAAS,gBAAkBrmC,EAAIytD,cAAc5hD,EAAK2hD,SAAS,CAACttD,EAAG,IAAI,CAACG,YAAY,UAAUmB,MAAM,CACz3G,gBAA+B,UAAdqK,EAAKzM,KACtB,iBAAgC,WAAdyM,EAAKzM,KACvB,wBAAuC,UAAdyM,EAAKzM,QAC9BY,EAAIiD,GAAG,IAAIjD,EAAIiE,GAAG4H,EAAKvK,MAAM,YAAWpB,EAAG,KAAK,CAACG,YAAY,iBAAiB,CAACL,EAAIiD,GAAG,eAAe,GAAGjD,EAAImK,GAAG,WAAW,MAEtJhC,GAAkB,CAAC,WAAY,IAAInI,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,OAAO,CAACF,EAAIiD,GAAG,exBH3J,SAAYolD,GACRA,qBACAA,mBACAA,wBAHJ,CAAYA,QAAI,KAMT,MAAMqF,GAA4C,CACrD,OAAU,QACV,MAAS,OACT,QAAW,KACX,MAAS,MyBVC,MAAOC,GAArB9yC,cACI,KAAA+yC,WAA4C,GAC5C,KAAAC,YAAc,GAoGd,KAAAjkB,IAAM3pC,KAAKK,GACX,KAAAwtD,MAAQ7tD,KAAK8tD,KACb,KAAA9jD,MAAQhK,KAAK+qB,KACb,KAAA6e,KAAO5pC,KAAK+tD,IACZ,KAAAC,WAAahuD,KAAKiuD,UAClB,KAAAC,YAAcluD,KAAKK,GACnB,KAAA8tD,eAAiBnuD,KAAK+tD,IAnGtB1tD,GAAGw+B,EAAeuvB,GACd,IAAIH,EAAYjuD,KAAK2tD,WACrB,GAAIM,EAAUpvB,IAAUovB,EAAUpvB,GAAOxgC,QAAU2B,KAAK4tD,YACpD,MAAM3oC,QAAQopC,MAAM,qEAAsEruD,KAAK4tD,aAUnG,OAPKK,EAAUpvB,KACXovB,EAAUpvB,GAAS,KAGe,IAAlCovB,EAAUpvB,GAAOnd,QAAQ0sC,IACzBH,EAAUpvB,GAAO9gC,KAAKqwD,GAEnBpuD,KAQX+qB,KAAK8T,KAAkBz0B,GAEnB,MAAMkkD,EAAOnmC,MAAM1rB,UAAUusB,MAAM7rB,KAAKiG,WAMxC,OALAkrD,EAAKC,QACLvuD,KAAK2tD,WAAW9uB,IAAU7+B,KAAK2tD,WAAW9uB,GAAOlzB,QAAQyiD,IAErDA,EAAGjrD,MAAM,KAAMmrD,KAEZtuD,KAQX+tD,IAAIlvB,EAAe2vB,GACf,MAAMb,EAAa3tD,KAAK2tD,WAClBriC,EAAMqiC,EAAW9uB,IAAU,GAC3B9c,EAAIuJ,EAAI5J,QAAQ8sC,GAItB,OAHIzsC,GAAK,GACL4rC,EAAW9uB,GAAOqB,OAAOne,EAAG,GAEzB/hB,KAQX8tD,KAAKjvB,EAAe2vB,GAChB,MAAMC,EAAOzuD,KAEb,SAASkG,IAEL,MAAMooD,EAAOnmC,MAAM1rB,UAAUusB,MAAM7rB,KAAKiG,WAExCorD,EAASrrD,MAAM,KAAMmrD,GACrBG,EAAKV,IAAIlvB,EAAO34B,GAIpB,OADAlG,KAAKK,GAAGw+B,EAAO34B,GACRlG,KAOX0uD,kBAAkB7vB,GAEd,OADA7+B,KAAK2tD,WAAW9uB,GAAS,GAClB7+B,KAOXiuD,UAAUpvB,GACN,OAAO7+B,KAAK2tD,WAAW9uB,GAO3B8vB,gBAAgBC,GAEZ,OADA5uD,KAAK4tD,YAAcgB,EACZ5uD,MCnGD,MAAgB6uD,WAAiBnB,GAM3C9yC,cACI8a,QAJI,KAAAo5B,eAAyB,EACjC,KAAAC,MAAgB,GAIZ,MAAMC,EAAShvD,KAAKivD,sBAChBD,IACAhvD,KAAKgvD,OAAShvD,KAAKivD,uBAInB,WACJ,OAAOjvD,KAAK+uD,MAMC,oBACb,OAAQ/uD,KAAK+uD,MAAQ,EAWzBG,aAAa39C,GAETvR,KAAK+uD,OAAS/uD,KAAK2lB,KAAOpU,GAAM49C,QAAQ,GAG5CC,aACI,OAAOpvD,KAAKgvD,OAIhBK,iBAAiBN,GACb,IAAK/uD,KAAKgvD,OACN,OAGJhvD,KAAK+uD,MAAQA,EAEb,MAAMppC,EAAOopC,EAAQ,KACft9C,EAAOzR,KAAKsvD,cAClBtvD,KAAKgvD,OAAOpsD,MAAM4N,MAAQmV,EAC1B3lB,KAAKgvD,OAAOpsD,MAAMoe,OAAS2E,EAC3B3lB,KAAKgvD,OAAOpsD,MAAM2sD,aAAe5pC,EACjC3lB,KAAKgvD,OAAOpsD,MAAMk3B,UAAY,aAAcroB,QAAaA,OAG7D+9C,oBAAoBxjB,EAAWE,GAC3B,IAAKlsC,KAAKgvD,OACN,OAEJ,MAAMv9C,EAAOzR,KAAKsvD,cAClBtvD,KAAKgvD,OAAOpsD,MAAMk3B,UAAY,aAAcroB,QAAaA,OACzDzR,KAAKgvD,OAAOpsD,MAAM6O,KAAOu6B,EAAI,KAC7BhsC,KAAKgvD,OAAOpsD,MAAMq3B,IAAMiS,EAAI,KAGhCkJ,YAAYqa,GACR,MAAMC,EAAM1vD,KAAKovD,aACZM,IAGA1vD,KAAK8uD,gBACN9uD,KAAK8uD,eAAgB,EACrBW,EAAIra,YAAYsa,KAIxBpa,cACI,MAAMoa,EAAM1vD,KAAKovD,aAIO,MAHnBM,IAGD1vD,KAAK8uD,gBACL9uD,KAAK8uD,eAAgB,EACrB,UAAAY,EAAI1lB,qBAAJ,SAAmBsL,YAAYoa,MCpF3C,MAAM5f,GAAU,GACVC,GAAU,IACVpqB,GAAO,GACPgqC,GAAU,GACVvkB,GAAU,IAEF,MAAOwkB,WAAmBf,GAQpCj0C,YAAYi1C,GAAiB,MACzBn6B,QARJ,KAAAq5B,MAAgBppC,GACR,KAAAmqC,SAAmB1kB,GACnB,KAAA2kB,SAAmBJ,GAC3B,KAAAE,UAAoB,EAMhB7vD,KAAK6vD,SAAWA,EAChB7vD,KAAKgwD,WAAahwD,KAAKiwD,2BACvB,UAAAjwD,KAAKovD,oBAAL,SAAmBha,YAAYp1C,KAAKgwD,YAGhC,SAAC/yD,GACDA,EAAQ8yC,KAAS9yC,EAAQ8yC,IACzB9yC,EAAQ6yC,KAAS7yC,EAAQ6yC,IAC7B9vC,KAAK+uD,MAAQ9xD,EACb+C,KAAKqvD,iBAAiBpyD,GAGlB,WACJ,OAAO+C,KAAK+uD,MAGL,YAAC9xD,GACR+C,KAAK+vD,SAAW9yD,EAChB+C,KAAKkwD,2BAGTjuC,QACIjiB,KAAK+uD,MAAQppC,GACb3lB,KAAK8vD,SAAW1kB,GAChBprC,KAAK+vD,SAAWJ,GAGpBV,sBACI,MAAMx9C,EAAOzR,KAAKsvD,cACZ3pC,EAAO3lB,KAAK2lB,KAEZwqC,EAAOnmC,SAASC,cAAc,OAcpC,OAbAkmC,EAAKvtD,MAAMqsC,cAAgB,OAE3BkhB,EAAKvtD,MAAMgzC,SAAW,WACtBua,EAAKvtD,MAAM6Q,QAAU,eACrB08C,EAAKvtD,MAAMkoC,OAAS,sBACpBqlB,EAAKvtD,MAAM4N,MAAQmV,EAAO,KAC1BwqC,EAAKvtD,MAAMoe,OAAS2E,EAAO,KAC3BwqC,EAAKvtD,MAAMk3B,UAAY,aAAaroB,QAAWA,OAC/C0+C,EAAKvtD,MAAM2sD,aAAe5pC,EAAO,KACjCwqC,EAAKvtD,MAAMo3B,OAAS,OACpBm2B,EAAKvtD,MAAM8J,WAAa,qBACxByjD,EAAKvtD,MAAMgzC,SAAW,QAEfua,EAMXF,2BACI,MAAM,KAAEtqC,EAAF,QAAQgqC,GAAY3vD,KAAKowD,sBACzBC,GAAe,EAAKV,EAAU,IAAO,IAAOhqC,EAE5C2qC,EAActmC,SAASC,cAAc,KAoB3C,OAnBAqmC,EAAY1tD,MAAMgzC,SAAW,WAC7B0a,EAAY1tD,MAAM6Q,QAAU,OAC5B68C,EAAY1tD,MAAM2tD,eAAiB,SACnCD,EAAY1tD,MAAM4tD,WAAa,SAC/BF,EAAY1tD,MAAMkoC,OAAS,mBAC3BwlB,EAAY1tD,MAAM6O,KAAO,IACzB6+C,EAAY1tD,MAAM8O,MAAQ,IAC1B4+C,EAAY1tD,MAAMq3B,IAAM,IACxBq2B,EAAY1tD,MAAMqzC,OAAS,IAC3Bqa,EAAY1tD,MAAM6tD,OAAS,OAE3BH,EAAY1tD,MAAM4N,MAAQ6/C,EAAc,KACxCC,EAAY1tD,MAAMoe,OAASqvC,EAAc,KACzCC,EAAY1tD,MAAM2sD,aAAec,EAAc,KAE/CC,EAAY1tD,MAAM8tD,SAAW,OAC7BJ,EAAYK,UAAY,IACxBL,EAAY1tD,MAAMguD,UAAY,SAEvBN,EAGXjB,iBAAiBpyD,GACby4B,MAAM25B,iBAAiBpyD,GACvB+C,KAAKkwD,2BAGTA,2BACI,MAAMI,EAActwD,KAAKgwD,YACnB,KAAErqC,EAAF,QAAQgqC,GAAY3vD,KAAKowD,sBACzBC,GAAe,EAAKV,EAAU,IAAO,IAAOhqC,EAElD2qC,EAAY1tD,MAAM4N,MAAQ6/C,EAAc,KACxCC,EAAY1tD,MAAMoe,OAASqvC,EAAc,KACzCC,EAAY1tD,MAAM2sD,aAAec,EAAc,KAG3CC,EAAY1tD,MAAMkoC,OADlBnlB,IAAS0qC,EACkB,OAEA,mBAI3BC,EAAY1tD,MAAM8tD,SADlBL,EAAc,GACeA,EAAc,EAAI,KAElB,OAIrCQ,mBACI,MAAO,CACH,CACIxvD,KAAM,KACNpE,MAAO+C,KAAK+uD,MACZz9C,IAAKw+B,GACL5hC,IAAK6hC,GACL5wC,KAAM,OACN6tD,SAAWvjC,IACPxE,QAAQ8W,IAAI,WAAYtS,GACxBzpB,KAAK2lB,KAAO8D,IAGpB,CACIpoB,KAAM,KACNlC,KAAM,UACNlC,MAAO+C,KAAK+vD,SACZ/C,SAAWvjC,IACPzpB,KAAK2vD,QAAUlmC,IAGvB,CACIpoB,KAAM,OACNlC,KAAM,UACNlC,MAAO+C,KAAK8vD,SACZ9C,SAAWvjC,IACPzpB,KAAK8vD,SAAWrmC,KAMhC2mC,sBACI,MAAO,CACHzqC,KAAM3lB,KAAK+uD,MACXY,QAAS3vD,KAAK+vD,SACd3kB,QAASprC,KAAK8vD,WC3JZ,MAAgBgB,WAA4CpD,GAMtE9yC,cACI8a,QALJ,KAAAo3B,MAAsB,IAAIj/C,IAC1B,KAAAkjD,oBAA8B,CAAE/kB,EAAG,EAAGE,EAAG,GACzC,KAAA8kB,MAAc5I,GAAK6I,OAIfjxD,KAAK8sD,MAAQ9sD,KAAKkxD,YAGd,WACJ,OAAOlxD,KAAKgxD,MAGF,iBACV,OAAOhxD,KAAKmxD,eAAenxD,KAAK+sD,MASpCnjC,UACIqT,OAAO0B,iBAAiB,UAAW3+B,KAAKoxD,kBAG5CC,YACIp0B,OAAO8B,oBAAoB,UAAW/+B,KAAKoxD,kBAG/CvE,WAAWE,GAKP,OAJI/sD,KAAK+sD,OAASA,IACd/sD,KAAKsxD,eACLtxD,KAAKgxD,MAAQjE,GAEV/sD,KAOXmxD,eAAepE,GACX,OAAI/sD,KAAK8sD,MAAM3xC,IAAI4xC,GACR/sD,KAAK8sD,MAAM/xC,IAAIgyC,GAEnB,KAQXwE,UAAU9B,EAAkB+B,GAAmB,GAAK,MAEhD,GADA,UAAAxxD,KAAKyxD,kBAAL,SAAiBrc,YAAYqa,GACzB+B,EAAkB,OAClB,MAAM,EAAExlB,EAAF,EAAKE,GAAMlsC,KAAK+wD,oBACtB,UAAA/wD,KAAKyxD,kBAAL,SAAiBjC,oBAAoBxjB,EAAGE,IAOhDolB,eAAY,MACR,UAAAtxD,KAAKyxD,kBAAL,SAAiBnc,cAQrBoc,qBAAqB1lB,EAAWE,GAAS,MACrClsC,KAAK+wD,oBAAoB/kB,EAAIA,EAC7BhsC,KAAK+wD,oBAAoB7kB,EAAIA,EAC7B,UAAAlsC,KAAKyxD,kBAAL,SAAiBjC,oBAAoBxjB,EAAGE,GAM5CylB,2BACI,MAAMvnD,EAAgD,GAItD,OAHApK,KAAK8sD,MAAMnhD,QAAQ,CAAC1O,EAAOa,KACvBsM,EAAKtM,GAAOb,EAAM4zD,qBAEfzmD,GClGT,SAAUwnD,GAAS/zD,KAAmB4B,GACxC,IAAK,MAAM3B,KAAO2B,EAAM,CAEpB,MAAMxC,EAAQY,EAAOC,GACrB,GAAqB,oBAAVb,EAIP,MAAM,IAAIsjD,MAAM,qBAAqBziD,qBAFrCD,EAAOC,GAAOb,EAAM+iC,KAAKniC,ICIvB,MAAOg0D,WAAqBf,GAKtCl2C,cACI8a,QAHJ,KAAAs7B,MAAQ5I,GAAK6I,OAITW,GAAS5xD,KAAM,mBAAoB,QAGrB,qBAId,OAHKA,KAAK0gB,WACN1gB,KAAK0gB,SAAW,IAAImxC,IAEjB7xD,KAAK0gB,SAGhB0wC,iBAAiBvyB,IAiBjBqyB,YACI,MAAMY,EAAU,IAAIjkD,IAGpB,OAFAikD,EAAQ9sC,IAAIojC,GAAK6I,OAAQ,IAAIrB,IAAW,IACxCkC,EAAQ9sC,IAAIojC,GAAK2J,MAAO,IAAInC,IAAW,IAChCkC,GCrCAvnC,ICRHynC,GASAC,GDDG1nC,gBAAIC,OAAO,CACtB2E,OAAQ,CAAC+iC,OAAaC,QACtBpsC,WAAY,CACR,YAAakG,SAEjB/F,MAAO,CACH3f,iBAAkB,CACdpH,KAAMgnB,QACNC,SAAS,GAEbinC,YAAa,CACTluD,KAAMgpB,MACN/B,QAAS,IAAM,KAGvB0E,MAAM5E,GAAO,KAAE6E,IACX,MAAM2hC,EAAYnpD,iBAAI,QAEhB6uD,EAAeP,GAAa9P,cAE5B+K,EAAQvpD,iBAAI6uD,EAAaT,4BACzB/E,EAAUrpD,iBAAI6uD,EAAarF,MAE3BsF,EAAiBnrC,sBAAUuC,IAC7BsB,EAAK,cAAetB,IACrB,IAEH,SAASojC,EAAWpjC,GAChBmjC,EAAQ3vD,MAAQwsB,EAChB2oC,EAAavF,WAAWpjC,GACxB4oC,EAAe5oC,GAInB,SAAS6oC,EAAgBzzB,GAAoB,MACzC,OAAQA,EAAM0zB,MACV,IAAK,cACL,IAAK,eACD,MAAMC,EAAY3zB,EAAM0zB,KACxB,UAAAH,EAAaX,kBAAb,SAAyBvC,aAA2B,gBAAdsD,GAA+B,GAAK,IAE1E1F,EAAM7vD,MAAQm1D,EAAaT,2BAC3B9E,EAAWD,EAAQ3vD,OACnB,MAEJ,IAAK,OACGm1D,EAAarF,OAAS3E,GAAK6I,OAC3BpE,EAAWzE,GAAK2J,OACTK,EAAarF,OAAS3E,GAAK2J,OAClClF,EAAWzE,GAAK6I,QAEpB,OAIZ,SAASwB,EAAiBlxC,EAAc,WACxB,YAARA,EACA0b,OAAO8B,oBAAoB,UAAWuzB,GACvB,QAAR/wC,GACP0b,OAAO0B,iBAAiB,UAAW2zB,GAY3C,OARAnnC,uBAAU,KACNsnC,EAAiB,SAGrBv1B,yBAAY,KACRu1B,EAAiB,aAGd,CACH/F,YACAI,QACAF,UACAC,aACA6F,UAAW,KAAK,MACZ,UAAAN,EAAaX,kBAAb,SAAyBxvC,QACzB6qC,EAAM7vD,MAAQm1D,EAAaT,2BAC3B9E,EAAWD,EAAQ3vD,QAEvBiwD,iBAAmBruB,IAAqB,MACpC,MAAM8zB,EAAU3oC,SAAS/Y,KACzBmhD,EAAab,UAAUoB,GACvB,UAAAP,EAAaX,kBAAb,SAAyBjC,oBAAoB3wB,EAAM+zB,QAAS/zB,EAAMg0B,UAEtE1F,iBAAmBtuB,IAAqB,MACpC,UAAAuzB,EAAaX,kBAAb,SAAyBjC,oBAAoB3wB,EAAM+zB,QAAS/zB,EAAMg0B,UAEtEzF,eAAiBvuB,IACbuzB,EAAad,gBAGjB9D,cAAgBD,GAAiBxiC,EAAK,iBAAkBwiC,OExGwX,MCQxb,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCJD,SAAUuF,GAAuBC,EAAoCruD,EAAyBwH,GACxG,MAAM8mD,EAAmDzvD,mBAEnD0vD,EAAe1vD,kBAAI,GACnB8pD,EAAc9pD,iBAAI,IAClB2vD,EAAuB3vD,kBAAI,IAG3B,SAAE6iC,GAAaC,kBAEf8sB,EAAiB,KACfD,EAAqBj2D,QAGzBi2D,EAAqBj2D,OAAQ,EAC7BiP,IAAO,OAAIA,QAAJ,IAAIA,KAASknD,kBAEpBJ,EAAgB/1D,MAAQ81D,EAAgB91D,MAAMo2D,iBAC9CL,EAAgB/1D,MAAMoD,GAAG2xD,GAAgBsB,cAAgBlpD,GAAcijD,EAAYpwD,MAAQmN,GACtF/J,GAAG2xD,GAAgBuB,qBAAuB9pC,GAAiBwpC,EAAah2D,MAAQwsB,GAChFppB,GAAG2xD,GAAgBwB,eAAgB,IAAMptB,EAAS,iBAEvDqtB,MAGEC,EAAsBC,IAED,MAAvB,GADAznD,IAAO,OAAIA,QAAJ,IAAIA,KAAS0nD,mBACP,WAATD,EACA,UAAAX,EAAgB/1D,aAAhB,SAAuB42D,sCACpB,GAAa,SAATF,EAAiB,OACxB,UAAAX,EAAgB/1D,aAAhB,SAAuB4J,8BAE3BqsD,EAAqBj2D,OAAQ,EAC7Bw2D,GAA8B,KAG5B,UAAE1K,GAAc1iB,kBAChBytB,EAAsB,KACxB/K,EAAU,CACN53C,MAAO,cACP4iD,kBAAmB,OACpBlkC,KAAK,KACJhpB,EAA4B,UAC7BipB,MAAM,KACLjpB,EAA4B,aAI9BA,EAA8B,CAAC8sD,EAAcK,GAAoB,KACtD,WAATL,GAAqBK,GAAY3G,EAAYpwD,MAAMoB,OAAS,EAC5Dy1D,IAEAJ,EAAmBC,IAKrBF,EAAgC,CAAC/uD,GAAqB,KACpDA,EACAshC,OAAOmoB,eAAe8F,OAAoBC,wBAE1CluB,OAAOkoB,YAAY+F,OAAoBC,uBAAwB,IAAMJ,MAW7E,OAPA52B,yBAAY,KAAK,MACbu2B,GAA8B,GAC9B,UAAAT,EAAgB/1D,aAAhB,SAAuB0sB,UACvBqpC,EAAgB/1D,WAAQF,IAIrB,CACH+E,YAAaoxD,EACb3sD,iBAAkB0sD,EAClBzsD,mBAAoB6mD,EACpBxmD,8BACAitD,sBACAntD,mBAAoB,KAAK,MACrBssD,EAAah2D,OAAQ,EACrB,UAAA+1D,EAAgB/1D,aAAhB,SAAuB0J,sBAG3BwtD,gBAAiB,KACRpB,EAAgB91D,MAIrBk2D,IAHI/sB,EAAS,kBAKjB3/B,iBAAmBktD,IAAD,uBAAgBX,EAAgB/1D,aAAhC,aAAgB,EAAuB4vD,WAAW8G,IACpEjtD,gBAAkB6mD,IAAD,uBAAkByF,EAAgB/1D,aAAlC,aAAkB,EAAuBuwD,cAAcD,MHvGhF,SAAYyE,GACRA,qCACAA,uCACAA,2CACAA,0BACAA,oDACAA,wCANJ,CAAYA,QAAe,KAS3B,SAAYC,GACRA,8BADJ,CAAYA,QAAoB,KIZhC,IAAInyD,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,OAAO,CAACF,EAAIiD,GAAG,UAAWjD,EAAIq0D,UAA4B,GAAhBr0D,EAAIq0D,SAAen0D,EAAG,IAAI,CAACG,YAAY,uCAAuCuB,YAAY,CAAC,YAAY,QAAQtB,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOE,kBAAyBV,EAAIs0D,cAAclxD,MAAM,KAAMC,eAAerD,EAAIyC,SAASvC,EAAG,MAAM,CAACsD,IAAI,UAAUnD,YAAY,yCAAyCC,GAAG,CAAC,OAASN,EAAIu0D,iBAAiBv0D,EAAI8I,GAAI9I,EAAI0Z,MAAM,SAAS7N,EAAKxN,GAAO,OAAO6B,EAAG,MAAM,CAACnC,IAAIM,EAAMgC,YAAY,WAAW,CAACH,EAAG,MAAM,CAACG,YAAY,OAAOmB,MAAM,CAAE,iBAAkBqK,EAAK6/B,UAAU/qC,MAAM,CAAC,GAAKkL,EAAK+G,IAAItS,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOE,kBAAyBV,EAAIozB,YAAYvnB,MAAS,CAAC3L,EAAG,OAAO,CAACG,YAAY,QAAQmB,MAAM,CAAE,iBAAkBqK,EAAK6/B,WAAW,CAAC1rC,EAAIiD,GAAG,IAAIjD,EAAIiE,GAAGjE,EAAIw0D,YAAY3oD,IAAO,OAAQA,EAAK2V,IAAIiQ,QAASvxB,EAAG,OAAO,CAACG,YAAY,QAAQmB,MAAM,CAAE,iBAAkBqK,EAAK6/B,WAAW,CAAC1rC,EAAIiD,GAAG,IAAIjD,EAAIiE,GAAGjE,EAAIy0D,WAAW5oD,IAAO,OAAO7L,EAAIyC,YAAW,MAE9mC0F,GAAkB,G,aCyDP,gCAAgB,CAC/B7G,0BACA+I,OACA,OACAqqD,YACAhpB,YACAxS,SACAtmB,KACA4O,KACA4P,cAEAi4B,kBACAsL,iBAEAN,WACA36C,QACAk7C,eACAC,cAIA7uC,YACA8uC,wBACAC,6BAEA5uC,OACA8B,QACA7oB,aACAinB,YAEA2uC,kBACA51D,gBAGA2rB,SACA,uBACAkqC,EADA,kBAEAC,EAFA,mBAGAC,GACAntB,kBAEA,OACAitB,mBACAC,oBACAX,4CAAAa,eAGAvrC,UAEA,qBACA,QACA,QACA,SACA,WAEAwrC,iDAKA,GAJAnwC,0CACA,SACAqK,uCAAA+lC,cAEA,YACA,OAGA,OAAA1iD,cAAAgiD,GAAA,EACA,mBAGA,uBAGA,sBACA/oD,cACA,UACAA,iBAGA,gBACA,0BAGAwpD,+CAEA,GADA9lC,uCAAA+lC,qBACA,YACA,OAEA,gBACA,SAAAjrD,cAAAuqD,WAAAP,GAAA,EACA,IACA,KACA,kBACA,+BACA,WACA,YACAkB,6BAEA,QACAA,cAEAA,cAEAC,UAEA,gBAEA,OACA9pB,YACAxS,SACAtmB,KACA4O,KACA4P,cAEAi4B,kBACAsL,iBAEAD,cAEAc,UACA,YACA,mBACA,sCAIAnjC,gBACAgjC,0DACAA,yDAGAxtC,OACAI,QACAqH,0BACA,MACA,8BACA,MACA,gBAAAslC,UAAAvJ,GAAA,EACAnuB,0DAIA1R,eAIA7D,SACA8tC,kBACA,gBACA,KACA,2BACA,gBACAC,IACA,MAGA,SACA,WACAzf,gBACA5qB,2BAEA,4BACA,cAEA,mCAIA,GAFAnG,wEAEA,cACA,OAEA,SACA,IACA,IACA,IACA,IACA,WACAywC,KACAz7B,MACA07B,UACApkD,OACAqkD,IACAjtC,QAEAgtC,MACApkD,QACAqkD,IACAjtC,KAGA,8BAEAitC,KACAnG,YACAx1B,MACAxoB,SAEA,EACA,MACA6qB,iBAGA,MACAA,mBAIA,OAEA,MAGAi4B,eACA,SAYA,YAXA,gBACApjD,mCAGAA,iBACA,iBACAA,wBAEA,iBACAA,wBAEA,GAEAqjD,cACA,YACA,YAEA,4BACA,WACA,MAEA,eAGA,sBACA,+BACA,mCAEA,qBACA,wBACA,mBACA,sBACA5oD,cACA,aACAA,iBAIA,8BACA,SACA,2DAIAiqD,cACA,WACA,kBAKA,aAEA,gBACAC,kBACAA,QACAC,GACAn2D,eAGAo2D,uBC3U0X,MCQtX,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCUf,MAAMC,GAA0B,CAC5BC,eAAgB,CACZxkD,MAAO,IACPuoB,IAAK,GACLxoB,KAAM,IACNwkC,OAAQ,IAKVkgB,GAA8B,CAChCD,eAAgB,CACZxkD,MAAO,GACPuoB,IAAK,GACLxoB,KAAM,EACNwkC,OAAQ,IAKVmgB,GAA+B,CACjCC,SAAU,IACVC,gBAAiB,CACb5kD,MAAO,EACPuoB,IAAK,EACLxoB,KAAM,EACNwkC,OAAQ,GA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D,MACAwe,OAGA,qDAKA,YACAvzE,EADA,iBAEAyE,EAFA,mBAGAC,GAHA,mBAIAG,GAJA,4BAKAE,GALA,oBAMAitD,GANA,gBAOAK,GAPA,iBAQA1tD,GARA,gBASAC,IACAosD,QACAM,yBACAQ,6BAKA,gBACAtsD,GACA2rD,gBACAwiB,iBACApoB,eAJA,qBAKAprD,GALA,wBAMAkF,GANA,kBAOAI,GAPA,uBAQAN,GACA6uE,gBACAN,QACApiB,yBACAQ,6BAIA,qBAAA7wD,IAAA,MACA,kBAAAy0E,oBAAAC,2BAAArwE,4BAAAC,IAAA,kBAEA,yDACAugB,0EAEA,cACA,SACAzgB,WAGA0vD,aAGA,6BACA,QACA,eAGA,SACA,gBAGA,uCAGA,OACA1yD,sBAEAzC,mBAEAD,eACA6F,mBACAN,uBACAD,sBACAI,2BACAlF,wBACAsF,qBACAN,0BACAC,sBAEAlF,sBACAsB,sBACAL,yBACAC,0BAEA,kBAEAsB,gBACAzC,eACApB,cACAyB,sBAEAS,uBACA60D,MACA30D,OACA00E,MAEAC,sBACAhgB,MACA30D,OACAy0E,MAGApK,eACA/mE,2BAEAX,aACAE,eACAC,aACAC,aACAC,kBACAI,2BAEAnB,kCACA,4BACA,oEAIAN,YAEAD,aACAmyD,aACAqB,cACAxB,+BAEA3yD,OACAI,YACAtC,aACAiC,eAEAvB,cACAJ,mBACAV,aACAq1D,mBACAtwD,mBAEAlE,wCAEA4C,gBAEAjE,WACAJ,eACAC,iBAAA,qEACAC,gBAAA,qEACA6C,iBAAA,iEAEAiB,uBAAA,4EACAE,2BAAA,6EACAC,8BAAA,gFACAF,uBAAA,4EAEA/C,cACA0E,sBACAK,wCACAF,sBACArB,kBACAwuD,uBACArtD,oBACAC,mBAEA3D,wBACA0C,sBAAA,MACA,sEAGAd,kBACA,QACA,wBAEA,CAAAygC,kBAAAC,kBAGAj+B,2BACAC,8BAIA+C,OACA,OACAutE,yBACAC,wBACAnwE,sBACAC,8BACAspB,+BAGA,gBACA,wCACAnB,KAAAgoD,OAGA,oCAEApnC,gBAGA/oB,YACA,0BACA,iCAGA,4BACA,uBACA,2BA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","file":"js/chunk-43f57a8f.372369b9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2f140082&prod&lang=scss&scoped=true&\"","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseDialog.vue?vue&type=style&index=0&id=7d48e9d9&prod&lang=scss&scoped=true&\"","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RefineNavBar.vue?vue&type=style&index=0&id=d29dc72c&prod&lang=scss&scoped=true&\"","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"wrap\",on:{\"drop\":_vm.onDropImageFiles,\"dragover\":function($event){$event.preventDefault();$event.stopPropagation();},\"dragenter\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"topLeftItem\"},[_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('zoom-button-group',{attrs:{\"disabled-quick-button\":_vm.isInCropNav,\"show-all-scale\":_vm.showAllScale},on:{\"on-slider\":_vm.onZoomSlider,\"on-resize\":_vm.imageResize},model:{value:(_vm.fitRatio),callback:function ($$v) {_vm.fitRatio=$$v},expression:\"fitRatio\"}}),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isInCropNav),expression:\"!isInCropNav\"},{name:\"blur\",rawName:\"v-blur\"}],staticClass:\"btn-icon\",class:{ 'active': _vm.isDragging && !_vm.showLiquefy },attrs:{\"size\":\"mini\"},on:{\"click\":_vm.handleClickDrag}},[_c('svg-icon',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"icon-class\":\"drag\",\"class-name\":\"ts-icon drag-icon\"}})],1),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"手动液化\",\"placement\":\"bottom\",\"visible-arrow\":false,\"popper-class\":\"title-tip\"}},[_c('el-button',{directives:[{name:\"blur\",rawName:\"v-blur\"}],staticClass:\"btn-icon\",class:{ 'active': _vm.showLiquefy },attrs:{\"size\":\"mini\",\"disabled\":!_vm.imageState.effectLoaded || _vm.isInCropNav || _vm.showPainter || (_vm.isInColorNav && _vm.isOnlyPaletteEffect)},on:{\"click\":_vm.handleUseLiquefyMode}},[_c('svg-icon',{staticStyle:{\"pointer-events\":\"none\"},attrs:{\"icon-class\":\"liquefy\",\"class-name\":\"ts-icon liquefy-icon\"}})],1)],1)],1),_c('ts-progress',{staticClass:\"custom-top-progress\",attrs:{\"disabled\":_vm.disabledProgress,\"value\":_vm.imageState.loading}}),_c('div',{staticClass:\"Image-canvas-container\",class:{\n            'fullscreen': _vm.isFullScreenPreview,\n            'grab-active': _vm.isDragging,\n            'grabbing': _vm.containerMouseDown,\n            'hidden-cursor': !_vm.isDragging && (_vm.showPainter || _vm.showLiquefy)\n        },attrs:{\"id\":\"guide__first_apply-preset-suit-btn\"},on:{\"mousedown\":function($event){_vm.containerMouseDown = true},\"mouseup\":function($event){_vm.containerMouseDown = false}}},[(!_vm.costTimeObj.costIsPro)?_c('CostTime',{attrs:{\"costTimeData\":_vm.costTimeObj.costTimeData,\"costLastTime\":_vm.costTimeObj.costLastTime,\"costNewTime\":_vm.costTimeObj.costNewTime}}):_vm._e(),_c('div',{staticClass:\"fixed-bottom-container\",style:({ 'z-index': 999 }),on:{\"keydown\":function($event){$event.preventDefault();}}},[(_vm.isFullScreenPreview)?_c('div',{staticClass:\"exit-preview-btn-box global__backdrop-filter\"},[_c('SpinLoading',{attrs:{\"hidden-background\":\"\",\"show\":_vm.imageState.loading,\"loading\":_vm.imageState.loading,\"text\":_vm.imageState.loading ? '效果预览加载中...' : '已显示全部效果'}}),_c('el-button',{directives:[{name:\"blur\",rawName:\"v-blur\"}],staticClass:\"exit-preview-btn\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.handleExitPreview},nativeOn:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)}}},[_vm._v(\" 退出预览 \")])],1):(_vm.isInColorNav)?[_c('el-popover',{attrs:{\"width\":\"200px\",\"placement\":\"top\",\"trigger\":\"manual\",\"popper-class\":\"preview-all-effect-tip\",\"value\":_vm.showPaletteUpdateGuide}},[_c('div',{staticClass:\"palette__guide\"},[_c('p',{staticClass:\"palette__guide-title\"},[_vm._v(\" 🎉 实时调色功能来了！ \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){$event.preventDefault();return _vm.cacheHiddenEffectTip.apply(null, arguments)}}})]),_c('div',{staticClass:\"palette__guide-content\"},[_c('p',[_vm._v(\"您可根据实际操作选择不同模式：\")]),_c('p',[_vm._v(\"1. 全效果模式下，调色速度较慢 🐢。可展示全部效果。\")]),_c('p',[_vm._v(\"2. 调色模式下，可实时调色 ⚡️。仅展示色彩效果，非色彩效果暂时隐藏。\")])]),_c('p',{staticStyle:{\"text-align\":\"right\"}},[_c('el-link',{staticClass:\"global__color-system\",staticStyle:{\"font-size\":\"12px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"underline\":false},on:{\"click\":function($event){$event.preventDefault();return _vm.cacheHiddenEffectTip.apply(null, arguments)}}},[_vm._v(\" 知道了 \")])],1)]),_c('el-radio-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showLiquefy),expression:\"!showLiquefy\"}],staticClass:\"ts-custom__radio-group\",attrs:{\"slot\":\"reference\",\"size\":\"mini\"},nativeOn:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)}},slot:\"reference\",model:{value:(_vm.isOnlyPaletteEffect),callback:function ($$v) {_vm.isOnlyPaletteEffect=$$v},expression:\"isOnlyPaletteEffect\"}},[_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":false}},[_vm._v(\"全效果模式\")]),_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":true}},[_c('el-popover',{attrs:{\"width\":\"200px\",\"placement\":\"top\",\"trigger\":\"manual\",\"popper-class\":\"preview-all-effect-tip\",\"value\":_vm.showHiddenEffectTip && !_vm.showPaletteUpdateGuide}},[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"色彩调节期间，将临时关闭其他效果\")]),_c('div',{staticClass:\"radio-button-text\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\" 调色模式 \"),_c('el-popover',{attrs:{\"width\":\"200px\",\"placement\":\"top\",\"trigger\":\"hover\"}},[_c('div',{staticClass:\"palette-mode-tip\"},[_c('p',[_vm._v(\"全效果模式：展示全部效果，调色速度较慢；\")]),_c('p',[_vm._v(\"调色模式：可实时调色，非色彩效果暂时隐藏\")])]),_c('i',{staticClass:\"ts-icon-question-outside\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})])],1)])],1)],1)],1)]:_vm._e(),_c('el-tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullScreenPreview && !_vm.isInCropNav),expression:\"!isFullScreenPreview && !isInCropNav\"}],ref:\"space-tooltip\",attrs:{\"effect\":\"dark\",\"popper-class\":\"compare__image-hot-key-tip\",\"hide-after\":1500,\"placement\":\"top-end\"}},[_c('div',{staticClass:\"hot-key-content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":require(_vm.$isMac\n                        ? '@/assets/images/tips_png_keyboard_mac@3x.png'\n                        : '@/assets/images/tips_png_keyboard_windows@3x.png'),\"alt\":\"\"}}),_c('p',{staticClass:\"label\"},[_vm._v(\"长按进行对比，快捷键：~\")])]),_c('el-button',{ref:\"btn-switch\",staticClass:\"btn-icon global__backdrop-filter\",attrs:{\"size\":\"small\",\"tabindex\":\"-1\",\"type\":\"default\"},on:{\"click\":function($event){return _vm.PointZoomCompare('bottom')}},nativeOn:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)},\"mouseup\":function($event){return _vm.photoCompare('up')},\"mousedown\":function($event){return _vm.photoCompare('down')}}},[_c('img',{staticClass:\"img\",staticStyle:{\"pointer-events\":\"none\"},attrs:{\"src\":_vm.$getIconPath('toolbar_button_compared@3x.png'),\"alt\":\"\"}})])],1)],2),(!_vm.isFullScreenPreview)?[_c('SpinLoading',{staticStyle:{\"bottom\":\"16px\",\"left\":\"7.5px\"},attrs:{\"fixed\":\"\",\"show\":_vm.imageState.loading,\"text\":_vm.loadingText}}),(_vm.user.waterMark !== 3)?[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.imageState.loading),expression:\"!imageState.loading\"}],staticClass:\"watermark-tip\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" \"+_vm._s(_vm.$t('pagePhotoFinishing.watermarkTip'))+\" \")])]:_vm._e(),_c('div',{staticClass:\"claImageName\"},[_vm._v(_vm._s(_vm.imageName))])]:_vm._e()],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFullScreenPreview),expression:\"!isFullScreenPreview\"}],staticClass:\"all-tool-area\"},[_c('right-params-view',{directives:[{name:\"show\",rawName:\"v-show\",value:([_vm.RefineNavName.Beauty, _vm.RefineNavName.Palette, _vm.RefineNavName.Background].includes(_vm.activeNavName)),expression:\"[RefineNavName.Beauty, RefineNavName.Palette, RefineNavName.Background].includes(activeNavName)\"}],ref:\"right-params-view\",attrs:{\"active-nav-name\":_vm.activeNavName,\"refineUUID\":_vm.refineUUID,\"isDestroy\":_vm.isDestroy,\"get-params-json\":_vm.getParamsJson},on:{\"onApplyPresetCallback\":_vm.onApplyPresetClick,\"onChangeFaceDataCallback\":function($event){return _vm.reloadProcessImage('face')},\"on-change-color-slider\":_vm.onChangeColor,\"on-change-beautify-change\":_vm.onChangeBeautify,\"on-reset-params\":_vm.resetRemoveDefectivePaintMask}},[_c('template',{slot:\"histogram\"},[_c('Histogram',{ref:\"tsHistogram\",attrs:{\"width\":300,\"chartData\":_vm.histogramData.chartData || {},\"imageInfo\":_vm.histogramData.imageInfo || {}}})],1),_c('template',{slot:\"painter\"},[_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickSmear),expression:\"PointClickSmear\"}],staticClass:\"ts-icon-painter-button\",attrs:{\"type\":\"text\",\"disabled\":!_vm.imageState.allowPainter},on:{\"click\":function($event){$event.stopPropagation();return _vm.usePainterTool.apply(null, arguments)}}},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"content\":\"手动涂抹\",\"placement\":\"bottom\",\"visible-arrow\":false,\"popper-class\":\"title-tip\"}},[_c('i',{staticClass:\"ts-icon-painter\",class:{\n                                'active': !_vm.imageState.paintRemoveDefectiveMaskIsEmpty,\n                                disabled: !_vm.imageState.allowPainter\n                            }})])],1)],1)],2),_c('ts-drawer',{staticClass:\"opt-record\",attrs:{\"width\":\"300px\",\"direction\":\"rtl\",\"value\":_vm.activeNavName === 'history'}},[_c('ThumbOptRecordView',{attrs:{\"is-show\":_vm.activeNavName === 'history',\"photo-control-func\":_vm.photoControlInfo}})],1),_c('ts-drawer',{staticClass:\"opt-record\",attrs:{\"width\":\"300px\",\"direction\":\"rtl\",\"value\":_vm.activeNavName === 'crop'}},[_c('crop-panel',{attrs:{\"rotate\":_vm.cropConfig.rotate},on:{\"on-rotate\":_vm.handleRotate,\"on-flip\":_vm.handleFlip,\"on-crop-change\":_vm.handleCrop,\"on-crop-reset\":_vm.handleResetCrop},scopedSlots:_vm._u([{key:\"bottom\",fn:function(){return [_c('el-button',{staticClass:\"btn system-theme\",staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.clickFinishCropBtn}},[_vm._v(\" 确认 \")])]},proxy:true}])})],1)],1),_c('refine-nav-bar',{staticClass:\"params-group\",attrs:{\"before-change\":_vm.beforeRefineNavBarChange,\"ban-shortcut\":_vm.showPainter,\"image-loading\":_vm.imageState.loading,\"image-init\":_vm.imageState.init},model:{value:(_vm.activeNavName),callback:function ($$v) {_vm.activeNavName=$$v},expression:\"activeNavName\"}}),_c('ts-drawer',{attrs:{\"width\":\"345px\",\"direction\":\"rtl\"},model:{value:(_vm.showPainter),callback:function ($$v) {_vm.showPainter=$$v},expression:\"showPainter\"}},[(_vm.showPainter)?_c('defect-panel',{attrs:{\"showResetMaskBtn\":_vm.showResetMaskBtn,\"historyList\":_vm.painterHistoryList},on:{\"change-tool\":_vm.switchDefectTool,\"change-history\":_vm.onChangeHistory,\"on-reset-painter\":_vm.resetPainterRecord}},[_c('div',{staticClass:\"operation-panel-bottom\",attrs:{\"slot\":\"bottom\"},slot:\"bottom\"},[_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickSmearCancel),expression:\"PointClickSmearCancel\"}],staticClass:\"btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRemoveDefectivePaintMask('cancel')}}},[_vm._v(\" 取消 \")]),_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickPreservation),expression:\"PointClickPreservation\"}],staticClass:\"btn\",attrs:{\"size\":\"mini\",\"disabled\":_vm.imageState.loading},on:{\"click\":function($event){return _vm.setRemoveDefectivePaintMask('save')}}},[_vm._v(\" 保存 \")])],1)]):_vm._e()],1),_c('ts-drawer',{attrs:{\"width\":\"345px\",\"direction\":\"rtl\"},model:{value:(_vm.showLiquefy),callback:function ($$v) {_vm.showLiquefy=$$v},expression:\"showLiquefy\"}},[(_vm.showLiquefy)?_c('liquefy-panel',{attrs:{\"historyList\":_vm.liquefyHistoryList,\"show-reset-btn\":_vm.showLiquefyResetBtn},on:{\"change-history\":_vm.onChangeLiquefyHistory,\"on-reset\":_vm.handleResetLiquefy}},[_c('div',{staticClass:\"operation-panel-bottom\",attrs:{\"slot\":\"bottom\"},slot:\"bottom\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){[_vm.handleFinishLiquefyMode('cancel'), _vm.PointLiquefactionCancel()]}}},[_vm._v(\" 取消 \")]),_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){[_vm.handleFinishLiquefyMode('save'), _vm.PointLiquefactionConfirm()]}}},[_vm._v(\" 确认 \")])],1)]):_vm._e()],1),_c('liquefy-drawer',{attrs:{\"value\":_vm.showLiquefy && !_vm.hideLiquefyTool},on:{\"change-tool\":_vm.switchLiquefyTool,\"before-close\":(done) => [_vm.handleFinishLiquefyMode('save'), done()]},nativeOn:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)}}}),_c('feedback-dialog',{attrs:{\"show-feedback-dialog\":_vm.showFeedbackDialog,\"feedbackDialog_viewModel\":_vm.feedbackDialog_viewModel},on:{\"update:showFeedbackDialog\":function($event){_vm.showFeedbackDialog=$event},\"update:show-feedback-dialog\":function($event){_vm.showFeedbackDialog=$event},\"update:feedbackDialog_viewModel\":function($event){_vm.feedbackDialog_viewModel=$event},\"update:feedback-dialog_view-model\":function($event){_vm.feedbackDialog_viewModel=$event}}}),_c('importProgressDialog',{attrs:{\"status\":_vm.importProgress.status,\"data\":_vm.importProgress,\"importName\":_vm.myImportName},on:{\"onCancelled\":_vm.handleCancelImport},nativeOn:{\"mousedown\":function($event){$event.stopPropagation();}},model:{value:(_vm.showImportProgress),callback:function ($$v) {_vm.showImportProgress=$$v},expression:\"showImportProgress\"}}),_c('delete-progress-dialog',{attrs:{\"status\":_vm.deleteProgress.status,\"data\":_vm.deleteProgress},model:{value:(_vm.showDeleteProgress),callback:function ($$v) {_vm.showDeleteProgress=$$v},expression:\"showDeleteProgress\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"params-bar global__params-bar border-line-style\"},[_c('div',{ref:\"paramsComRef\",staticClass:\"params-components\"},[_c('split',{attrs:{\"min\":`${_vm.activeNames.includes('preset') ? _vm.splitMinVal : 40}px`,\"disabled\":!_vm.activeNames.includes('preset'),\"mode\":\"vertical\"},on:{\"on-move-end\":function($event){[_vm.splitManualVal = _vm.splitValue, _vm.PointDragPanel()]}},model:{value:(_vm.splitValue),callback:function ($$v) {_vm.splitValue=$$v},expression:\"splitValue\"}},[_c('div',{staticClass:\"splitTriggle\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('div',{staticClass:\"triggleContent\"})]),_c('el-collapse',{ref:\"removeTabindex\",staticClass:\"collapse preset-collapse\",attrs:{\"slot\":\"top\"},slot:\"top\",model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{ref:\"preset\",attrs:{\"title\":\"预设\",\"name\":\"preset\"}},[_c('template',{slot:\"title\"},[_c('div',{staticClass:\"claWtBlanceTitle\",on:{\"keydown\":function($event){$event.preventDefault();}}},[_c('span',{staticClass:\"claTitle\"},[_vm._v(\"预设\")]),_c('div',[_c('el-button',{staticClass:\"addBtnCla\",attrs:{\"circle\":\"\",\"icon\":\"el-icon-refresh-right\"},on:{\"click\":function($event){$event.stopPropagation();[_vm.handlResetPreset(), _vm.cancelBlur($event)]}}}),_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddPresetIcon),expression:\"PointAddPresetIcon\"}],staticClass:\"addBtnCla\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){$event.stopPropagation();[_vm.handleAddPreset(), _vm.cancelBlur($event)]}}})],1)])]),_c('div',{staticClass:\"guideClass2\"},[_c('TSPresetTree',{ref:\"tSPresetTreeRefs\",attrs:{\"height\":`${_vm.presetHeight}px`},on:{\"onItemClick\":_vm.onApplyPresetClick}})],1)],2)],1),_c('template',{slot:\"bottom\"},[_c('div',{staticClass:\"splitBottom guideClass3\"},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNavName === _vm.RefineNavName.Beauty),expression:\"activeNavName === RefineNavName.Beauty\"}],staticClass:\"person-menu\"},[_vm._l((_vm.personList),function(person){return [_c('li',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointSwitchGender),expression:\"PointSwitchGender\"}],key:person.type,staticClass:\"person-menu-item\",class:{ active: _vm.currPersonType === person.type },on:{\"click\":function($event){_vm.currPersonType = person.type}}},[_vm._v(\" \"+_vm._s(person.label)+\" \")])]}),_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointModifyGender),expression:\"PointModifyGender\"}],staticClass:\"ageSexChange\",class:{'active': _vm.isFaceLoadSuccess },attrs:{\"type\":\"primary\",\"disabled\":!_vm.isFaceLoadSuccess},on:{\"click\":function($event){[_vm.setSexAdjustHasRedDotValue(),_vm.sexAdjustButtonHasNewDot=_vm.sexAdjustHasRedDotValue(),_vm.showImportAgeSexRevise = !_vm.showImportAgeSexRevise]}}},[(!_vm.sexAdjustButtonHasNewDot)?_c('div',{staticClass:\"has_new\"}):_vm._e()])],2),_c('params-collapse',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNavName === _vm.RefineNavName.Beauty),expression:\"activeNavName === RefineNavName.Beauty\"}],attrs:{\"type\":\"beauty\",\"params-cols-height\":_vm.paramsColsHeight},on:{\"user-behavior\":_vm.onUserBehavior,\"on-change\":_vm.onChangeSliders,\"on-change-color\":_vm.onChangeColorSliders,\"on-input\":_vm.onInputSliders,\"on-input-color\":_vm.onInputColorSliders,\"on-reset\":function($event){[_vm.$emit('on-reset-params',$event),_vm.PointParameterAdjustmentReset()]}}},[_c('template',{slot:\"painter\"},[_vm._t(\"painter\")],2)],2),_c('el-collapse',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNavName === _vm.RefineNavName.Palette),expression:\"activeNavName === RefineNavName.Palette\"}],ref:\"removeTabindex\",model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{ref:\"histogram\",staticClass:\"histogram-collapse\",attrs:{\"title\":\"直方图\",\"name\":\"histogram\"}},[_vm._t(\"histogram\")],2)],1),_c('params-collapse',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNavName === _vm.RefineNavName.Palette),expression:\"activeNavName === RefineNavName.Palette\"}],attrs:{\"type\":\"color\",\"params-cols-height\":_vm.paramsColsHeight},on:{\"user-behavior\":_vm.onUserBehavior,\"point-filter\":_vm.PointSelectFilter,\"on-change\":_vm.onChangeSliders,\"on-change-color\":_vm.onChangeColorSliders,\"on-input\":_vm.onInputSliders,\"on-input-color\":_vm.onInputColorSliders,\"on-reset\":function($event){[_vm.$emit('on-reset-params',$event),_vm.PointParameterAdjustmentReset()]}}}),_c('params-collapse',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNavName === _vm.RefineNavName.Background),expression:\"activeNavName === RefineNavName.Background\"}],attrs:{\"type\":\"background\",\"params-cols-height\":_vm.paramsColsHeight},on:{\"user-behavior\":_vm.onUserBehavior,\"on-change\":_vm.onChangeSliders,\"on-change-color\":_vm.onChangeColorSliders,\"on-input\":_vm.onInputSliders,\"on-input-color\":_vm.onInputColorSliders,\"on-reset\":function($event){[_vm.$emit('on-reset-params',$event),_vm.PointParameterAdjustmentReset()]}},scopedSlots:_vm._u([{key:\"import\",fn:function(data){return [_vm._t(\"import\",null,{\"data\":data.data})]}}],null,true)})],1)])],2),_c('div',{staticClass:\"bottom-btn\",on:{\"keydown\":function($event){$event.preventDefault();}}},[_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddPresetButton),expression:\"PointAddPresetButton\"}],staticClass:\"save-btn\",attrs:{\"size\":\"mini\",\"disabled\":_vm.isOriParams},on:{\"click\":_vm.onSaveNewPresetClick}},[_vm._v(\" 保存新预设 \")]),_c('el-button-group',{staticClass:\"save-btn\",staticStyle:{\"display\":\"flex\"},attrs:{\"size\":\"mini\"}},[_c('el-button',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointAddApplyButton),expression:\"PointAddApplyButton\"}],staticStyle:{\"width\":\"110px\"},attrs:{\"size\":\"mini\",\"title\":\"同步效果\",\"loading\":_vm.isApplyLoading,\"disabled\":_vm.isSyncPresetDisabled},on:{\"click\":_vm.onApplyPresetToOther}},[_vm._v(\" 同步到选中图片 \")]),_c('el-button',{staticClass:\"preset-settings\",attrs:{\"size\":\"mini\",\"id\":\"guide__refine-preset-settings\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changeSyncSetting.apply(null, arguments)}}},[_c('i',{staticClass:\"ts-icon-setting\"})])],1)],1)],1),(!_vm.isDestroy)?_c('SavePresetDialog',{ref:\"savePresetDialogRefs\",attrs:{\"refineUUID\":_vm.refineUUID,\"get-params-json\":_vm.getParamsJson,\"isRecommendPreset\":_vm.isRecommendPreset,\"deletePresetSuitId\":_vm.deletePresetSuitId,\"preset_label\":_vm.preset_label},on:{\"newPresetClass\":function($event){_vm.showNewPresetTypeDialog = true},\"saveSuccess\":_vm.onSaveSuccess},model:{value:(_vm.showSavePresetDialog),callback:function ($$v) {_vm.showSavePresetDialog=$$v},expression:\"showSavePresetDialog\"}}):_vm._e(),_c('ImportPresetDialog',{model:{value:(_vm.showImportPresetDialog),callback:function ($$v) {_vm.showImportPresetDialog=$$v},expression:\"showImportPresetDialog\"}}),_c('NewPresetTypeDialog',{on:{\"loadPreset\":_vm.loadPreset},model:{value:(_vm.showNewPresetTypeDialog),callback:function ($$v) {_vm.showNewPresetTypeDialog=$$v},expression:\"showNewPresetTypeDialog\"}}),_c('ImportAgeSexRevise',{ref:\"import-age-sex-revise\",attrs:{\"value\":_vm.showImportAgeSexRevise,\"personTypeTab\":_vm.currPersonType,\"isDestroy\":_vm.isDestroy,\"refineUUID\":_vm.refineUUID},on:{\"update:value\":function($event){_vm.showImportAgeSexRevise=$event},\"update:personTypeTab\":function($event){_vm.currPersonType=$event},\"update:person-type-tab\":function($event){_vm.currPersonType=$event},\"changeFaceData\":function($event){return _vm.$emit('onChangeFaceDataCallback')}}}),_c('SyncPresetSettings',{attrs:{\"refineUUID\":_vm.refineUUID},on:{\"on-apply\":_vm.onApplyPresetToOther},model:{value:(_vm.showSyncPresetSettings),callback:function ($$v) {_vm.showSyncPresetSettings=$$v},expression:\"showSyncPresetSettings\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { cloneDeep } from 'lodash'\nimport { ParamFlag } from '@/constants/effect-config'\n\nexport const showInAllTypes = ['Male', 'Female', 'Child', 'Older']\nexport const formatAllPersonType = ['Male', 'Female', 'Child', 'Older']\n\nimport {\n    IComponentParamBefore,\n    IComponentParamAfter,\n    PersonParamsComponentItem,\n    IPersonType\n} from './types'\nimport { EffectParamPersonType } from '@/constants/presetParams/ParamEnum'\n\nimport PersonParamModel from '@/model/ParamsModel/PersonParamModel'\nimport HslParamModel from '@/model/ParamsModel/HslParamModel'\n\n/**\n * 男女儿童分组格式化\n * @param params\n * @param type\n * @returns {*}\n */\nexport const formatPersonParams = (params: Array<IComponentParamAfter>, type = 'Male'): Array<IComponentParamAfter> => {\n    const temp: Array<IComponentParamAfter> = []\n\n    params.forEach(item => {\n        const obj = cloneDeep(item)\n        if (type) {\n            if (obj.key) {\n                obj.key = PersonParamModel.identify(item.key as string, type)\n            }\n\n            if (obj.keys) {\n                obj.keys = obj.keys.map((key: string) => PersonParamModel.identify(key, type))\n            }\n\n            if (obj.options) {\n                obj.options.forEach((option: IComponentParamAfter) => {\n                    option.key = PersonParamModel.identify(option.key as string, type)\n                })\n            }\n        }\n        temp.push(obj)\n    })\n\n    return temp\n}\n\n/**\n * 颜色列表格式化\n * @param colorList\n * @param param\n * @param colorMapping\n * @returns {*}\n */\nexport const formatColorParams = (colorList: Array<IComponentParamAfter>, param: string = '', colorMapping: any): Array<IComponentParamAfter> => {\n    const temp: Array<IComponentParamAfter> = []\n\n    colorList.forEach(item => {\n        // @ts-ignore\n        if (item.cStyle && item.cStyle.runwayStyle) {\n            // @ts-ignore\n            item.cStyle.runwayStyle.background = colorMapping[param][item.key]\n        }\n        const obj = JSON.parse(JSON.stringify({ ...item }))\n\n        obj.key = HslParamModel.identify(param, item.key as string)\n        temp.push(obj)\n    })\n\n    return temp\n}\n\n/**\n * 格式化\n * @param params\n * @returns {{Male, Female, Child}}\n */\nexport const formatPersonParamsGroup = (params: IComponentParamBefore[]): PersonParamsComponentItem => {\n    const Male: IComponentParamAfter[] = []\n    const Female: IComponentParamAfter[] = []\n    const Child: IComponentParamAfter[] = []\n    const Older: IComponentParamAfter[] = []\n\n    params.forEach(item => {\n        const { showType, personType } = item\n\n        let obj: IComponentParamAfter = { ...item }\n        let key = item.key as string\n        // delete obj.showType\n        // delete obj.personType\n        // @ts-ignore\n        obj.flag = ParamFlag[key]\n\n        if (showType.includes('Male')) {\n            const temp = { ...obj }\n            if (personType && personType.includes('Male')) {\n                if (temp.key) {\n                    temp.key = PersonParamModel.identify(key, EffectParamPersonType.Male)\n                }\n\n                if (temp.keys) {\n                    temp.flags = temp.keys.map((key: string) => ParamFlag[key]) || []\n                    temp.keys = temp.keys.map((key: string) => PersonParamModel.identify(key, EffectParamPersonType.Male))\n                }\n\n                if (typeof temp.visibleBySex === 'function') {\n                    temp.visible = temp.visibleBySex(EffectParamPersonType.Male)\n                }\n            }\n            Male.push(temp)\n        }\n\n        if (showType.includes('Female')) {\n            const temp = { ...obj }\n            if (personType && personType.includes('Female')) {\n                if (temp.key) {\n                    temp.key = PersonParamModel.identify(key, EffectParamPersonType.Female)\n                }\n\n                if (temp.keys) {\n                    temp.flags = temp.keys.map((key: string) => ParamFlag[key]) || []\n                    temp.keys = temp.keys.map((key: string) => PersonParamModel.identify(key, EffectParamPersonType.Female))\n                }\n\n                if (typeof temp.visibleBySex === 'function') {\n                    temp.visible = temp.visibleBySex(EffectParamPersonType.Female)\n                }\n            }\n            Female.push(temp)\n        }\n\n        if (showType.includes('Child')) {\n            const temp = { ...obj }\n            if (personType && personType.includes('Child')) {\n                if (temp.key) {\n                    temp.key = PersonParamModel.identify(key, EffectParamPersonType.Child)\n                }\n\n                if (temp.keys) {\n                    temp.flags = temp.keys.map((key: string) => ParamFlag[key]) || []\n                    temp.keys = temp.keys.map((key: string) => PersonParamModel.identify(key, EffectParamPersonType.Child))\n                }\n\n                if (typeof temp.visibleBySex === 'function') {\n                    temp.visible = temp.visibleBySex(EffectParamPersonType.Child)\n                }\n            }\n            Child.push(temp)\n        }\n\n        if (showType.includes('Older')) {\n            const temp = { ...obj }\n            if (personType && personType.includes('Older')) {\n                if (temp.key) {\n                    temp.key = PersonParamModel.identify(key, EffectParamPersonType.Older)\n                }\n\n                if (temp.keys) {\n                    temp.flags = temp.keys.map((key: string) => ParamFlag[key]) || []\n                    temp.keys = temp.keys.map((key: string) => PersonParamModel.identify(key, EffectParamPersonType.Older))\n                }\n\n                if (typeof temp.visibleBySex === 'function') {\n                    temp.visible = temp.visibleBySex(EffectParamPersonType.Older)\n                }\n            }\n            Older.push(temp)\n        }\n    })\n\n    return {\n        Male,\n        Female,\n        Child,\n        Older\n    }\n}\n\nexport function personParamsMap(params: IComponentParamBefore[]): Map<IPersonType, IComponentParamAfter[]> {\n    const result = formatPersonParamsGroup(params)\n    return new Map([\n        ['Male', result.Male],\n        ['Female', result.Female],\n        ['Child', result.Child],\n        ['Older', result.Older]\n    ])\n}\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { formatAllPersonType, showInAllTypes } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/utils'\n\nexport default [\n    {\n        name: '祛斑祛痘',\n        key: EffectParamEnum.Spotless,\n        value: 0,\n        // cType: 'switch',\n        // max: 1,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '祛痣',\n        key: EffectParamEnum.RemoveNevus,\n        value: 0,\n        cType: 'switch',\n        max: 1,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '身体祛瑕疵',\n        key: EffectParamEnum.SpotlessBody,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '祛抬头纹',\n        key: EffectParamEnum.RemoveForeheadLines,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '祛眼周纹',\n        key: EffectParamEnum.RemoveEyeLines,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '祛黑眼圈',\n        key: EffectParamEnum.LightenPouch,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        tip: ['祛黑眼圈通过AI智能识别眼部色素沉', '着对其做充分的祛除。为保证祛除效', '果更自然，滑动滑竿时AI会自动根据', '眼部色素情况判断效果生效程度。']\n    },\n    {\n        name: '祛法令纹',\n        key: EffectParamEnum.TearTrough,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        tip: ['祛法令纹通过AI智能识别鼻翼两侧暗', '沉对其进行淡化，填充鼻基底，让脸', '部看起来更年轻。为保证淡化效果更', '自然，滑动滑竿时AI会自动根据纹路', '暗沉情况判断效果生效程度。']\n    },\n    {\n        name: '祛颈纹',\n        key: EffectParamEnum.RemoveNeckLines,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '祛双下巴',\n        key: EffectParamEnum.RemoveDoubleChin,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        tip: ['去双下巴通过AI智能识别下巴轮廓，', '达到去除双下巴的同时保留正常脸', '型的效果。同时开启祛颈纹功能，', '整体效果更好噢～'],\n        line: (data: any): boolean => {\n            const value = data[EffectParamEnum.StretchMark]\n            return value === 1\n        }\n    },\n    {\n        name: '祛妊娠纹',\n        key: EffectParamEnum.StretchMark,\n        cType: 'switch',\n        value: 0,\n        showType: ['Female']\n    },\n    {\n        name: '祛妊娠线',\n        key: EffectParamEnum.StretchMarkLine,\n        value: 100,\n        showType: ['Female'],\n\n        visible: (data: any): boolean => {\n            const value = data[EffectParamEnum.StretchMark]\n            return (value === 1)\n        }\n    }\n]\n","import { showInAllTypes, formatAllPersonType } from '../utils'\nimport { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport {IS_CLIENT_PIX_PIE} from \"@/universal/types/config\";\nimport { RealtimeType } from '@/constants/constants'\n\nconst realtime = RealtimeType.EnableByGpu\n\nexport default [\n    {\n        name: '质感磨皮（中性灰）',\n        key: EffectParamEnum.NeutralGrayRetouch,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '水润磨皮-脸部',\n        key: EffectParamEnum.MoisturizingSkin,\n        value: 0,\n        max: IS_CLIENT_PIX_PIE ? 50 : 100,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '水润磨皮-身体',\n        key: EffectParamEnum.MoisturizingSkinNoFace,\n        value: 0,\n        max: IS_CLIENT_PIX_PIE ? 50 : 100,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        line: true\n    },\n    // {\n    //     name: '高光立体',\n    //     key: EffectParamEnum.FacialStereo3DLight,\n    //     value: 0,\n    //     personType: formatAllPersonType,\n    //     showType: showInAllTypes\n    // },\n    // {\n    //     name: '阴影立体',\n    //     key: EffectParamEnum.FacialStereo3DShadow,\n    //     value: 0,\n    //     personType: formatAllPersonType,\n    //     showType: showInAllTypes\n    // },\n\n    {\n        name: '肤色透亮',\n        key: EffectParamEnum.SkinColorLighten,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    },\n    {\n        name: '肤色美白',\n        key: EffectParamEnum.SkinColorWhiten,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '皮肤红润',\n        key: EffectParamEnum.SkinColorRuddy,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '肤色统一',\n        key: EffectParamEnum.SkinColorUniform,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        tip: ['肤色统一通过AI智能肤色识别达到全', '身肤色一致的效果。为避免坏片，开', '启肤色统一开关后，AI会自动根据图', '片肤色情况判断效果是否生效。']\n    }\n]\n","import { showInAllTypes, formatAllPersonType } from '../utils'\nimport { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\nexport default [\n    {\n        name: '牙齿美白',\n        key: EffectParamEnum.TeethWhiten,\n        // precise: true,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime: RealtimeType.EnableByGpu\n    },\n    {\n        name: '牙齿修复',\n        key: EffectParamEnum.ToothRepairing,\n        value: 0,\n        cType: 'switch',\n        beta: true,\n        max: 1,\n        personType: formatAllPersonType,\n        showType: showInAllTypes\n    }\n]\n","import { showInAllTypes, formatAllPersonType } from '../utils'\nimport { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\nexport default [\n    {\n        name: '亮眼',\n        key: EffectParamEnum.BrightEye,\n        // precise: true,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime: RealtimeType.EnableByGpu\n    }\n]\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\n/*\n* 背景增强\n* */\n\nexport const getBackgroundEnhance = (bgCleanModeDefault: number = -1, bgCleanMooreModeDefault: number = -1): any => {\n    const initDefaultMode = bgCleanModeDefault === -1 // 未根据图片初始化默认值\n\n    return [\n        {\n            name: '纯色背景祛瑕疵',\n            key: EffectParamEnum.BgCleanSwitch,\n            value: 0,\n            max: 1,\n            cType: 'switch',\n            tip: ['纯色背景祛瑕疵是专门针对纯色背景', '研发的一键祛瑕疵功能。开启后，AI', '会自动识别纯色背景并祛除瑕疵，非', '纯色背景无效果。'\n            ],\n            beta: true\n        },\n\n        {\n            name: '背景调整',\n            cType: 'select',\n            key: EffectParamEnum.BgCleanMode,\n            hiddenName: true,\n            loading: initDefaultMode,\n            loadingText: '自动识别中...',\n            disabled: initDefaultMode,\n            value: bgCleanModeDefault,\n            options: [{\n                name: `${ bgCleanModeDefault === 1 ? '自动识别：' : '' }纯色背景`,\n                label: '纯色背景',\n                parent: '祛瑕疵',\n                value: 1\n            },\n            {\n                name: `${ bgCleanModeDefault === 0 ? '自动识别：' : '' }非纯色背景（无效果）`,\n                label: '非纯色背景（无效果）',\n                parent: '祛瑕疵',\n                value: 0\n            }],\n            textColor: '#A6A6A6',\n            visible: (data: any): boolean => {\n                const value = data[EffectParamEnum.BgCleanSwitch]\n                return value === 1\n            }\n        },\n\n        {\n            name: '纯色背景祛色彩断层',\n            key: EffectParamEnum.BgCleanMooreSwitch,\n            value: 0,\n            max: 1,\n            cType: 'switch',\n            tip: ['纯色背景祛色彩断层是专门针对纯色背景研发的一键祛除色彩断层（摩尔纹/色块/波纹等）的功能。开启后，AI会自动识别纯色背景并祛除色彩断层，非纯色背景无效果。'],\n            tipStyle: { width: '200px' },\n            beta: true\n        },\n\n        {\n            name: '背景调整',\n            cType: 'select',\n            key: EffectParamEnum.BgCleanMooreMode,\n            hiddenName: true,\n            disabled: initDefaultMode,\n            value: bgCleanMooreModeDefault,\n            options: initDefaultMode\n                ? [{ name: '自动识别中...', value: 0 }, { name: '自动识别中...', value: 1 }, { name: '自动识别中...', value: -1 }]\n                : [{\n                    name: `${ bgCleanMooreModeDefault === 1 ? '自动识别：' : '' }纯色背景`,\n                    label: '纯色背景',\n                    parent: '祛色彩断层',\n                    value: 1\n                },\n                {\n                    name: `${ bgCleanMooreModeDefault === 0 ? '自动识别：' : '' }非纯色背景（无效果）`,\n                    label: '非纯色背景（无效果）',\n                    parent: '祛色彩断层',\n                    value: 0\n                }],\n            textColor: '#A6A6A6',\n            visible: (data: any): boolean => {\n                const value = data[EffectParamEnum.BgCleanMooreSwitch]\n                return value === 1\n            },\n            line: true\n        },\n\n        {\n            name: '背景增强',\n            key: EffectParamEnum.BackgroundEnhance,\n            realtime: RealtimeType.EnableByGpu,\n            value: 0,\n            tip: ['通过AI自动调色增强背景的饱和度、对比度等。', '适用于不想过多改变原图色调，又想提升画面', '色彩氛围的情况。'],\n        }\n    ]\n}\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\n\nexport const getSkyParams = (data: any ) => {\n    let haveSky = data.sky\n    let haveWater = data.water\n    let haveBody = data.body\n\n    return [\n        {\n            cType: 'slot',\n            slotName: 'idPhotoSky'\n        },\n        {\n            title: '天空调整',\n            name: '边缘过渡',\n            key: EffectParamEnum.SkyEdgeTransition,\n            value: 0,\n            disabled: !haveSky\n        },\n        {\n            name: '色温',\n            key: EffectParamEnum.SkyTemp,\n            min: -100,\n            max: 100,\n            step: 1,\n            disabled: !haveSky,\n            cStyle: {\n                runwayStyle: {\n                    background: `linear-gradient(63.44deg, #2C2B9F 16.67%, #DEDD65 83.33%)`\n                },\n                barStyle: {\n                    left: {background: 'transparent'},\n                    right: {background: 'transparent'}\n                }\n            }\n        },\n        {\n            name: '饱和度',\n            key: EffectParamEnum.SkySaturation,\n            min: -100,\n            max: 100,\n            step: 1,\n            value: 0,\n            disabled: !haveSky\n        },\n        {\n            name: '亮度',\n            key: EffectParamEnum.SkyBrightness,\n            min: -100,\n            max: 100,\n            step: 1,\n            value: 0,\n            disabled: !haveSky\n        },\n        {\n            name: '虚化',\n            key: EffectParamEnum.SkyVague,\n            value: 0,\n            disabled: !haveSky\n        },\n        {\n            name: '水平翻转天空',\n            key: EffectParamEnum.SkyFlip,\n            value: false,\n            cType: 'switch',\n            disabled: !haveSky\n        },\n        {\n            title: '人景调整',\n            name: '景物色彩（偏向天空）',\n            key: EffectParamEnum.SkySceneryColor,\n            min: -100,\n            max: 100,\n            step: 1,\n            value: 0,\n            disabled: !haveSky\n        },\n        {\n            name: '人物色彩（偏向天空)',\n            key: EffectParamEnum.SkyCharacterColor,\n            min: -100,\n            max: 100,\n            step: 1,\n            value: 0,\n            disabled: !(haveSky && haveBody)\n        },\n        {\n            title: '水面调整',\n            name: '景物反射',\n            key: EffectParamEnum.SkyWaterReflex,\n            min: -100,\n            max: 100,\n            step: 1,\n            value: 0,\n            disabled: !(haveSky && haveWater),\n            titleTip: '给水面加上天空倒影，可控制倒影程度和虚化程度'\n        },\n        {\n            name: '景物水效虚化',\n            key: EffectParamEnum.SkyWaterVague,\n            value: 0,\n            disabled: !(haveSky && haveWater)\n        },\n    ]\n}","import { formatAllPersonType, formatPersonParamsGroup } from '../utils'\nimport { EffectNameEnum, EffectParamEnum, EffectParamPersonTypeValue } from '@/constants/presetParams/ParamEnum'\nimport {\n    IComponentParamAfter,\n    IPersonType,\n    IRealtimeKeys\n} from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\nimport PersonParamModel from '@/model/ParamsModel/PersonParamModel'\nimport PersonEffectItemModel from '@/model/EffectsModel/PersonEffectItemModel'\nimport { RealtimeType } from '@/constants/constants'\n\nconst realtime = RealtimeType.EnableByGpu\n\nconst makeup = [\n    {\n        name: '高光立体',\n        key: EffectParamEnum.FacialStereo3DLight,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: formatAllPersonType,\n        realtime\n    },\n    {\n        name: '阴影立体',\n        key: EffectParamEnum.FacialStereo3DShadow,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: formatAllPersonType,\n        realtime\n    },\n    {\n        name: '眼妆增强',\n        key: EffectParamEnum.MakeupEnhanceEye,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: formatAllPersonType,\n        realtime\n    },\n    {\n        name: '唇妆增强',\n        key: EffectParamEnum.MakeupEnhanceMouth,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: formatAllPersonType,\n        realtime\n    }\n]\n\nconst makeupGroup = formatPersonParamsGroup(makeup)\n\nconst makeupSuit = [\n    {\n        id: 1,\n        label: '主题妆容',\n        key: EffectParamEnum.SuitMakeup,\n        effectKey: EffectNameEnum.MakeupSuit,\n        isMainItem: true,\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '伪素颜',\n                path: 'Makeups/Suit/MU00000001',\n                iconPath: './static/makeupIcons/suit_fakemakeup.png',\n                defaultValue: 80\n            },\n            {\n                id: 2,\n                name: '韩系',\n                path: 'Makeups/Suit/MU00000003',\n                iconPath: './static/makeupIcons/suit_korea.png',\n                defaultValue: 80\n            },\n            {\n                id: 3,\n                name: '甜美',\n                path: 'Makeups/Suit/MU00000005',\n                iconPath: './static/makeupIcons/suit_sweet.png',\n                defaultValue: 80\n            },\n            {\n                id: 4,\n                name: '日系',\n                path: 'Makeups/Suit/MU00000002',\n                iconPath: './static/makeupIcons/suit_japenese.png',\n                defaultValue: 80\n            },\n            {\n                id: 5,\n                name: '复古',\n                path: 'Makeups/Suit/MU00000004',\n                iconPath: './static/makeupIcons/suit_classic.png',\n                defaultValue: 80\n            },\n            {\n                id: 6,\n                name: '欧美',\n                path: 'Makeups/Suit/MU00000006',\n                iconPath: './static/makeupIcons/suit_europe.png',\n                defaultValue: 80\n            },\n            {\n                id: 7,\n                name: '锦鲤妆',\n                new: './static/makeupIcons/makeup_icon_new-lable@3x.png',\n                path: 'Makeups/Suit/MU00000007',\n                iconPath: './static/makeupIcons/suit_brocadecarp.png',\n                defaultValue: 80\n            },\n            {\n                id: 8,\n                name: '千金妆',\n                new: './static/makeupIcons/makeup_icon_new-lable@3x.png',\n                path: 'Makeups/Suit/MU00000008',\n                iconPath: './static/makeupIcons/suit_daughter.png',\n                defaultValue: 80\n            }\n        ]\n    },\n    {\n        id: 2,\n        label: '眉毛',\n        key: EffectParamEnum.EyebrowMakeup,\n        effectKey: EffectNameEnum.Eyebrow,\n        customBtnTextStyle: { width: '22px', display: 'inline-block' },\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '01',\n                path: 'Makeups/Eyebrow/MUEB00000001',\n                iconPath: './static/makeupIcons/eyebrow_01@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 2,\n                name: '02',\n                path: 'Makeups/Eyebrow/MUEB00000002',\n                iconPath: './static/makeupIcons/eyebrow_02@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 3,\n                name: '03',\n                path: 'Makeups/Eyebrow/MUEB00000003',\n                iconPath: './static/makeupIcons/eyebrow_03@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 4,\n                name: '04',\n                path: 'Makeups/Eyebrow/MUEB00000004',\n                iconPath: './static/makeupIcons/eyebrow_04@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 5,\n                name: '05',\n                path: 'Makeups/Eyebrow/MUEB00000005',\n                iconPath: './static/makeupIcons/eyebrow_05@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 6,\n                name: '06',\n                path: 'Makeups/Eyebrow/MUEB00000006',\n                iconPath: './static/makeupIcons/eyebrow_06@3x.png',\n                defaultValue: 70\n            }\n        ]\n    },\n    {\n        id: 3,\n        label: '眼妆',\n        key: EffectParamEnum.EyeMakeup,\n        effectKey: EffectNameEnum.Eyemakeup,\n        customBtnTextStyle: { width: '22px', display: 'inline-block' },\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '01',\n                path: 'Makeups/Eyemakeup/MUEM00000001',\n                iconPath: './static/makeupIcons/eye_makeup_01@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 2,\n                name: '02',\n                path: 'Makeups/Eyemakeup/MUEM00000002',\n                iconPath: './static/makeupIcons/eye_makeup_02@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 3,\n                name: '03',\n                path: 'Makeups/Eyemakeup/MUEM00000003',\n                iconPath: './static/makeupIcons/eye_makeup_03@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 4,\n                name: '04',\n                path: 'Makeups/Eyemakeup/MUEM00000004',\n                iconPath: './static/makeupIcons/eye_makeup_04@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 5,\n                name: '05',\n                path: 'Makeups/Eyemakeup/MUEM00000005',\n                iconPath: './static/makeupIcons/eye_makeup_05@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 6,\n                name: '06',\n                path: 'Makeups/Eyemakeup/MUEM00000006',\n                iconPath: './static/makeupIcons/eye_makeup_06@3x.png',\n                defaultValue: 70\n            }\n        ]\n    },\n    {\n        id: 4,\n        label: '睫毛',\n        key: EffectParamEnum.EyelashMakeup,\n        effectKey: EffectNameEnum.Eyelash,\n        customBtnTextStyle: { width: '22px', display: 'inline-block' },\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '01',\n                path: 'Makeups/Eyelash/MUEL00000001',\n                iconPath: './static/makeupIcons/eyelash_01@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 2,\n                name: '02',\n                path: 'Makeups/Eyelash/MUEL00000002',\n                iconPath: './static/makeupIcons/eyelash_02@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 3,\n                name: '03',\n                path: 'Makeups/Eyelash/MUEL00000003',\n                iconPath: './static/makeupIcons/eyelash_03@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 4,\n                name: '04',\n                path: 'Makeups/Eyelash/MUEL00000004',\n                iconPath: './static/makeupIcons/eyelash_04@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 5,\n                name: '05',\n                path: 'Makeups/Eyelash/MUEL00000005',\n                iconPath: './static/makeupIcons/eyelash_05@3x.png',\n                defaultValue: 70\n            },\n            {\n                id: 6,\n                name: '06',\n                path: 'Makeups/Eyelash/MUEL00000006',\n                iconPath: './static/makeupIcons/eyelash_06@3x.png',\n                defaultValue: 70\n            }\n        ]\n    },\n    {\n        id: 5,\n        label: '腮红',\n        key: EffectParamEnum.BlusherMakeup,\n        effectKey: EffectNameEnum.Blusher,\n        customBtnTextStyle: { width: '22px', display: 'inline-block' },\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '01',\n                path: 'Makeups/Blusher/MUBL00000001',\n                iconPath: './static/makeupIcons/blush_01@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 2,\n                name: '02',\n                path: 'Makeups/Blusher/MUBL00000002',\n                iconPath: './static/makeupIcons/blush_02@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 3,\n                name: '03',\n                path: 'Makeups/Blusher/MUBL00000003',\n                iconPath: './static/makeupIcons/blush_03@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 4,\n                name: '04',\n                path: 'Makeups/Blusher/MUBL00000004',\n                iconPath: './static/makeupIcons/blush_04@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 5,\n                name: '05',\n                path: 'Makeups/Blusher/MUBL00000005',\n                iconPath: './static/makeupIcons/blush_05@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 6,\n                name: '06',\n                path: 'Makeups/Blusher/MUBL00000006',\n                iconPath: './static/makeupIcons/blush_06@3x.png',\n                defaultValue: 50\n            }\n        ]\n    },\n    {\n        id: 6,\n        label: '口红',\n        key: EffectParamEnum.LipMakeup,\n        effectKey: EffectNameEnum.Lipstick,\n        customBtnTextStyle: { width: '22px', display: 'inline-block' },\n        value: 0,\n        children: [\n            {\n                id: 0,\n                name: '',\n                path: '',\n                iconPath: './static/makeupIcons/makeup_icon_disable@3x.png',\n                defaultValue: 0\n            },\n            {\n                id: 1,\n                name: '01',\n                path: 'Makeups/Lipstick/MULS00000001',\n                iconPath: './static/makeupIcons/lipstick_01@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 2,\n                name: '02',\n                path: 'Makeups/Lipstick/MULS00000002',\n                iconPath: './static/makeupIcons/lipstick_02@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 3,\n                name: '03',\n                path: 'Makeups/Lipstick/MULS00000003',\n                iconPath: './static/makeupIcons/lipstick_03@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 4,\n                name: '04',\n                path: 'Makeups/Lipstick/MULS00000004',\n                iconPath: './static/makeupIcons/lipstick_04@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 5,\n                name: '05',\n                path: 'Makeups/Lipstick/MULS00000005',\n                iconPath: './static/makeupIcons/lipstick_05@3x.png',\n                defaultValue: 50\n            },\n            {\n                id: 6,\n                name: '06',\n                path: 'Makeups/Lipstick/MULS00000006',\n                iconPath: './static/makeupIcons/lipstick_06@3x.png',\n                defaultValue: 50\n            }\n        ]\n    }\n]\n\nexport default function makeupGroupFormat(personType: IPersonType = 'Female'): IComponentParamAfter[] {\n    const comp = [\n        ...makeupGroup[personType],\n    ]\n\n    const realtimeKeys: IRealtimeKeys = makeupSuit.map(item => {\n        return {\n            key: PersonParamModel.identify(item.key, personType),\n            realtime\n        }\n    })\n\n    comp.push({\n        cType: 'slot',\n        slotName: 'makeupSuit',\n        value: 1,\n        realtime,\n        realtimeKeys,\n        // @ts-ignore\n        options: makeupSuit.map(item => {\n            let obj = {\n                ...item\n            }\n\n            // @ts-ignore\n            obj.key = PersonParamModel.identify(item.key, personType)\n            // @ts-ignore\n            obj.effectKey = PersonEffectItemModel.identify(item.effectKey, EffectParamPersonTypeValue[personType])\n\n            return obj\n        })\n    })\n\n    return comp\n}\n","import { formatAllPersonType, formatPersonParams, formatPersonParamsGroup, showInAllTypes } from '../utils'\nimport { EffectParamEnum, EffectAlgoVersion, EffectParamPersonType } from '@/constants/presetParams/ParamEnum'\nimport PersonParamModel from '@/model/ParamsModel/PersonParamModel'\nimport {\n    IComponentParamAfter,\n    IComponentSymmetryParamAfter,\n    IPersonType\n} from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\nimport {IS_CLIENT_PIX_PIE} from \"@/universal/types/config\";\nimport { RealtimeType } from '@/constants/constants'\n\n/*\n* 面部重塑\n* */\n\nconst realtime = RealtimeType.EnableByGpu\n\nconst visible = (version: string) => {\n    return (data: any) => {\n        return data[EffectAlgoVersion.FaceSurgery] === version\n    }\n}\n\nconst facialParams = [\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftFaceLift, EffectParamEnum.RightFaceLift],\n        realtime,\n        cTitle: '瘦脸',\n        options: [\n            { name: '左', value: 0 },\n            { name: '右', value: 0 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftTemple, EffectParamEnum.RightTemple],\n        realtime,\n        cTitle: '太阳穴',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftCheekBone, EffectParamEnum.RightCheekBone],\n        realtime,\n        cTitle: '颧骨',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftJaw, EffectParamEnum.RightJaw],\n        realtime,\n        cTitle: '下颌',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    { name: '瘦脸', key: EffectParamEnum.FaceLift, value: 0, visible: visible('V1'), realtime: true },\n    {\n        name: '太阳穴',\n        key: EffectParamEnum.FacialRefineTemple,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '颧骨',\n        key: EffectParamEnum.FacialRefineCheekBone,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '下颌',\n        key: EffectParamEnum.FacialRefineJaw,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    { name: '小头', key: EffectParamEnum.HeadNarrow, value: 0, realtime: true },\n    { name: '小脸', key: EffectParamEnum.FacialRefineSmallFace, value: 0, realtime: true },\n    { name: '脸宽', key: EffectParamEnum.FaceWidth, min: -100, value: 0, cType: 'ts-slider', realtime: true },\n    { name: '下巴', key: EffectParamEnum.FacialRefineChin, min: -100, value: 0, cType: 'ts-slider', realtime: true },\n    { name: '发际线', key: EffectParamEnum.FacialRefineHairLine, min: -100, value: 0, cType: 'ts-slider', realtime: true }\n]\n//眼睛\nconst eyeParams = [\n    {\n        name: '大小',\n        key: EffectParamEnum.FacialRefineEyeZoom,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '眼高',\n        key: EffectParamEnum.FacialRefineEyeHigher,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '眼宽',\n        key: EffectParamEnum.FacialRefineEyeWidth,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '眼距',\n        key: EffectParamEnum.FacialRefineEyeDistance,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '倾斜',\n        key: EffectParamEnum.FacialRefineEyeAngle,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '位置',\n        key: EffectParamEnum.FacialRefineEyeUpDownAdjust,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeZoom, EffectParamEnum.RightEyeZoom],\n        realtime,\n        cTitle: '大小',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeHigher, EffectParamEnum.RightEyeHigher],\n        realtime,\n        cTitle: '眼高',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeWidth, EffectParamEnum.RightEyeWidth],\n        realtime,\n        cTitle: '眼宽',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeDistance, EffectParamEnum.RightEyeDistance],\n        realtime,\n        cTitle: '眼距',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeAngle, EffectParamEnum.RightEyeAngle],\n        cTitle: '倾斜',\n        realtime,\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeUpDownAdjust, EffectParamEnum.RightEyeUpDownAdjust],\n        realtime,\n        cTitle: '位置',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    }\n]\n//鼻子\nconst noseParams = [\n    { name: '大小', key: EffectParamEnum.FacialRefineNose, min: -100, value: 0, cType: 'ts-slider', realtime: true },\n    {\n        name: '鼻高',\n        key: EffectParamEnum.FacialRefineNoseHigher,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    },\n    {\n        name: '鼻梁',\n        key: EffectParamEnum.FacialRefineNoseBridge,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    },\n    { name: '鼻翼', key: EffectParamEnum.FacialRefineNoseAlar, min: -100, value: 0, cType: 'ts-slider', realtime: true },\n    { name: '鼻尖', key: EffectParamEnum.FacialRefineNoseTip, min: -100, value: 0, cType: 'ts-slider', realtime: true }\n]\n//嘴巴\nconst mouthParams = [\n    { name: '大小', key: EffectParamEnum.FacialRefineMouthSize, min: -100, value: 0, cType: 'ts-slider', realtime: true },\n    {\n        name: '嘴宽',\n        key: EffectParamEnum.FacialRefineMouthWidth,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    },\n    {\n        name: '位置',\n        key: EffectParamEnum.FacialRefineMouthHigher,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    },\n    {\n        name: '丰上唇',\n        key: EffectParamEnum.FacialRefineMouthUpperLip,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    },\n    {\n        name: '丰下唇',\n        key: EffectParamEnum.FacialRefineMouthLowperLip,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        realtime: true\n    }\n]\n//  眉毛\nconst eyeBrowParams = [\n    {\n        name: '粗细',\n        key: EffectParamEnum.FacialRefineEyeBrowThickness,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '眉距',\n        key: EffectParamEnum.FacialRefineEyeBrowDistance,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '倾斜',\n        key: EffectParamEnum.FacialRefineEyeBrowAngle,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '形状',\n        key: EffectParamEnum.FacialRefineEyeBrowShape,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        name: '位置',\n        key: EffectParamEnum.FacialRefineEyeBrowHigher,\n        min: -100,\n        value: 0,\n        cType: 'ts-slider',\n        visible: visible('V1'),\n        realtime: true\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeBrowThickness, EffectParamEnum.RightEyeBrowThickness],\n        realtime,\n        cTitle: '粗细',\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeBrowDistance, EffectParamEnum.RightEyeBrowDistance],\n        cTitle: '眉距',\n        realtime,\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeBrowAngle, EffectParamEnum.RightEyeBrowAngle],\n        cTitle: '倾斜',\n        realtime,\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeBrowShape, EffectParamEnum.RightEyeBrowShape],\n        cTitle: '形状',\n        realtime,\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    },\n    {\n        cType: 'ts-slider-group',\n        visible: visible('V2'),\n        keys: [EffectParamEnum.LeftEyeBrowHigher, EffectParamEnum.RightEyeBrowHigher],\n        cTitle: '位置',\n        realtime,\n        options: [\n            { name: '左', value: 0, min: -100 },\n            { name: '右', value: 0, min: -100 }\n        ]\n    }\n\n]\n\nconst getFaceCompParams = (type: string) => {\n    return [\n        {\n            label: '脸型',\n            id: 'facial',\n            data: [\n                ...formatPersonParams(facialParams, type)\n            ]\n        },\n        {\n            label: '眉毛',\n            id: 'eyeBrow',\n            data: [\n                ...formatPersonParams(eyeBrowParams, type)\n            ]\n        },\n        {\n            label: '眼睛',\n            id: 'eye',\n            data: [\n                ...formatPersonParams(eyeParams, type)\n            ]\n        },\n        {\n            label: '鼻子',\n            id: 'nose',\n            data: [\n                ...formatPersonParams(noseParams, type)\n            ]\n        },\n        {\n            label: '嘴巴',\n            id: 'mouth',\n            data: [\n                ...formatPersonParams(mouthParams, type)\n            ]\n        }\n\n    ]\n}\n\nconst visibleBySex = (type: EffectParamPersonType) => {\n    return (data: any): boolean => {\n        const key = PersonParamModel.identify(EffectParamEnum.SymmetryReshapeSwitch, type)\n        return data[key] === 1\n    }\n}\n\nconst symmetry = [\n    {\n        name: '对称液化（适用证件照）',\n        key: EffectParamEnum.SymmetryReshapeSwitch,\n        new: true,\n        value: 0,\n        cType: 'switch',\n        max: 1,\n        showType: showInAllTypes,\n        personType: formatAllPersonType,\n        tip:['“对称液化”是为满足证件照场景而打造的AI肖','像对称功能。','五官对称：微调五官（眉毛/眼睛/鼻子/嘴巴/','耳朵）使其左右对称。', '上半身对称：调整五官以外区域，如脸型、发','型、上半身姿态等，使其左右对称。'],\n        getDisableValue: (faceDisabled: boolean, bodyDisabled: boolean) => {\n            if (IS_CLIENT_PIX_PIE){\n                return false\n            }\n            return bodyDisabled && faceDisabled\n        }\n    },\n    {\n        name: '五官对称',\n        key: EffectParamEnum.SymmetryReshapeFace,\n        value: 0,\n        showType: showInAllTypes,\n        personType: formatAllPersonType,\n        visibleBySex,\n        realtime,\n        getDisableValue: (faceDisabled: boolean) => {\n            if (IS_CLIENT_PIX_PIE){\n                return false\n            }\n            return faceDisabled\n        }\n    },\n    {\n        name: '上半身对称',\n        key: EffectParamEnum.SymmetryReshapeBody,\n        value: 0,\n        showType: showInAllTypes,\n        personType: formatAllPersonType,\n        visibleBySex,\n        realtime,\n        getDisableValue: (faceDisabled: boolean, bodyDisabled: boolean) => {\n            if (IS_CLIENT_PIX_PIE){\n                return false\n            }\n            return bodyDisabled\n        }\n    }\n]\n\nconst fSymmetryParams = formatPersonParamsGroup(symmetry)\n\nconst getSymmetryParams = (type: IPersonType, data: any): IComponentParamAfter[] => {\n    const params = fSymmetryParams[type]\n    if (data) {\n        const faceDisabled = !data.face[type.toLocaleLowerCase()]\n        const bodyDisabled = !data.body[type.toLocaleLowerCase()]\n        params.forEach((item: IComponentParamAfter) => {\n            const obj = item as IComponentSymmetryParamAfter\n            item.disabled = obj.getDisableValue(faceDisabled, bodyDisabled)\n        })\n    } else {\n        params.forEach(item => {\n            item.disabled = true\n        })\n    }\n\n    return [...params]\n}\n\nexport const typeGroupFormat = (type: IPersonType = 'Male', data: any): any[] => {\n    const list = [\n        {\n            name: '面部重塑',\n            key: `group_facial_refine`,\n            cType: 'group',\n            value: 'facial',\n            filter: true,\n            customBtnTextStyle: { width: '22px', display: 'inline-block' },\n            children: getFaceCompParams(type)\n        },\n\n        {\n            name: '使用旧版',\n            parentName: '面部重塑',\n            key: EffectAlgoVersion.FaceSurgery,\n            cType: 'checkbox',\n            type: 'string',\n            // value: 'V1',\n            value: 'V2',\n            trueLabel: 'V1',\n            falseLabel: 'V2',\n            // line: true\n        }\n    ]\n\n    const params = getSymmetryParams(type, data)\n    if (params) {\n        // @ts-ignore\n        list.push(...params)\n    }\n\n    return [...list]\n}\n","import { formatAllPersonType, personParamsMap, showInAllTypes } from '../utils'\nimport { EffectParamEnum, EffectParamPersonType } from '@/constants/presetParams/ParamEnum'\nimport { PersonType } from '@/constants/effect-config'\nimport {\n    IComponentParamAfter,\n    IPersonType\n} from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\nimport { RealtimeType } from '@/constants/constants'\n\nconst realtime = RealtimeType.EnableByGpu\n\nexport const params = [\n    {\n        title: '全身',\n        name: 'AI塑形',\n        key: EffectParamEnum.AIBodyReshape,\n        value: 0,\n        alwaysShow: true, //一直显示并可以点击\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '瘦身',\n        key: EffectParamEnum.PoseRefineSlim,\n        value: 0,\n        showType: showInAllTypes,\n        personType: formatAllPersonType,\n        realtime\n    },\n    {\n        name: '增高',\n        key: EffectParamEnum.PoseRefineHeighten,\n        value: 0,\n        showType: showInAllTypes,\n        realtime,\n        line: true\n    },\n    {\n        title: '局部',\n        name: '头部',\n        key: EffectParamEnum.PoseRefineShrinkHead,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        cType: 'ts-slider-group',\n        keys: [EffectParamEnum.PoseRefineSlimLeftNeck, EffectParamEnum.PoseRefineSlimRightNeck],\n        realtime,\n        name: '瘦脖子',\n        beta: true,\n        new: true,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        options: [\n            { name: '左', value: 0 },\n            { name: '右', value: 0 }\n        ]\n    },\n    {\n        name: '瘦手臂',\n        key: EffectParamEnum.PoseRefineSlimHand,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '丰胸',\n        key: EffectParamEnum.PoseRefineEnhanceBreast,\n        value: 0,\n        showType: ['Female'],\n        personType: [EffectParamPersonType.Female],\n        realtime\n    },\n\n    {\n        name: '瘦腰',\n        key: EffectParamEnum.PoseRefineSlimWaist,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '美臀',\n        key: EffectParamEnum.PoseRefineNiceButtock,\n        value: 0,\n        showType: ['Female'],\n        personType: [EffectParamPersonType.Female],\n        realtime\n    },\n    {\n        name: '瘦腿',\n        key: EffectParamEnum.PoseRefineSlimLeg,\n        value: 0,\n        personType: formatAllPersonType,\n        showType: showInAllTypes,\n        realtime\n    },\n    {\n        name: '长腿',\n        key: EffectParamEnum.PoseRefineLengthen,\n        value: 0,\n        showType: showInAllTypes,\n        realtime\n    }\n]\n\nexport default class BodyParams {\n    // @ts-ignore\n    baseParams: Map<IPersonType, IComponentParamAfter[]> = personParamsMap(params)\n\n    constructor(private personType: IPersonType = 'Male') {\n    }\n\n    _mergeRule(data: any): IComponentParamAfter[] {\n        let temp = this.baseParams.get(this.personType) || []\n\n        if (data) {\n            const personComMap: [number, boolean][] = data.get(PersonType[this.personType]) || []\n            const switchMap: Map<number, boolean> = new Map(personComMap)\n\n            return temp.map((item: IComponentParamAfter) => {\n                if (item.flag) {\n                    item.disabled = switchMap.has(item.flag)\n                        ? !switchMap.get(item.flag)\n                        : false\n                    if (item.alwaysShow) {\n                        item.disabled = false\n                    }\n                }\n\n                if (item.flags && item.flags.length > 0) {\n                    item.disabled = !item.flags.every(flag => switchMap.has(flag) && switchMap.get(flag))\n                }\n\n                return item\n            })\n        } else {\n            return temp.map((item: IComponentParamAfter) => {\n                item.disabled = !item.hasOwnProperty('alwaysShow')\n                return item\n            })\n        }\n\n    }\n\n    getParamsData(data: any): IComponentParamAfter[] {\n        return this._mergeRule(data)\n    }\n}\n","/*\n* HSL\n* */\n\nimport { formatColorParams } from '../utils'\nimport { EffectParamEnum, EffectParamHslColor } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\nconst realtime = RealtimeType.AlwaysEnable\n\nconst red = 'rgb(247, 25, 25)'\nconst orange = 'rgb(250, 95, 0)'\nconst yellow = 'rgb(255, 255, 0)'\nconst green = 'rgb(0, 225, 0)'\nconst cyan = 'rgb(0, 209, 217)'\nconst blue = 'rgb(42, 71, 241)'\nconst purple = 'rgb(145, 0, 235)'\nconst magenta = 'rgb(245, 0, 220)'\nconst gray = 'rgb(128, 128, 128)'\nconst black = 'rgb(0, 0, 0)'\nconst white = 'rgb(255, 255, 255)'\n\nconst customColor = {\n    EnhanceEditHSLHue: {\n        [EffectParamHslColor.Red]: `linear-gradient(to right, ${ magenta }, ${ red }, ${ orange })`,\n        [EffectParamHslColor.Orange]: `linear-gradient(to right, ${ red }, ${ orange }, ${ yellow })`,\n        [EffectParamHslColor.Yellow]: `linear-gradient(to right, ${ orange }, ${ yellow }, ${ green })`,\n        [EffectParamHslColor.Green]: `linear-gradient(to right, ${ yellow }, ${ green }, ${ cyan })`,\n        [EffectParamHslColor.Cyan]: `linear-gradient(to right, ${ green }, ${ cyan }, ${ blue })`,\n        [EffectParamHslColor.Blue]: `linear-gradient(to right, ${ cyan }, ${ blue }, ${ purple })`,\n        [EffectParamHslColor.Purple]: `linear-gradient(to right, ${ blue }, ${ purple }, ${ magenta })`,\n        [EffectParamHslColor.Magenta]: `linear-gradient(to right,  ${ purple }, ${ magenta }, ${ red })`\n    },\n    EnhanceEditHSLSaturation: {\n        [EffectParamHslColor.Red]: `linear-gradient(to right, ${ gray }, ${ red })`,\n        [EffectParamHslColor.Orange]: `linear-gradient(to right, ${ gray }, ${ orange })`,\n        [EffectParamHslColor.Yellow]: `linear-gradient(to right, ${ gray }, ${ yellow })`,\n        [EffectParamHslColor.Green]: `linear-gradient(to right, ${ gray }, ${ green })`,\n        [EffectParamHslColor.Cyan]: `linear-gradient(to right, ${ gray }, ${ cyan })`,\n        [EffectParamHslColor.Blue]: `linear-gradient(to right, ${ gray }, ${ blue })`,\n        [EffectParamHslColor.Purple]: `linear-gradient(to right, ${ gray }, ${ purple })`,\n        [EffectParamHslColor.Magenta]: `linear-gradient(to right, ${ gray }, ${ magenta })`\n    },\n    EnhanceEditHSLLightness: {\n        [EffectParamHslColor.Red]: `linear-gradient(to right, ${ black }, ${ red }, ${ white })`,\n        [EffectParamHslColor.Orange]: `linear-gradient(to right, ${ black }, ${ orange }, ${ white })`,\n        [EffectParamHslColor.Yellow]: `linear-gradient(to right, ${ black }, ${ yellow }, ${ white })`,\n        [EffectParamHslColor.Green]: `linear-gradient(to right, ${ black }, ${ green }, ${ white })`,\n        [EffectParamHslColor.Cyan]: `linear-gradient(to right, ${ black }, ${ cyan }, ${ white })`,\n        [EffectParamHslColor.Blue]: `linear-gradient(to right, ${ black }, ${ blue }, ${ white })`,\n        [EffectParamHslColor.Purple]: `linear-gradient(to right, ${ black }, ${ purple }, ${ white })`,\n        [EffectParamHslColor.Magenta]: `linear-gradient(to right,  ${ black }, ${ magenta }, ${ white })`\n    }\n}\n\nconst colorList = [\n    {\n        name: '红色',\n        key: EffectParamHslColor.Red,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '橙色',\n        key: EffectParamHslColor.Orange,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '黄色',\n        key: EffectParamHslColor.Yellow,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '绿色',\n        key: EffectParamHslColor.Green,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '浅绿色',\n        key: EffectParamHslColor.Cyan,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '蓝色',\n        key: EffectParamHslColor.Blue,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '紫色',\n        key: EffectParamHslColor.Purple,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    },\n    {\n        name: '洋红色',\n        key: EffectParamHslColor.Magenta,\n        min: -100,\n        cType: 'ts-slider',\n        cStyle: {\n            runwayStyle: {},\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            },\n            button: { borderColor: '#B9B8B8' }\n        },\n        realtime,\n        value: 0\n    }\n]\n\nexport default [\n    {\n        name: 'HSL分组',\n        key: 'GroupHsl',\n        cType: 'group',\n        value: 'Hue',\n        filter: true,\n        children: [\n            {\n                id: 'Hue',\n                label: '色相',\n                data: [\n                    ...formatColorParams(colorList, EffectParamEnum.EnhanceEditHSLHue, customColor)\n                ]\n            },\n            {\n                id: 'Saturation',\n                label: '饱和度',\n                data: [\n                    ...formatColorParams(colorList, EffectParamEnum.EnhanceEditHSLSaturation, customColor)\n                ]\n            },\n            {\n                id: 'Lightness',\n                label: '明亮度',\n                data: [\n                    ...formatColorParams(colorList, EffectParamEnum.EnhanceEditHSLLightness, customColor)\n                ]\n            }\n        ]\n    }\n]\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\n/*\n* 基础调整\n* */\nconst realtime = RealtimeType.AlwaysEnable\n\nexport default [\n    {\n        name: '曝光',\n        key: EffectParamEnum.EnhanceEditExposure,\n        cType: 'ts-slider',\n        min: -5,\n        max: 5,\n        step: 0.05,\n        value: 0,\n        realtime\n    },\n    {\n        name: '对比度',\n        key: EffectParamEnum.EnhanceEditContrast,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '高光',\n        key: EffectParamEnum.EnhanceEditHighlight,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '阴影',\n        key: EffectParamEnum.EnhanceEditShadow,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '白色',\n        key: EffectParamEnum.EnhanceEditWhite,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '黑色',\n        key: EffectParamEnum.EnhanceEditBlack,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        line: true,\n        realtime\n    },\n    {\n        title: '偏好',\n        name: '清晰度',\n        key: EffectParamEnum.EnhanceEditCameraRawSharpen,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '鲜艳度',\n        key: EffectParamEnum.EnhanceEditCameraRawVibrance,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    },\n    {\n        name: '饱和度',\n        key: EffectParamEnum.EnhanceEditSaturation,\n        cType: 'ts-slider',\n        min: -100,\n        value: 0,\n        realtime\n    }\n]\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\nconst realtime = RealtimeType.AlwaysEnable\n\nexport default [\n    {\n        name: '锐化',\n        key: EffectParamEnum.EnhanceEditCRDBStrength,\n        // precise: true,\n        min: 0,\n        max: 150,\n        value: 0,\n        realtime,\n        collapse: true,\n        collapseValue: true,\n        collapseDisabled: function (data: any): boolean {\n            return data[EffectParamEnum.EnhanceEditCRDBStrength] === 0\n        },\n        children: [\n            {\n                name: '半径',\n                key: EffectParamEnum.EnhanceEditCRDBRadius,\n                min: 0.5,\n                max: 3.0,\n                value: 1,\n                step: 0.1,\n                realtime\n            },\n            {\n                name: '细节',\n                key: EffectParamEnum.EnhanceEditCRDBDetail,\n                min: 0,\n                max: 100,\n                value: 25,\n                realtime\n            }\n        ]\n    }\n]\n","import { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport {\n    calcJpgWhiteBalanceCCTValue,\n    calcJpgWhiteBalanceCCTValueToNormalizedValue,\n    calcJpgWhiteBalanceTintValue,\n    calcJpgWhiteBalanceTintValueToNormalizedValue,\n    calcRawWhiteBalanceCCTValue,\n    calcRawWhiteBalanceCCTValueToNormalizedValue,\n    calcRawWhiteBalanceTintValue,\n    calcRawWhiteBalanceTintValueToNormalizedValue\n    // @ts-ignore\n} from '@/views/BatchRetouch/Palette/config/PaletteCalcUtils'\nimport { RealtimeType } from '@/constants/constants'\n\nconst realtime = RealtimeType.AlwaysEnable\n\nexport const getBaseParams = (imageType: string, baseValue: { oriWbICC: number, oriWbTint: number, loaded: boolean } = {\n    oriWbICC: 0,\n    oriWbTint: 0,\n    loaded: false\n}): any => {\n    const params = []\n    const cct = {\n        name: '色温',\n        cType: 'ts-slider',\n        key: EffectParamEnum.EnhanceEditColorTemperature,\n        value: 0.5,\n        min: 0,\n        max: 1,\n        step: 0.005,\n        realtime,\n        cStyle: {\n            runwayStyle: {\n                background: `linear-gradient(to right, #2c2b9f, #dedd6d)`\n            },\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            }\n        },\n\n        formatValue: function (value?: number) {\n            const v = value || this.value\n            if (imageType === 'raw') {\n                return baseValue.loaded ? calcRawWhiteBalanceCCTValue(v, 0.5, baseValue.oriWbICC) : '-'\n            } else {\n                return calcJpgWhiteBalanceCCTValue(v, 0.5)\n            }\n        },\n        getRealValue: function (value: number) {\n            if (imageType === 'raw') {\n                return calcRawWhiteBalanceCCTValueToNormalizedValue(value)\n            } else {\n                return calcJpgWhiteBalanceCCTValueToNormalizedValue(value)\n            }\n        }\n    }\n\n    const hue = {\n        name: '色调',\n        key: EffectParamEnum.EnhanceEditHue,\n        cType: 'ts-slider',\n        // precise: true,\n        value: 0.5,\n        min: 0,\n        max: 1,\n        step: 0.005,\n        realtime,\n        cStyle: {\n            runwayStyle: {\n                background: `linear-gradient(to right, #559e41, #863a8c)`\n            },\n            barStyle: {\n                left: { background: 'transparent' },\n                right: { background: 'transparent' }\n            }\n        },\n        formatValue: function (value?: number) {\n            const v = value || this.value\n            if (imageType === 'raw') {\n                return baseValue.loaded ? calcRawWhiteBalanceTintValue(v, 0.5, baseValue.oriWbTint) : '-'\n            } else {\n                return calcJpgWhiteBalanceTintValue(v, 0.5)\n            }\n        },\n        getRealValue: function (value: number) {\n            if (imageType === 'raw') {\n                return calcRawWhiteBalanceTintValueToNormalizedValue(value)\n            } else {\n                return calcJpgWhiteBalanceTintValueToNormalizedValue(value)\n            }\n        }\n    }\n\n    params.push(cct)\n    params.push(hue)\n\n    return params\n}\n\nexport default getBaseParams\n","import { formatPersonParamsGroup } from './utils'\nimport removeDefects from './params/remove-defects'\nimport skinParams from './params/skin'\nimport teethParams from './params/teeth'\nimport eyeParams from './params/eye'\nimport { getBackgroundEnhance } from './params/background-enhance'\nimport { getSkyParams } from './params/sky'\nimport makeupGroupFormat from './params/makeup'\nimport { typeGroupFormat } from './params/facial-refine'\nimport BodyParams from './params/body'\n\nimport hsl from './params/hsl'\nimport base from './params/base'\nimport detailBoosting from './params/detailBoosting'\nimport getBaseParams from './params/white-balance'\nimport { IPersonType } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\n\nexport const defaultOpenBeautyCollapse = ['removeDefects']  // 默认展开美化的项\n\nexport const beautyGroup = [\n    {\n        name: '祛除瑕疵',\n        key: 'removeDefects'\n    },\n    {\n        name: '皮肤调整',\n        key: 'skin'\n    },\n    {\n        name: '面部重塑',\n        key: 'facialRefine',\n        new: true\n    },\n    {\n        name: '牙齿美化',\n        key: 'teeth'\n    },\n    {\n        name: '眼睛增强',\n        key: 'eye'\n    },\n    {\n        name: '妆容调整',\n        key: 'makeup'\n    },\n    {\n        name: '全身美型',\n        key: 'body',\n        new: true,\n        tip: ['全身美型通过AI自动进行形体美化，', '在多人靠近的情况下因容易产生坏', '片目前AI会自动屏蔽效果噢~']\n    }\n]\n\nexport const defaultOpenColorCollapse = ['filter', 'whiteBalance']          // 默认展开色彩的项\n\nexport const colorGroup = [\n    {\n        name: '滤镜',\n        key: 'filter',\n        group: 'color'\n    },\n    {\n        name: '白平衡',\n        key: 'whiteBalance',\n        group: 'color'\n    },\n    {\n        name: '影调',\n        key: 'base',\n        group: 'color'\n    },\n    {\n        name: 'HSL',\n        key: 'hsl',\n        group: 'color'\n    },\n    {\n        name: '细节',\n        key: 'detailBoosting',\n        group: 'color'\n    }\n]\n\nexport const defaultOpenBackgroundCollapse = ['backgroundEnhance']          // 默认展开色彩的项\n\nexport const backgroundGroup = [\n    {\n        name: '背景调整',\n        key: 'backgroundEnhance'\n    },\n    {\n        name: '证件照换背景',\n        key: 'replace',\n        new: true\n    },\n    {\n        name: '换天空',\n        component: 'sky',\n        key: 'sky',\n        new: true\n    }\n]\n\nexport const PersonList = [\n    { type: 'Male', label: '男' },\n    { type: 'Female', label: '女' },\n    { type: 'Child', label: '儿童' },\n    { type: 'Older', label: '长辈' }\n]\n\nconst fRemoveDefects = formatPersonParamsGroup(removeDefects)\nconst fSkinParams = formatPersonParamsGroup(skinParams)\nconst fTeethParams = formatPersonParamsGroup(teethParams)\nconst fEyeParams = formatPersonParamsGroup(eyeParams)\nexport const getDefaultParams = (type: string) => {\n    switch (type) {\n        case 'hsl':\n            return [...hsl]\n        case 'detailBoosting':\n            return [...detailBoosting]\n        case 'base':\n            return [...base]\n    }\n}\n\n\nexport const getPersonParams = (type: string, personType: IPersonType = 'Male', data: any) => {\n    switch (type) {\n        case 'removeDefects':\n            return fRemoveDefects[personType]\n        case 'skin':\n            return fSkinParams[personType]\n        case 'teeth':\n            return fTeethParams[personType]\n        case 'eye':\n            return fEyeParams[personType]\n        case 'facialRefine':\n            return typeGroupFormat(personType, data)\n        case 'body':\n            const instance = new BodyParams(personType)\n            return instance.getParamsData((data && data.poseRefineInfos && data.poseRefineInfos.length > 0)\n                ? new Map(data.poseRefineInfos || [])\n                : null)\n        case 'makeup':\n            return makeupGroupFormat(personType)\n    }\n}\n\n/**\n * 生成指定组件参数\n */\nexport class GenerateCompParams {\n    personType: IPersonType\n\n    constructor(personType: IPersonType) {\n        this.personType = personType\n    }\n\n    getSkinParams(): any {\n        return fSkinParams[this.personType]\n    }\n}\n/**\n * 获取指定组件所需的参数配置\n * @param type\n * @param options\n * @returns {any}\n */\nexport const getFormComponents = (type: string, options: any) => {\n    if (['removeDefects', 'skin', 'teeth', 'eye', 'body', 'makeup'].includes(type)) {\n        return getPersonParams(type, options.personType, options.extendInfo)\n    } else if (['whiteBalance'].includes(type)) {\n        return getBaseParams(options.imageType, options.baseValue || { oriWbICC: 0, oriWbTint: 0, loaded: false })\n    } else if (['backgroundEnhance'].includes(type)) {\n        if (options && typeof options.bgCleanModeDefault === 'number') {\n            return getBackgroundEnhance(options.bgCleanModeDefault, options.bgCleanMooreModeDefault)\n        }\n        return getBackgroundEnhance(-1, -1)\n    } else if (['facialRefine'].includes(type)) {\n        return getPersonParams(type, options.personType, options.symmetryStatusJson)\n    }else if(['sky'].includes(type)){\n        return getSkyParams(options.skyExtendInfo)\n    } else {\n        return getDefaultParams(type)\n    }\n}\n\nexport default {\n    // base,\n    // hsl,\n    // skin,\n    // teeth,\n    // 'facial-refine': facialRefine,\n    // 'eye-enhance': eyeEnhance,\n    // 'background-enhance': backgroundEnhance\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-collapse',{staticClass:\"parameter-configuration-collapse\",class:['global__scroll-style'],style:({height:`${_vm.paramsColsHeight}`}),attrs:{\"value\":_vm.activeName},on:{\"change\":function($event){_vm.activeName = $event}}},[_vm._l((_vm.intelligentComponents),function(item){return [_c('custom-collapse-item',{key:item.key,ref:\"customCollapseItemRef\",refInFor:true,attrs:{\"show-label-percent\":\"\",\"type\":item.key,\"data\":{ ...item },\"active\":_vm.activeName.includes(item.key),\"initParams\":item.group === 'color' ? _vm.oriPaletteParams : _vm.oriBeautifyParams},on:{\"user-behavior\":function($event){return _vm.$emit('user-behavior', $event)},\"on-change\":(cParams, opt, ext) => item.group === 'color'\n                    ? _vm.$emit('on-change-color', cParams, opt, ext)\n                    : _vm.$emit('on-change', cParams, opt, ext),\"on-input\":(cParams, opt) => item.group === 'color'\n                    ? _vm.$emit('on-input-color', cParams, opt)\n                    : _vm.$emit('on-input', cParams, opt),\"on-reset\":function($event){return _vm.$emit('on-reset', $event)},\"on-modify\":function($event){return _vm.onModify($event, item.key)}},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.preventDefault();}}},[(item.key === 'removeDefects')?_c('template',{slot:\"title-right\"},[_vm._t(\"painter\")],2):_vm._e(),(item.key === 'replace')?_c('template',{slot:\"title-right\"},[_vm._t(\"import\",null,{\"data\":item})],2):_vm._e()],2)]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-collapse-item',{ref:\"customCollapseItemRef\",staticClass:\"custom-collapse-item\",attrs:{\"name\":_vm.type}},[_c('div',{staticClass:\"params-adjust-group-item-title\",attrs:{\"slot\":\"title\"},on:{\"click\":function($event){return _vm.$emit('focus')}},slot:\"title\"},[_c('div',{staticClass:\"title-span\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.data.name)+\" \"),(_vm.data.nameDesc)?_c('span',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.data.nameDesc)+\" \")]):_vm._e()]),(_vm.data.tip)?[_c('el-tooltip',{attrs:{\"content\":\"\",\"placement\":\"top\"}},[_c('i',{staticClass:\"ts-icon ts-icon-question-outside\"}),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[(typeof _vm.data.tip === 'string')?[_vm._v(\" \"+_vm._s(_vm.data.tip)+\" \")]:_vm._l((_vm.data.tip),function(t,i){return _c('p',{key:i},[_vm._v(_vm._s(t))])})],2)])]:_vm._e(),(_vm.data.new)?[_c('i',{staticClass:\"ts-icon-new\"})]:_vm._e()],2),_c('div',{staticClass:\"title-span\"},[(_vm.isModify)?_c('i',{staticClass:\"el-icon-refresh-right reset-btn-icon\",on:{\"click\":function($event){$event.stopPropagation();[_vm.reset('manual'), _vm.$emit('focus')]}}}):_vm._e(),_vm._t(\"title-right\")],2)]),_c('ComponentCollection',{ref:\"componentCollectionRef\",staticClass:\"params-adjust-group-component c-text-label\",staticStyle:{\"margin\":\"4px 16px\"},attrs:{\"parent-tab-name\":_vm.data.name,\"type\":_vm.type,\"disabled\":_vm.disabled || _vm.isSkyDisabled,\"data\":_vm.formComponents,\"single-reset-function\":_vm.singleSingleFunction},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"on-input\":_vm.onInput,\"on-change\":_vm.onChange,\"on-keys\":function($event){_vm.paramsKeys = $event},\"user-behavior\":function($event){return _vm.$emit('user-behavior', $event)},\"on-change-single\":(key, value) => _vm.$emit('on-change-single', key, value)},scopedSlots:_vm._u([{key:\"filter\",fn:function(){return [_c('filter-component',{ref:\"filterRef\",attrs:{\"name\":\"filter\",\"initParams\":_vm.initParams},on:{\"on-focus\":_vm.onFocus,\"on-blur\":_vm.onBlur,\"on-modify\":function($event){_vm.filterIsModify = $event},\"on-selection\":function($event){return _vm.$emit('point-filter', _vm.data)},\"on-input\":_vm.onSlotInput,\"on-change\":(params, cParams, opt, ext) => _vm.$emit('on-change', cParams, opt, ext)}})]},proxy:true},{key:\"idPhoto\",fn:function(){return [_c('id-photo',{ref:\"idPhoto\",attrs:{\"init-params\":_vm.initParams},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"on-modify\":function($event){_vm.bgIsModify = $event},\"on-change\":(params, cParams, opt, ext) => _vm.$emit('on-change', cParams, opt, ext)}})]},proxy:true},{key:\"idPhotoSky\",fn:function(){return [_c('id-photo-sky',{ref:\"idPhotoSky\",attrs:{\"init-params\":_vm.initParams,\"have-sky\":_vm.isSkySelectEnable},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"on-modify\":function($event){_vm.skyIsModify = $event},\"on-change\":(params, cParams, opt, ext) => _vm.$emit('on-change', cParams, opt, ext)}})]},proxy:true},{key:\"makeupSuit\",fn:function({ data }){return [_c('SuitParamsGroup',{ref:\"suitParamsGroup\",attrs:{\"data\":data,\"init-params\":_vm.initParams},on:{\"on-modify\":function($event){_vm.makeupSuitModify = $event},\"on-focus\":_vm.onFocus,\"on-blur\":_vm.onBlur,\"on-input\":_vm.onSlotInput,\"on-change\":(params, cParams, opt, ext) => _vm.$emit('on-change', cParams, opt, ext)}})]}}]),model:{value:(_vm.allParamValues),callback:function ($$v) {_vm.allParamValues=$$v},expression:\"allParamValues\"}}),(_vm.data.label)?_c('p',{staticClass:\"params-adjust-group-item-label\"},[_vm._v(_vm._s(_vm.data.label))]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"component-collection\"},[_vm._l((_vm.data),function(item,index){return [(!['slot', 'group'].includes(item.cType))?_c('ts-item-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVisible(item)),expression:\"isVisible(item)\"}],key:`${item.key}-${index}`,attrs:{\"data\":item,\"line\":!!item.line,\"disabled\":_vm.disabled || item.disabled,\"hidden-label\":['checkbox'].includes(item.cType) || !!item.hiddenName,\"size\":['switch', 'checkbox'].includes(item.cType)\n                ? 'small'\n                : item.cType === 'ts-slider-group' ? 'auto' : 'default'},on:{\"on-click-label\":function($event){return _vm.emitResetSingle(item, 'label')}}},[(item.cType === 'switch')?[_c('el-switch',{staticClass:\"custom-switch-style\",attrs:{\"inactive-value\":0,\"active-value\":1,\"disabled\":_vm.disabled || item.disabled},on:{\"change\":function($event){return _vm.onChange({ [item.key]: $event }, 'manual')}},model:{value:(_vm.allRecordObject[item.key]),callback:function ($$v) {_vm.$set(_vm.allRecordObject, item.key, $$v)},expression:\"allRecordObject[item.key]\"}})]:_vm._e(),(item.cType === 'checkbox')?[_c('el-checkbox',{staticClass:\"custom-checkbox-style\",attrs:{\"size\":\"mini\",\"disabled\":_vm.disabled || item.disabled,\"true-label\":item.trueLabel || true,\"false-label\":item.falseLabel || false},on:{\"change\":function($event){return _vm.onChange({ [item.key]: $event }, 'manual')}},model:{value:(_vm.allRecordObject[item.key]),callback:function ($$v) {_vm.$set(_vm.allRecordObject, item.key, $$v)},expression:\"allRecordObject[item.key]\"}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])]:_vm._e(),(!item.cType || item.cType === 'ts-slider')?[_c('ts-number-placeholder',{staticClass:\"label-value\",attrs:{\"min\":item.min || 0,\"max\":item.max || 100,\"step\":item.step || 1,\"disabled\":_vm.disabled || item.disabled,\"format-value\":item.formatValue,\"format-result\":item.getRealValue},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":function($event){[\n                        _vm.onChange({ [item.key]: $event }, 'manual'),\n                        _vm.$emit('user-behavior', 'input-modify')\n                    ]}},model:{value:(_vm.allRecordObject[item.key]),callback:function ($$v) {_vm.$set(_vm.allRecordObject, item.key, $$v)},expression:\"allRecordObject[item.key]\"}}),_c('ts-slider',{staticClass:\"custom-slider-style\",attrs:{\"slot\":\"bottom\",\"input-size\":\"mini\",\"show-tooltip\":false,\"show-input-controls\":false,\"min\":item.min || 0,\"max\":item.max || 100,\"cStyle\":item.cStyle,\"disabled\":_vm.disabled || item.disabled,\"step\":item.step || 1},on:{\"change\":function($event){return _vm.onChange({ [item.key]: $event })},\"input\":function($event){return _vm.onInput({ [item.key]: $event })},\"ondblclick\":function($event){return _vm.emitResetSingle(item, 'slider')}},nativeOn:{\"keydown\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();}},slot:\"bottom\",model:{value:(_vm.allRecordObject[item.key]),callback:function ($$v) {_vm.$set(_vm.allRecordObject, item.key, $$v)},expression:\"allRecordObject[item.key]\"}})]:(item.cType === 'ts-slider-group')?[_c('ts-slider-group',{ref:\"ts-slider-group\",refInFor:true,attrs:{\"slot\":\"bottom\",\"input-size\":\"mini\",\"c-title\":item.cTitle,\"options\":item.options,\"disabled\":_vm.disabled || item.disabled,\"value\":[_vm.allRecordObject[item.keys[0]], _vm.allRecordObject[item.keys[1]]]},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"input\":(valueArr) => {\n                        _vm.allRecordObject[item.keys[0]] = valueArr[0]\n                        _vm.allRecordObject[item.keys[1]] = valueArr[1]\n                        _vm.onInput({\n                            [item.keys[0]]: valueArr[0],\n                            [item.keys[1]]: valueArr[1]\n                        })\n                    },\"change\":(valueArr, indexArr) => _vm.onSliderGroupChange(valueArr, indexArr, item.keys),\"reset-single\":function($event){return _vm.emitResetSingle($event, 'slider')}},slot:\"bottom\"})]:(item.cType === 'select')?[_c('el-select',{staticClass:\"ts-select\",attrs:{\"slot\":\"bottom\",\"size\":\"mini\",\"popper-class\":\"component-collection\",\"disabled\":_vm.disabled || item.disabled,\"placeholder\":item.placeholder},on:{\"change\":function($event){return _vm.onChange({ [item.key]: $event }, 'manual')}},slot:\"bottom\",model:{value:(_vm.allRecordObject[item.key]),callback:function ($$v) {_vm.$set(_vm.allRecordObject, item.key, $$v)},expression:\"allRecordObject[item.key]\"}},[(item.loading && item.loadingText)?[_c('el-option',{attrs:{\"label\":item.loadingText,\"value\":_vm.allRecordObject[item.key]}})]:_vm._l((item.options),function(item){return [_c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.label || item.name)+\" \")])]})],2)]:_vm._e(),(item.collapse && item.children && item.children.length > 0)?[_c('span',{staticClass:\"collapse-icon\",on:{\"click\":function($event){_vm.collapseObj[item.key] = !_vm.collapseObj[item.key]}}},[_c('i',{staticClass:\"ts-icon\",class:_vm.collapseObj[item.key] ? 'ts-icon-caret-bottom' : 'ts-icon-caret-right'})])]:_vm._e()],2):_vm._e(),(item.cType === 'slot')?[_vm._t(item.slotName,null,{\"data\":item})]:_vm._e(),(item.cType === 'group')?[_c('div',{key:`group_${item.key}`,staticClass:\"group-button-container\"},[_c('el-radio-group',{staticStyle:{\"white-space\":\"nowrap\",\"align-self\":\"center\"},attrs:{\"size\":\"mini\"},on:{\"change\":function($event){return _vm.onFilterObjectChange({ [item.key]: $event })}},model:{value:(_vm.filterObject[item.key]),callback:function ($$v) {_vm.$set(_vm.filterObject, item.key, $$v)},expression:\"filterObject[item.key]\"}},_vm._l((item.children),function(child,j){return _c('el-radio-button',{key:`el-radio-button_${j}`,style:(child.cStyle),attrs:{\"label\":child.id}},[_c('span',{style:(item.customBtnTextStyle || {})},[_vm._v(_vm._s(child.label))])])}),1),(item.tip)?[_c('el-tooltip',{attrs:{\"content\":\"\",\"placement\":\"right\",\"effect\":\"dark\"}},[_c('i',{staticClass:\"ts-icon ts-icon-question-outside\"}),_c('div',{style:(item.tipStyle || ''),attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((item.tip),function(t,i){return _c('p',{key:i},[_vm._v(_vm._s(t))])}),0)])]:_vm._e()],2)]:_vm._e(),(item.children && item.children.length > 0)?[_vm._l((item.children),function(child){return [(child.data && child.data.length > 0)?_c('ComponentCollection',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterObject[item.key] === child.id),expression:\"filterObject[item.key] === child.id\"}],key:`component-collection_group-${child.id}`,ref:\"params-adjust-group\",refInFor:true,attrs:{\"data\":child.data,\"disabled\":_vm.disabled,\"child-data\":child,\"item-type\":item.cType,\"single-reset-function\":_vm.singleResetFunction},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"on-input\":(obj) => _vm.onInput(obj),\"on-change\":(obj, operation) => _vm.onChange(obj, operation),\"user-behavior\":function($event){return _vm.$emit('user-behavior', $event)}},model:{value:(_vm.allRecordObject),callback:function ($$v) {_vm.allRecordObject=$$v},expression:\"allRecordObject\"}}):_vm._e()]})]:_vm._e(),(item.collapse && item.children && item.children)?[_c('ComponentCollection',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.collapseObj[item.key]),expression:\"collapseObj[item.key]\"}],key:`component-collection_${item.key}`,ref:\"component-collection\",refInFor:true,attrs:{\"data\":item.children,\"disabled\":_vm.disabled ||\n                    (item.hasOwnProperty('collapseDisabled') && typeof item.collapseDisabled === 'function')\n                    ? item.collapseDisabled(_vm.allRecordObject)\n                    : false,\"child-data\":item.children,\"item-type\":item.cType,\"single-reset-function\":_vm.singleResetFunction},on:{\"on-blur\":_vm.onBlur,\"on-focus\":_vm.onFocus,\"on-input\":(obj) => _vm.onInput(obj),\"on-change\":(obj, operation) => _vm.onChange(obj, operation),\"user-behavior\":function($event){return _vm.$emit('user-behavior', $event)}},model:{value:(_vm.allRecordObject),callback:function ($$v) {_vm.allRecordObject=$$v},expression:\"allRecordObject\"}})]:_vm._e()]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IData, IObject } from '../types/types'\n\nexport default class BaseItem {\n    key: string\n    value: number\n    defaultValue: number\n    cType: string\n    filter: boolean = false\n    collapse: boolean\n    collapseValue: boolean\n    max:number = -1\n\n    constructor(data: IData) {\n        this.key = data.key\n        this.value = data.value\n        this.cType = data.cType\n        this.defaultValue = data.defaultValue || data.value\n\n        this.collapse = !!data.collapse\n        this.collapseValue = !!data.collapseValue\n        if (typeof data.max !== 'undefined') {\n            this.max = data.max!\n        }\n        if (typeof data.filter !== 'undefined') {\n            this.filter = data.filter\n        }\n    }\n\n    update(value: number): boolean {\n        // 增加判断防止值越界\n        if (this.max >0 && value > this.max){\n            value = this.max\n        }\n        if (value === this.value) {\n            return false\n        }\n        this.value = value\n        return true\n    }\n\n    toObject(): IObject {\n        return {\n            [this.key]: this.value\n        }\n    }\n\n    toJson (): IData {\n        return {\n            key: this.key,\n            cType: this.cType,\n            value: this.value,\n            defaultValue: this.defaultValue\n        }\n    }\n}\n","import { IData, IObject } from '../types/types'\nimport BaseItem from '@/components/ComponentCollection/model/BaseItem'\n\nexport default class DataCollection {\n    _collection: BaseItem[]\n    _collectionMap: Map<string, BaseItem> = new Map()\n\n    constructor(data: any[], currObject?: IObject) {\n        const res = DataCollection.init(data, currObject)\n        this._collection = res[0]\n        this._collectionMap = res[1]\n    }\n\n    static init(data: any[], currObject?: IObject): [BaseItem[], Map<string, BaseItem>] {\n        const collection: BaseItem[] = []\n        const map: Map<string, BaseItem> = new Map()\n\n        data.forEach(item => {\n            if (item.cType === 'slot') {\n                return\n            }\n\n            if (item.cType === 'group' && item.children && item.children.length > 0) {\n                item.children.forEach((child: any) => {\n                    if (child.data && child.data.length > 0) {\n                        const childRes = DataCollection.init(child.data, currObject)\n                        for (const [key, model] of childRes[1]) {\n                            map.set(key, model)\n                        }\n                    }\n                })\n            }\n\n            if (item.collapse && item.children && item.children.length > 0) {\n                const childRes = DataCollection.init(item.children, currObject)\n                for (const [key, model] of childRes[1]) {\n                    map.set(key, model)\n                }\n            }\n\n            if (item.cType === 'ts-slider-group') {\n                item.options.forEach((child: IData, i: number) => {\n                    const key = item.keys[i]\n                    if (!key) {\n                        console.warn('[ts-slider-group] option need keys')\n                        return\n                    }\n\n                    const config = { ...child, key, cType: item.cType }\n\n                    const model = new BaseItem(config)\n                    // 更新当前已存在的数值\n                    const currValue = currObject && currObject[key]\n                    if (typeof currValue !== 'undefined') {\n                        model.update(currValue)\n                    }\n\n                    collection.push(model)\n                    map.set(key, model)\n                })\n            } else {\n                const model = new BaseItem(item)\n\n                // 更新当前已存在的数值\n                const currValue = currObject && currObject[item.key]\n                if (typeof currValue !== 'undefined') {\n                    model.update(currValue)\n                }\n\n                collection.push(model)\n                map.set(item.key, model)\n            }\n        })\n\n        return [collection, map]\n    }\n\n    toObject(): IObject {\n        const obj: IObject = {}\n\n        for (const [, model] of this._collectionMap) {\n            if (!model.filter) {\n                const temp = model.toObject()\n                Object.assign(obj, temp)\n            }\n        }\n\n        return obj\n    }\n\n    toFilterObject(): IObject {\n        const obj: IObject = {}\n\n        for (const [, model] of this._collectionMap) {\n            if (model.filter) {\n                const temp = model.toObject()\n                Object.assign(obj, temp)\n            }\n        }\n\n        return obj\n    }\n\n    toCollapseObject(): IObject<boolean> {\n        const obj: IObject<boolean> = {}\n\n        for (const [, model] of this._collectionMap) {\n            if (model.collapse) {\n                obj[model.key] = model.collapseValue\n            }\n        }\n\n        return obj\n    }\n\n    updateByObject(data: IObject): IObject {\n        let obj = {}\n        for (const dataKey in data) {\n            if (this._collectionMap.has(dataKey)) {\n                const model = this._collectionMap.get(dataKey)\n                const isUpdate = model?.update(data[dataKey])\n                if (isUpdate) {\n                    Object.assign(obj, model?.toObject())\n                }\n            }\n        }\n        return obj\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ts-item-card\"},[(_vm.data.title)?[_c('div',{staticClass:\"ts-item-card-title\"},[_vm._v(_vm._s(_vm.title || _vm.data.title)+\" \"),(_vm.data.titleTip)?[_c('el-tooltip',{attrs:{\"content\":\"\",\"placement\":\"top\"}},[_c('i',{staticClass:\"ts-icon ts-icon-question-outside icon-title-tip\"}),_c('div',{style:(_vm.data.tipStyle || ''),attrs:{\"slot\":\"content\"},slot:\"content\"},[(typeof _vm.data.titleTip === 'string')?[_vm._v(\" \"+_vm._s(_vm.data.titleTip)+\" \")]:_vm._l((_vm.data.titleTip),function(t,i){return _c('p',{key:i},[_vm._v(_vm._s(t))])})],2)])]:_vm._e()],2)]:_vm._e(),_c('div',{staticClass:\"ts-item-card-content\",class:{ 'disabled': _vm.disabled, [_vm.size]: true, 'show-line': _vm.line }},[_c('div',{staticClass:\"ts-item-card-item\"},[_c('div',{staticClass:\"ts-left\"},[(!_vm.hiddenLabel)?[_c('span',{on:{\"dblclick\":function($event){return _vm.$emit('on-click-label')}}},[_vm._v(_vm._s(_vm.name || _vm.data.name))])]:_vm._e(),(_vm.data.tip)?[_c('el-tooltip',{attrs:{\"content\":\"\",\"placement\":\"top\"}},[_c('i',{staticClass:\"ts-icon ts-icon-question-outside\"}),_c('div',{style:(_vm.data.tipStyle || ''),attrs:{\"slot\":\"content\"},slot:\"content\"},[(typeof _vm.data.tip === 'string')?[_vm._v(\" \"+_vm._s(_vm.data.tip)+\" \")]:_vm._l((_vm.data.tip),function(t,i){return _c('p',{key:i},[_vm._v(_vm._s(t))])})],2)])]:_vm._e(),(_vm.precise || _vm.data.precise)?[_c('span',{staticClass:\"badge precise\"},[_vm._v(\"专业版限免\")])]:_vm._e(),(_vm.beta || _vm.data.beta)?[_c('span',{staticClass:\"tip-box\"},[_vm._v(\"beta\")])]:_vm._e(),(_vm.newIcon || _vm.data.new)?[_c('i',{staticClass:\"ts-icon-new\"})]:_vm._e()],2),_c('div',{staticClass:\"ts-right\"},[_vm._t(\"default\")],2)]),_c('div',{staticClass:\"bottom\"},[_vm._t(\"bottom\")],2)]),(_vm.line)?_c('el-divider',{staticClass:\"divider\"}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { IObject } from '../types/types'\nimport { Divider, Tooltip } from 'element-ui'\n\nexport default {\n    components: {\n        'el-divider': Divider,\n        'el-tooltip': Tooltip\n    },\n    props: {\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        line: {\n            type: Boolean,\n            default: false\n        },\n        hiddenLabel: {\n            type: Boolean,\n            default: false\n        },\n        data: {\n            type: Object,\n            default: (): IObject => ({})\n        },\n        title: {\n            type: String,\n            default: ''\n        },\n        name: {\n            type: String,\n            default: ''\n        },\n        precise: {\n            type: Boolean,\n            default: false\n        },\n        beta: {\n            type: Boolean,\n            default: false\n        },\n        newIcon: {\n            type: Boolean,\n            default: false\n        },\n        value: {\n            type: Number,\n            default: 0\n        },\n        size: {\n            type: String,\n            default: 'default'\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsItemCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsItemCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TsItemCard.vue?vue&type=template&id=7cbfe321&scoped=true&\"\nimport script from \"./TsItemCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./TsItemCard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TsItemCard.vue?vue&type=style&index=0&id=7cbfe321&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cbfe321\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ts-slider-group-container\",class:{ 'no-title': !_vm.cTitle }},[(_vm.cTitle)?_c('div',{staticClass:\"ts-slider-group-container-title\"},[_vm._v(_vm._s(_vm.cTitle))]):_vm._e(),_c('div',{staticClass:\"ts-slider-group-container-label\"},_vm._l((_vm.options),function(option,i){return _c('span',{key:i,staticClass:\"db-label-item\"},[_c('span',{staticClass:\"label\"},[_c('span',{on:{\"dblclick\":function($event){return _vm.onDoubleClick(option.value, i, 'label')}}},[_vm._v(_vm._s(option.name)+\" \")])]),_c('ts-number-placeholder',{staticClass:\"label-value\",attrs:{\"min\":option.min || 0,\"max\":option.max || 100,\"step\":option.step || _vm.step,\"disabled\":_vm.disabled || option.disabled},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":function($event){return _vm.onSlider($event, i)}},model:{value:(_vm.tempObj[i]),callback:function ($$v) {_vm.$set(_vm.tempObj, i, $$v)},expression:\"tempObj[i]\"}})],1)}),0),_c('div',{staticClass:\"ts-slider-group-container-slider\"},[_vm._l((_vm.options),function(item,i){return [_c('ts-slider',{key:i,staticClass:\"ts-slider-group-item slider\",attrs:{\"min\":item.min || 0,\"max\":item.max || 100,\"step\":item.step || _vm.step,\"show-input-controls\":item.showInputControls || _vm.showInputControls,\"show-tooltip\":item.showTooltip || _vm.showTooltip,\"show-input\":item.showInput ||_vm.showInput,\"input-size\":item.inputSize || _vm.inputSize,\"show-stops\":item.showStops || _vm.showStops,\"format-tooltip\":item.formatTooltip || _vm.formatTooltip,\"disabled\":item.disabled || _vm.disabled,\"range\":item.range || _vm.range,\"vertical\":item.vertical || _vm.vertical,\"height\":item.height || _vm.height,\"debounce\":item.debounce || _vm.debounce,\"label\":item.label || _vm.label,\"tooltipClass\":item.tooltipClass || _vm.tooltipClass,\"marks\":item.marks || _vm.marks,\"c-style\":item.cStyle || _vm.cStyle},on:{\"change\":function($event){return _vm.onSlider($event, i)},\"ondblclick\":function($event){return _vm.onDoubleClick(item.value, i, 'slider')},\"input\":function($event){return _vm.onSlider($event, i, 'input')}},nativeOn:{\"keydown\":[function($event){if(!$event.metaKey)return null;return _vm.preventDefault.apply(null, arguments)},function($event){if(!$event.ctrlKey)return null;return _vm.preventDefault.apply(null, arguments)},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();}]},model:{value:(_vm.tempObj[i]),callback:function ($$v) {_vm.$set(_vm.tempObj, i, $$v)},expression:\"tempObj[i]\"}}),(i !== _vm.options.length - 1)?[_c('ts-slider-group-lock-icon',{key:item.key,ref:\"lock\",refInFor:true,attrs:{\"isLock\":_vm.isLock,\"index\":i},on:{\"update:isLock\":function($event){_vm.isLock=$event},\"update:is-lock\":function($event){_vm.isLock=$event},\"click\":_vm.onLockClick}})]:_vm._e()]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ts-slider-group-lock-icon\",class:{ locked: _vm.isLock },on:{\"click\":_vm.switchLockState}},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.lockIconUrl,\"alt\":\"\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"ts-slider-group-lock-icon\" :class=\"{ locked: isLock }\" @click=\"switchLockState\">\n      <img class=\"img\" :src=\"lockIconUrl\" alt=\"\">\n    </div>\n\n</template>\n<script>\nexport default {\n    props: {\n        isLock: {\n            type: Boolean,\n            default: false\n        },\n        index: {\n            type: Number,\n            default: 0\n        }\n    },\n    data() {\n        return {\n            lockIconUrl: this.getLockIconUrl(this.isLock)\n        }\n    },\n    methods: {\n        switchLockState() {\n            this.$emit('update:isLock', !this.isLock)\n            this.$emit('click', !this.isLock)\n        },\n        getLockIconUrl(lockState) {\n            return lockState ? this.$getIconPath('toolbar_icon_link_turn_on@3x.png') : this.$getIconPath('toolbar_icon_link_shut_down@3x.png')\n        }\n    },\n    watch: {\n        isLock(val) {\n            this.lockIconUrl = this.getLockIconUrl(val)\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n.ts-slider-group-lock-icon {\n    width: 8px;\n    height: 14px;\n    line-height: 14px;\n    margin: 0 11px;\n    padding: 4px;\n    cursor: pointer;\n    background-size: 100%;\n    background: transparent;\n    border: 1px solid transparent;\n    border-radius: 2px;\n\n    &.locked {\n        background: #3b3b3b;\n        border: 1px solid #333333;\n    }\n\n    .img {\n        object-fit: cover;\n        width: 100%;\n        height: 100%;\n    }\n\n}\n\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-slider-group-lock-icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-slider-group-lock-icon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ts-slider-group-lock-icon.vue?vue&type=template&id=6042517e&scoped=true&\"\nimport script from \"./ts-slider-group-lock-icon.vue?vue&type=script&lang=js&\"\nexport * from \"./ts-slider-group-lock-icon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ts-slider-group-lock-icon.vue?vue&type=style&index=0&id=6042517e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6042517e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.isClicked)?_c('span',{staticClass:\"ts-number-placeholder\",class:{ 'disabled': _vm.disabled },on:{\"click\":function($event){return _vm.onLabelClick($event)}}},[_vm._v(\" \"+_vm._s(_vm.showValue)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isShow)?_c('div',{staticClass:\"ts_inner_wrapper\"},[((_vm.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.parmaChangeInputValue),expression:\"parmaChangeInputValue\"}],ref:\"tsInnerInput\",staticClass:\"ts_inner_input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.parmaChangeInputValue)?_vm._i(_vm.parmaChangeInputValue,null)>-1:(_vm.parmaChangeInputValue)},on:{\"blur\":_vm.onChange,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.stopPropagation();return _vm.onChange.apply(null, arguments)},\"input\":_vm.onCheckNumberValue,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==38)return null;$event.preventDefault();$event.stopPropagation();return _vm.onUp.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==40)return null;$event.stopPropagation();return _vm.onDown.apply(null, arguments)}],\"focus\":_vm.onFocus,\"change\":function($event){var $$a=_vm.parmaChangeInputValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.parmaChangeInputValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.parmaChangeInputValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.parmaChangeInputValue=$$c}}}}):((_vm.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.parmaChangeInputValue),expression:\"parmaChangeInputValue\"}],ref:\"tsInnerInput\",staticClass:\"ts_inner_input\",attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.parmaChangeInputValue,null)},on:{\"blur\":_vm.onChange,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.stopPropagation();return _vm.onChange.apply(null, arguments)},\"input\":_vm.onCheckNumberValue,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==38)return null;$event.preventDefault();$event.stopPropagation();return _vm.onUp.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==40)return null;$event.stopPropagation();return _vm.onDown.apply(null, arguments)}],\"focus\":_vm.onFocus,\"change\":function($event){_vm.parmaChangeInputValue=null}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.parmaChangeInputValue),expression:\"parmaChangeInputValue\"}],ref:\"tsInnerInput\",staticClass:\"ts_inner_input\",attrs:{\"type\":_vm.type},domProps:{\"value\":(_vm.parmaChangeInputValue)},on:{\"blur\":_vm.onChange,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.stopPropagation();return _vm.onChange.apply(null, arguments)},\"input\":[function($event){if($event.target.composing)return;_vm.parmaChangeInputValue=$event.target.value},_vm.onCheckNumberValue],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==38)return null;$event.preventDefault();$event.stopPropagation();return _vm.onUp.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==40)return null;$event.stopPropagation();return _vm.onDown.apply(null, arguments)}],\"focus\":_vm.onFocus}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"ts_inner_wrapper\"\n         v-if=\"isShow\"\n    >\n        <input\n            :type=\"type\"\n            ref=\"tsInnerInput\"\n            class=\"ts_inner_input\"\n            v-model=\"parmaChangeInputValue\"\n            @blur=\"onChange\"\n            @keypress.enter.stop=\"onChange\"\n            @input=\"onCheckNumberValue\"\n            @keydown.38.prevent.stop=\"onUp\"\n            @keydown.40.stop=\"onDown\"\n            @focus=\"onFocus\"\n        >\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'TsInput',\n    props: {\n        type: {\n            type: String,\n            default: 'text'\n        },\n        mountedCallback: {\n            type: Function,\n            default() {\n                return () => {\n                }\n            }\n        },\n        changeCallback: {\n            type: Function,\n            default() {\n                return () => {\n                }\n            }\n        },\n        destroyCallback: {\n            default() {\n                return () => {\n                }\n            }\n        },\n        value: {\n            type: Number,\n            default: 0\n        },\n        autofocus: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            parmaChangeInputValue: this.value,\n            isShow: true,\n            flat: false,\n            tsInputDom: null\n        }\n    },\n    methods: {\n        init() {\n            this.$nextTick(() => {\n                // 手动聚焦\n                this.tsInputDom = this.$refs.tsInnerInput\n                this.autofocus && this.tsInputDom.focus()\n            })\n            this.mountedCallback()\n        },\n        onCheckNumberValue() {//只支持数字、正负数、小数点\n            let val = this.parmaChangeInputValue\n            let t = val.charAt(0)\n            val = val.replace('.', '$#$')//把第一个字符'.'替换成'$#$'\n                .replace(/\\./g, '')//把其余的字符'.'替换为空\n                .replace('$#$', '.')//把字符'$#$'替换回原来的'.'\n                .replace(/[^\\d.]/g, '')//只能输入数字和'.'\n                .replace(/^\\./g, '')//不能以'.'开头\n                .replace(/([0-9]+\\.[0-9]{2})[0-9]*/, '$1')//只保留2位小数\n            if (t == '-') {\n                val = '-' + val\n            }\n            this.parmaChangeInputValue = val\n        },\n        onChange() {\n            if (!this.flat) {\n                this.flat = true\n                this.changeCallback(this.parmaChangeInputValue)\n            }\n        },\n        onFocus(e) {\n            e.currentTarget.select()\n        },\n        destroy() {\n            this.destroyCallback && this.destroyCallback()\n            this.isShow = false\n        },\n        onUp() {\n            const formatValue = Number(this.parmaChangeInputValue)\n            if (isNaN(formatValue)) return\n            this.parmaChangeInputValue++\n        },\n        onDown() {\n            const formatValue = Number(this.parmaChangeInputValue)\n            if (isNaN(formatValue)) return\n            this.parmaChangeInputValue--\n        },\n        update(val) {\n            if (val === this.parmaChangeInputValue) return\n            this.parmaChangeInputValue = val\n        }\n\n    },\n    mounted() {\n        this.init()\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts_inner_wrapper {\n    box-sizing: border-box;\n    position: relative;\n    width: 32px;\n    max-height: 21px;\n    height: 100%;\n    border-radius: 4px;\n    margin-top: -2px;\n    margin-right: -2px;\n    padding: 0 2px;\n\n    &::before {\n        content: \"\";\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        right: 0px;\n        left: 0px;\n        border-radius: 4px;\n        background: #2D6B96;\n        animation: borderShrinkage 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    &::after {\n        content: \"\";\n        position: absolute;\n        top: 2px;\n        bottom: 2px;\n        right: 2px;\n        left: 2px;\n        border-radius: 2px;\n        background-color: rgb(23, 23, 23);\n        animation: contentShrinkage 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\n    }\n\n    .ts_inner_input {\n        position: relative;\n        z-index: 99;\n        width: 100%;\n        height: 100%;\n        text-align: right;\n        fill: #3E638B;\n        background-color: transparent;\n        color: #a6a6a6;\n        font-size: 12px;\n\n        &:focus {\n            outline: none;\n        }\n\n    }\n\n}\n\n@keyframes borderShrinkage {\n    from {\n        transform: scale(1.2);\n        opacity: 0;\n    }\n    to {\n        transform: scale(1);\n        opacity: 1;\n    }\n}\n\n@keyframes contentShrinkage {\n    from {\n        transform: scale(1.2);\n    }\n    to {\n        transform: scale(1);\n    }\n}\n\n\ninput::-webkit-input-placeholder {\n    /* WebKit browsers */\n    font-size: 12px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=61e7d3d1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=61e7d3d1&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61e7d3d1\",\n  null\n  \n)\n\nexport default component.exports","import TsInput from './index.vue'\nimport Vue from 'vue'\n\ninterface TsInputOptions {\n    mountedCallback: () => {},\n    changeCallback: () => {},\n    destroyCallback: () => {},\n    value: string | number | boolean,\n    autofocus: boolean\n}\n\nconst createTargetBeforeElDom = (targetEl: any, tag: keyof HTMLElementTagNameMap) => {\n    const span = document.createElement(tag)\n    const parentNode = targetEl?.parentNode\n    parentNode?.insertBefore(span, targetEl)\n    return span\n}\n\nconst createTsInput = (targetEl: EventTarget | null, options: TsInputOptions) => {\n    const placeholderDom = createTargetBeforeElDom(targetEl, 'span')\n    const InputConstructor = Vue.extend(TsInput)\n    return new InputConstructor({\n        propsData: {\n            mountedCallback: options.mountedCallback,\n            changeCallback: options.changeCallback,\n            destroyCallback: options.destroyCallback,\n            value: options.value,\n            autofocus: options.autofocus || true\n        }\n    }).$mount(placeholderDom)\n}\n\n\nexport const useTsInput = () => {\n    return {\n        createTsInput,\n        createTargetBeforeElDom\n    }\n\n}\n","<template>\n    <span\n        v-if=\"!isClicked\"\n        class=\"ts-number-placeholder\"\n        :class=\"{ 'disabled': disabled }\"\n        @click=\"onLabelClick($event)\">\n        {{ showValue }}\n    </span>\n</template>\n\n<script>\nimport Vue, { computed, ref, watch } from 'vue'\nimport { useTsInput } from './TsInput/index'\n\nexport default Vue.extend({\n    name: 'TsNumberPlaceholder',\n    props: {\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        min: {\n            type: Number,\n            default: 0\n        },\n        max: {\n            type: Number,\n            default: 100\n        },\n        value: {\n            type: Number,\n            default: 0\n        },\n        step: {\n            type: Number,\n            default: 1\n        },\n        formatValue: {\n            type: Function\n        },\n        formatResult: {\n            type: Function\n        }\n    },\n    setup(props, { emit }) {\n        const isClicked = ref(false)\n        const currValue = ref(props.value)\n\n        const minRef = ref(props.min || 0)\n        const maxRef = ref(props.max || 100)\n        const stepRef = ref(props.step || 1)\n\n        const showValue = computed(() => typeof props.formatValue === 'function'\n            ? props.formatValue(currValue.value)\n            : currValue.value)\n\n        watch(() => props.value, (val) => currValue.value = val)\n        watch(currValue, (val) => {\n            emit('input', val)\n        })\n\n        // getRealValue为空、后续需要格式化的时候传入调用\n        const formatInputValue = (value, oldValue) => {\n            const step = stepRef.value\n            const min = minRef.value\n            const max = maxRef.value\n\n            let fValue = Number(value)\n            if (isNaN(fValue) || !value) return oldValue\n            fValue = step < 1 ? fValue.toRoundByBase(step) : Math.round(fValue)\n            let realValue = typeof props.formatValue === 'function' ? props.formatResult(fValue) : fValue\n            if (realValue < min) realValue = min\n            if (realValue > max) realValue = max\n            return realValue\n        }\n\n        const onLabelClick = (e) => {\n            if (props.disabled) {\n                return\n            }\n            const { createTsInput } = useTsInput()\n            const tsInput = createTsInput(e.target, {\n                mountedCallback: () => {\n                    isClicked.value = true\n                    emit('on-focus')\n                },\n                changeCallback: (value) => {\n                    const realValue = formatInputValue(value, currValue.value)\n                    if (realValue !== currValue.value) {\n                        currValue.value = realValue\n                        emit('change', realValue)\n                    }\n                    tsInput.destroy()\n                },\n                destroyCallback() {\n                    isClicked.value = false\n                    emit('on-blur')\n                },\n                value: showValue.value\n            })\n        }\n\n        return {\n            showValue,\n            currValue,\n            isClicked,\n            onLabelClick\n        }\n    }\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-number-placeholder {\n    &.disabled {\n        cursor: not-allowed;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79fff74c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=79fff74c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79fff74c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"ts-slider-group-container\" :class=\"{ 'no-title': !cTitle }\">\n        <div class=\"ts-slider-group-container-title\" v-if=\"cTitle\">{{ cTitle }}</div>\n\n        <div class=\"ts-slider-group-container-label\">\n            <span class=\"db-label-item\" v-for=\"(option, i) in options\" :key=\"i\">\n                <span class=\"label\">\n                    <span @dblclick=\"onDoubleClick(option.value, i, 'label')\">{{ option.name }} </span>\n                </span>\n\n                <ts-number-placeholder\n                    class=\"label-value\"\n                    :min=\"option.min || 0\"\n                    :max=\"option.max || 100\"\n                    :step=\"option.step || step\"\n                    :disabled=\"disabled || option.disabled\"\n                    v-model=\"tempObj[i]\"\n                    @on-blur=\"$emit('on-blur')\"\n                    @on-focus=\"$emit('on-focus')\"\n                    @change=\"onSlider($event, i)\"\n                />\n            </span>\n        </div>\n\n        <div class=\"ts-slider-group-container-slider\">\n            <template v-for=\"(item, i) in options\">\n                <ts-slider\n                    class=\"ts-slider-group-item slider\"\n                    :key=\"i\"\n                    :min=\"item.min || 0\"\n                    :max=\"item.max || 100\"\n                    :step=\"item.step || step\"\n                    :show-input-controls=\"item.showInputControls || showInputControls\"\n                    :show-tooltip=\"item.showTooltip || showTooltip\"\n                    :show-input=\"item.showInput ||showInput \"\n                    :input-size=\"item.inputSize || inputSize\"\n                    :show-stops=\"item.showStops || showStops\"\n                    :format-tooltip=\"item.formatTooltip || formatTooltip\"\n                    :disabled=\"item.disabled || disabled\"\n                    :range=\"item.range || range\"\n                    :vertical=\"item.vertical || vertical\"\n                    :height=\"item.height || height\"\n                    :debounce=\"item.debounce || debounce\"\n                    :label=\"item.label || label\"\n                    :tooltipClass=\"item.tooltipClass || tooltipClass\"\n                    :marks=\"item.marks || marks\"\n                    :c-style=\"item.cStyle || cStyle\"\n                    v-model=\"tempObj[i]\"\n                    @keydown.native.meta=\"preventDefault\"\n                    @keydown.native.ctrl=\"preventDefault\"\n                    @keydown.native.exact.stop\n                    @change=\"onSlider($event, i)\"\n                    @ondblclick=\"onDoubleClick(item.value, i, 'slider')\"\n                    @input=\"onSlider($event, i, 'input')\"\n                ></ts-slider>\n\n                <template v-if=\"i !== options.length - 1\">\n                    <ts-slider-group-lock-icon\n                        :isLock.sync=\"isLock\"\n                        ref=\"lock\"\n                        :index=\"i\"\n                        :key=\"item.key\"\n                        @click=\"onLockClick\"\n                    />\n                </template>\n            </template>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport { computed, nextTick, onMounted, ref, watch } from 'vue'\n\nimport { isEqual } from 'lodash'\nimport TsSlider from '@/components/TsSlider'\nimport TsSliderGroupLockIcon from './components/ts-slider-group-lock-icon.vue'\nimport TsNumberPlaceholder from '@/components/TsNumberPlaceholder'\n\nexport default {\n    name: 'TsSliderGroup',\n    components: {\n        'ts-slider': TsSlider,\n        TsNumberPlaceholder,\n        'ts-slider-group-lock-icon': TsSliderGroupLockIcon\n    },\n    props: {\n        step: {\n            type: Number,\n            default: 1\n        },\n        value: {\n            type: [Array, Number],\n            default() {\n                return [0, 0]\n            }\n        },\n        showInput: {\n            type: Boolean,\n            default: false\n        },\n        showInputControls: {\n            type: Boolean,\n            default: false\n        },\n        inputSize: {\n            type: String,\n            default: 'small'\n        },\n        showStops: {\n            type: Boolean,\n            default: false\n        },\n        showTooltip: {\n            type: Boolean,\n            default: false\n        },\n        formatTooltip: Function,\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        range: {\n            type: Boolean,\n            default: false\n        },\n        vertical: {\n            type: Boolean,\n            default: false\n        },\n        height: {\n            type: String\n        },\n        debounce: {\n            type: Number,\n            default: 300\n        },\n        label: {\n            type: String\n        },\n        tooltipClass: String,\n        marks: Object,\n        cStyle: Object,\n        cTitle: {\n            type: String,\n            default: ''\n        },\n        options: {\n            type: Array,\n            default: () => {\n                return []\n            }\n        }\n    },\n\n    setup(props, { emit }) {\n\n        const isAutoSync = ref(false)\n        const isLock = ref(true)\n        const isMounted = ref(false)\n\n        onMounted(() => {\n            nextTick(() => {\n                isMounted.value = true\n            })\n        })\n\n        const keys = computed(() => props.options.map(option => option.key))\n\n        const initObj = (arr) => {\n            const obj = {}\n            arr.forEach((item, i) => {\n                obj[i] = item.value\n            })\n            return obj\n        }\n\n        const tempObj = ref(initObj(props.options))\n        watch(() => props.options, (val) => {\n            tempObj.value = initObj(val)\n        })\n\n        const objectToArray = (data) => {\n            const arr = []\n            const keys = Object.keys(data) || []\n            keys.forEach(key => {\n                arr[key] = data[key]\n            })\n            return arr\n        }\n\n        const arrayToObject = (arr) => {\n            const obj = {}\n            arr.forEach((item, i) => {\n                obj[i] = item\n            })\n            return obj\n        }\n\n        // 同步value值\n        function assertArrAllEqual(arr) {\n            return !arr.reduce((pre, cur) => {\n                return pre ^ cur\n            })\n        }\n        function syncArrayValue(pValue, nValue) {\n            return pValue.map((v, i) => {\n                return typeof nValue[i] !== 'undefined' ? nValue[i] : v\n            })\n        }\n\n        watch(() => props.value, (val) => {\n            const cValue = objectToArray(tempObj.value)\n            if (!isEqual(val, cValue)) {\n                const result = syncArrayValue(cValue, val)\n                isLock.value = assertArrAllEqual(result)\n                tempObj.value = arrayToObject(result)\n            }\n        }, { immediate: true })\n\n\n        const currentValue = computed(() => objectToArray(tempObj.value))\n        const onSlider = (value, i, eventId = 'change') => {\n            if (!isMounted.value && eventId === 'input') {\n                return\n            }\n\n            tempObj.value[i] = value\n            let updateIndexs = [i]\n\n            // 锁定时同步滑竿\n            if (isLock.value) {\n                const indexs = []\n                for (const i in tempObj.value) {\n                    tempObj.value[i] = value\n                    indexs.push(i)\n                }\n                updateIndexs = indexs\n            }\n\n            console.log('eventId: ', isLock.value, tempObj.value)\n\n            if (isAutoSync.value && eventId === 'input') {\n                return\n            }\n\n            emit(eventId, objectToArray(currentValue.value), updateIndexs)\n        }\n\n        const onLockClick = (lock) => {\n            if (lock) {\n                const value = tempObj.value[0]\n                let needUpdate = false\n                for (const i in tempObj.value) {\n                    if (value !== tempObj.value[i]) {\n                        needUpdate = true\n                    }\n                }\n\n                if (needUpdate) {\n                    isAutoSync.value = true\n                    onSlider(value, 0)\n                    nextTick(() => {\n                        isAutoSync.value = false\n                    })\n                }\n            }\n        }\n\n        const onDoubleClick = (value, i, name) => {\n            isAutoSync.value = true\n            onSlider(value, i)\n            nextTick(() => {\n                isAutoSync.value = false\n            })\n            emit('reset-single', currentValue.value, name)\n        }\n\n        return {\n            keys,\n            currentValue,\n            tempObj,\n            isLock,\n\n            onSlider,\n            onLockClick,\n            onDoubleClick,\n\n            preventDefault: (e) => {\n                if ([37, 38, 39, 40, 48, 187, 189].includes(e.keyCode)) {\n                    if ([37, 38, 39, 40].includes(e.keyCode)) {\n                        e.stopPropagation()\n                    }\n                    e.preventDefault()\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-slider-group-container {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    height: 45px;\n\n    &.no-title {\n        height: 28px;\n    }\n\n    &-title {\n        font-size: 12px;\n        line-height: 17px;\n    }\n\n    &-label {\n        display: flex;\n        align-items: center;\n        font-size: 10px;\n        line-height: 14px;\n        color: #737373;\n\n        .db-label-item {\n            flex: 1;\n            display: flex;\n\n            &:nth-child(-n+1) {\n                margin-right: 38px;\n            }\n        }\n\n        .label-value {\n            color: #D9D9D9;\n\n            &:hover {\n                color: #2D6B96;\n            }\n        }\n\n        .label {\n            flex-grow: 1;\n            flex-shrink: 0;\n        }\n\n    }\n\n    &-slider {\n        display: flex;\n        width: 100%;\n        align-items: center;\n        height: 12px;\n\n        .ts-slider-group-item {\n            flex: 1;\n\n            /deep/ {\n                .el-slider__input.el-input-number--mini {\n                    width: 39px;\n                    height: 22px;\n\n                    .el-input--mini .el-input__inner {\n                        height: 22px;\n                        line-height: 22px;\n                        font-size: 12px;\n                        padding-left: 3px;\n                        padding-right: 3px;\n                    }\n                }\n\n                .el-slider__runway {\n                    margin: 4px 0;\n                    cursor: default;\n\n                    &::after {\n                        position: absolute;\n                        content: \" \";\n                        background: transparent;\n                        width: calc(100% + 14px);\n                        height: 12px;\n                        top: calc(50% - 6px);\n                        left: -7px;\n                        right: 0;\n                        border-radius: 3px;\n                    }\n\n                    &::before {\n                        position: absolute;\n                        content: \" \";\n                        background: inherit;\n                        width: calc(100% + 14px);\n                        height: 2px;\n                        top: calc(50% - 1px);\n                        left: -7px;\n                        right: 0px;\n                        border-radius: 3px;\n                    }\n\n                    &.show-input {\n                        margin-right: 50px;\n                    }\n                }\n\n                .el-slider__bar {\n                    margin-left: -7px;\n                }\n\n                .el-slider__button-wrapper {\n                    height: 16px !important;\n                    width: 16px;\n                    top: -7px;\n\n                    .el-slider__button {\n                        border: none !important;\n                        background: #EDEDED;\n                        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.15);\n                        position: absolute;\n                        left: 0;\n                        right: 0;\n                        bottom: 0;\n                        top: 0;\n                        margin: auto;\n                    }\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10ee5377&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=10ee5377&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10ee5377\",\n  null\n  \n)\n\nexport default component.exports","\nimport { ref, watch, onMounted, nextTick, PropType, Ref, SetupContext } from 'vue'\n\nimport { isEqual } from 'lodash'\n\nimport { IObject } from './types/types'\nimport DataCollection from './model/Collection'\n\nimport { Switch, Checkbox, Select, Option } from 'element-ui'\nimport TsItemCard from './components/TsItemCard'\nimport TsSlider from '@/components/TsSlider'\nimport TsSliderGroup from '../TsSliderGroup'\nimport TsNumberPlaceholder from '@/components/TsNumberPlaceholder'\n\ninterface IProps {\n    data: [],\n    value: IObject,\n    disabled: boolean,\n    singleResetFunction?: Function\n}\n\ninterface ISetup {\n    allRecordObject: Ref<IObject>\n    filterObject: Ref<IObject>\n    collapseObj: Ref<IObject<boolean>>\n\n    isVisible: (IObject) => boolean\n    onFocus: () => void\n    onBlur: () => void\n    onChange: (data: IObject, opt?: string) => void\n    onInput: (data: IObject) => void\n    reset: (data: IObject) => void,\n    emitResetSingle: (data: IObject, comName: string) => void\n    onFilterObjectChange: (data: IObject) => void\n    onSliderGroupChange: (values: number[], indexs: number[], keys: string[]) => void\n}\n\nexport default {\n    name: 'ComponentCollection',\n    components: {\n        'el-switch': Switch,\n        'el-checkbox': Checkbox,\n        'el-select': Select,\n        'el-option': Option,\n        'ts-slider': TsSlider,\n        'ts-slider-group': TsSliderGroup,\n        TsItemCard,\n        TsNumberPlaceholder\n    },\n    props: {\n        data: {\n            type: Array,\n            default: (): [] => []\n        },\n        value: {\n            type: Object,\n            default: (): IObject => ({})\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        singleResetFunction: {\n            type: Function\n        }\n    },\n\n    setup(props: PropType<IProps>, { emit }: SetupContext): ISetup {\n        const obj = props.value as IObject\n\n        const collection = ref(new DataCollection(props.data, obj))\n\n        const filterObject = ref(collection.value.toFilterObject())\n        const allRecordObject = ref(collection.value.toObject())\n        const collapseObj = ref(collection.value.toCollapseObject())\n\n        emit('on-keys', Object.keys(allRecordObject.value))\n\n        const hasMounted = ref(false)\n        const isResetting = ref(false)\n\n        // 数值变更，同步数据集\n        watch(() => props.value, (val: IObject) => {\n            // todo 过滤不存在是数据再比较\n            if (isEqual(allRecordObject.value, val)) {\n                return\n            }\n\n            const obj = collection.value.updateByObject(val)\n            const needUpdate = Object.keys(obj).length > 0\n\n            if (needUpdate) {\n                allRecordObject.value = collection.value.toObject()\n            }\n        }, { deep: true })\n\n        watch(allRecordObject, (value) => {\n            const result = { ...props.value }\n\n            let isNeedInput = false\n            for (const key in value) {\n                if (result[key] !== value[key]) {\n                    isNeedInput = true\n                    result[key] = value[key]\n                }\n            }\n\n            if (isNeedInput) {\n                emit('input', result)\n            }\n        }, { deep: true, immediate: true })\n\n        // 组件变更，重载数据集\n        watch(() => props.data, (val) => {\n            const obj = props.value as IObject\n            collection.value = new DataCollection(val, obj)\n\n            const collectionObj = collection.value.toObject()\n            emit('on-keys', Object.keys(collectionObj))\n\n            allRecordObject.value = collectionObj\n        })\n\n        onMounted(() => {\n            nextTick(() => {\n                hasMounted.value = true\n            })\n        })\n\n        const onChange = (data: IObject) => {\n            collection.value.updateByObject(data)\n            emit('on-change', data)\n        }\n\n        const onInput = (data: IObject) => {\n            // 未挂载或重置情况 不触发input\n            if (!hasMounted.value || isResetting.value) {\n                return\n            }\n\n            const resultObj = collection.value.updateByObject(data)\n            if (Object.keys(resultObj).length > 0) {\n                emit('on-input', resultObj)\n            }\n        }\n\n        function isVisible (data): boolean {\n            if (typeof data.visible === 'function') {\n                return data.visible(props.value)\n            } else if (data.visible === 'boolean') {\n                return data.visible\n            } else {\n                return true\n            }\n        }\n\n        return {\n            allRecordObject,\n            filterObject,\n            collapseObj,\n\n            isVisible,\n            onFocus: () => {\n                emit('on-focus')\n            },\n            onBlur: () => {\n                emit('on-blur')\n            },\n            onChange,\n            onInput,\n            onFilterObjectChange: (data) => {\n                collection.value.updateByObject(data)\n            },\n            reset(data) {\n                isResetting.value = true\n                const resultObj = collection.value.updateByObject(data)\n                if (Object.keys(resultObj).length > 0) {\n                    allRecordObject.value = collection.value.toObject()\n                }\n                nextTick(() => {\n                    isResetting.value = false\n                })\n                return resultObj\n            },\n\n            // 单滑竿自定义重置逻辑\n            emitResetSingle: (item, comName) => {\n                if (typeof allRecordObject.value[item.key] === 'undefined') {\n                    return\n                }\n\n                let value = item.value\n                if (props.singleResetFunction) {\n                    const v = props.singleResetFunction(item)\n                    if (typeof v !== 'undefined' && typeof v !== 'object') {\n                        value = v\n                    }\n                }\n\n                if (allRecordObject.value[item.key] !== value) {\n                    allRecordObject.value[item.key] = value\n                    onChange({ [item.key]: value })\n\n                    if (comName === 'label') {\n                        emit('user-behavior', 'double-click-label')\n                    }\n\n                    if (comName === 'slider') {\n                        emit('user-behavior', 'double-click-slider')\n                    }\n                }\n            },\n\n            onSliderGroupChange: (values, indexs, keys) => {\n                const obj = {}\n                indexs.forEach(index => {\n                    const key = keys[index]\n                    const value = values[index]\n                    if (key && typeof value !== 'undefined') {\n                        obj[key] = value\n                    }\n                })\n                if (Object.keys(obj).length === 0) {\n                    return\n                }\n                onChange(obj)\n            }\n        }\n    }\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2f140082&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2f140082&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f140082\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"id-photo-container\"},[_c('section',{staticClass:\"id-photo-container-background\"},[_c('el-radio-group',{staticClass:\"ts-custom__radio-group\",attrs:{\"slot\":\"reference\",\"size\":\"mini\"},slot:\"reference\",model:{value:(_vm.activeSourceTab),callback:function ($$v) {_vm.activeSourceTab=$$v},expression:\"activeSourceTab\"}},[_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":0}},[_vm._v(\"推荐背景\")]),_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":1}},[_vm._v(\"我的背景\")])],1),_c('div',{staticClass:\"id-photo-container-background-header header\",class:{'bg_loading':_vm.isIdPhotoLoading}},[_c('span',{staticClass:\"header-title\"},[_vm._v(\"背景选择\")]),(_vm.activeSourceTab==0 ? _vm.backgroundList.length > _vm.BACKGROUND_LENGTH -1 : _vm.mineIdPhotoCount > _vm.MINE_BACKGROUND_LENGTH-1)?_c('span',{staticClass:\"more\",on:{\"click\":_vm.openMorePanel}},[_vm._v(\"查看更多\"),_c('i',{staticClass:\"el-icon-arrow-right icon\"})]):_vm._e()]),_c('ul',{staticClass:\"id-photo-container-background-list\",style:({height:_vm.listIconHeight})},[(_vm.activeSourceTab==0)?[_vm._l((_vm.backgroundList),function(item,i){return [_c('li',{key:i,staticClass:\"list-item\",style:({ marginRight: _vm.getMarginRight(i)+'px' }),on:{\"click\":function($event){return _vm.onChangeBackgroundPath(item)}}},[(item.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),_c('img',{staticClass:\"img\",class:{ active: _vm.currentPath === item.path },attrs:{\"src\":item.iconPath}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.filterFormatName(item.name)))])])]})]:_vm._e(),(_vm.activeSourceTab==1)?[(!_vm.isMineListEmpty)?[_c('li',{directives:[{name:\"blur\",rawName:\"v-blur\"}],staticClass:\"list-item\",class:{'bg_loading':_vm.isIdPhotoLoading},style:({ marginRight: _vm.getMineMarginRight(0)+'px' }),on:{\"click\":_vm.onAddClick}},[_c('div',{staticClass:\"claImportContent\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"text\"}})],1),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(\"导入背景\"))])]),_vm._l((_vm.mineIdPhotoList),function(item,i){return [_c('li',{key:i,staticClass:\"list-item\",class:{'bg_loading':_vm.isIdPhotoLoading},style:({ marginRight: _vm.getMineMarginRight(i)+'px' }),on:{\"click\":function($event){return _vm.onChangeBackgroundPath(item,$event)},\"contextmenu\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;return _vm.handleNodeContextmenu(item)}}},[(item.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),_c('img',{staticClass:\"img\",class:{selected:item.isSelected && _vm.currentPath != item.path,active: _vm.currentPath === item.path},attrs:{\"src\":_vm.getIconPath(item)}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.filterFormatName(item.name)))])])]})]:_vm._e(),(_vm.isMineListEmpty || _vm.isIdPhotoLoading)?_c('id-photo-upload-fragment',{staticClass:\"claIdPhotoUpload\",attrs:{\"progress\":_vm.progress,\"isEmpty\":_vm.isMineListEmpty,\"showProgress\":_vm.isIdPhotoLoading},on:{\"onCancel\":_vm.onCancelClick,\"onAdd\":_vm.onAddClick}}):_vm._e()]:_vm._e()],2)],1),_c('div',{staticClass:\"ts-divider\",class:{'bg_loading':_vm.isIdPhotoLoading}}),_c('section',{staticClass:\"id-photo-container-detail-optimization\",class:{'bg_loading':_vm.isIdPhotoLoading}},[_vm._m(0),_c('div',{staticClass:\"slider-wrapper\"},[_c('div',{staticClass:\"label\"},[_c('span',{staticClass:\"label-name\"},[_c('span',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.tsGtag.PointDoubleClickTitle),expression:\"tsGtag.PointDoubleClickTitle\"}],on:{\"dblclick\":function($event){return _vm.onResetSingle(_vm.SliderEnum.Gamma)}}},[_vm._v(\"边缘调整\")])]),_c('ts-number-placeholder',{staticClass:\"percent\",attrs:{\"min\":0,\"max\":100,\"value\":_vm.currentGamma},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":_vm.onLabelChange}})],1),_c('div',{staticClass:\"flex-box\"},[_c('ts-slider',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.tsGtag.PointDoubleClickDot),expression:\"tsGtag.PointDoubleClickDot\"}],staticClass:\"slider\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.currentPath,\"show-tooltip\":false},on:{\"change\":_vm.onChangeBackgroundGamma,\"ondblclick\":function($event){return _vm.onResetSingle(_vm.SliderEnum.Gamma)}},model:{value:(_vm.currentGamma),callback:function ($$v) {_vm.currentGamma=$$v},expression:\"currentGamma\"}})],1)])]),_c('id-photo-panel',{attrs:{\"visible\":_vm.isShowPanel,\"current-gamma\":_vm.currentGamma,\"current-path\":_vm.currentPath,\"sourceType\":_vm.activeSourceTab},on:{\"update:visible\":function($event){_vm.isShowPanel=$event},\"update:currentGamma\":function($event){_vm.currentGamma=$event},\"update:current-gamma\":function($event){_vm.currentGamma=$event},\"onActiveSourceChange\":_vm.onActiveSourceChange,\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"on-change-background-path\":_vm.onChangeBackgroundPath,\"on-change-background-gamma\":_vm.onChangeBackgroundGamma}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"id-photo-container-detail-optimization-header header\"},[_c('span',{staticClass:\"header-title\"},[_vm._v(\"细节优化\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.visible)?_c('div',{staticClass:\"id-photo-panel-container\"},[_c('div',{staticClass:\"id-photo-panel-container-header\"},[_c('span',{on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" 证件照 \")])]),_c('div',{staticClass:\"id-photo-panel-container-content global__scroll-style\"},[_c('div',{staticClass:\"id-photo-panel-container-background\"},[_c('el-radio-group',{staticClass:\"ts-custom__radio-group radio-group\",attrs:{\"slot\":\"reference\",\"size\":\"mini\"},on:{\"change\":function($event){return _vm.$emit('onActiveSourceChange',$event)}},slot:\"reference\",model:{value:(_vm.activeSourceTab),callback:function ($$v) {_vm.activeSourceTab=$$v},expression:\"activeSourceTab\"}},[_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":0}},[_vm._v(\"推荐背景\")]),_c('el-radio-button',{staticClass:\"radio-button\",attrs:{\"label\":1}},[_vm._v(\"我的背景\")])],1),_c('div',{staticClass:\"title\"},[_vm._v(\" 背景选择 \")]),_c('ul',{staticClass:\"id-photo-panel-container-background-list\"},[(_vm.activeSourceTab == 0)?[_vm._l((_vm.backgroundList),function(item,i){return [_c('li',{key:i,staticClass:\"list-item\",style:({ marginRight: _vm.getMarginRight(i)+'px' }),on:{\"click\":function($event){return _vm.onChangeBackgroundPath(item)}}},[(item.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),_c('img',{staticClass:\"img\",class:{ active: _vm.currentPath === item.path },attrs:{\"src\":item.iconPath,\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.filterFormatName(item.name)))])])]})]:_vm._e(),(_vm.activeSourceTab == 1)?[_vm._l((_vm.mineIdBackgroundList),function(item,i){return [_c('li',{key:i,staticClass:\"list-item\",style:({ marginRight: _vm.getMarginRight(i)+'px' }),on:{\"click\":function($event){return _vm.onChangeBackgroundPath(item,$event)},\"contextmenu\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;return _vm.handleNodeContextmenu(item)}}},[(item.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),_c('img',{staticClass:\"img\",class:{selected:item.isSelected && _vm.currentPath != item.path,active: _vm.currentPath === item.path},attrs:{\"src\":_vm.getIconPath(item),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.filterFormatName(item.name)))])])]})]:_vm._e()],2)],1),_c('div',{staticClass:\"ts-divider\"}),_c('div',{staticClass:\"id-photo-panel-container-detail-optimization\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 细节优化 \")]),_c('div',{staticClass:\"slider-wrapper\"},[_c('div',{staticClass:\"label\"},[_c('span',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.tsGtag.PointDoubleClickTitle),expression:\"tsGtag.PointDoubleClickTitle\"}],staticClass:\"name\",on:{\"dblclick\":function($event){return _vm.onResetSingle(_vm.SliderEnum.Gamma)}}},[_vm._v(\"边缘调整\")]),_c('ts-number-placeholder',{staticClass:\"percent\",attrs:{\"min\":0,\"max\":100,\"value\":_vm.panelGamma},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":_vm.onLabelChange}})],1),_c('div',{staticClass:\"flex-box\"},[_c('ts-slider',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.tsGtag.PointDoubleClickDot),expression:\"tsGtag.PointDoubleClickDot\"}],staticClass:\"slider\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.currentPath,\"show-tooltip\":false},on:{\"change\":_vm.onChangeBackgroundGamma,\"ondblclick\":function($event){return _vm.onResetSingle(_vm.SliderEnum.Gamma)}},model:{value:(_vm.panelGamma),callback:function ($$v) {_vm.panelGamma=$$v},expression:\"panelGamma\"}})],1)])])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        v-if=\"visible\"\n        class=\"id-photo-panel-container\">\n        <div class=\"id-photo-panel-container-header\">\n             <span @click=\"closePanel\">\n                    <i class=\"el-icon-arrow-left\"></i>\n                    证件照\n             </span>\n        </div>\n\n        <div class=\"id-photo-panel-container-content global__scroll-style\">\n            <div class=\"id-photo-panel-container-background\">\n\t\t\t\t<el-radio-group\n\t\t\t\t\tslot=\"reference\"\n\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\tclass=\"ts-custom__radio-group radio-group\"\n\t\t\t\t\t@change=\"$emit('onActiveSourceChange',$event)\"\n\t\t\t\t\tv-model=\"activeSourceTab\">\n\t\t\t\t\t<el-radio-button class=\"radio-button\" :label=\"0\">推荐背景</el-radio-button>\n\t\t\t\t\t<el-radio-button class=\"radio-button\" :label=\"1\">我的背景</el-radio-button>\n\t\t\t\t</el-radio-group>\n                <div class=\"title\">\n                    背景选择\n                </div>\n\n                <ul class=\"id-photo-panel-container-background-list\">\n\t\t\t\t\t<template v-if=\"activeSourceTab == 0\">\n\t\t\t\t\t\t<template v-for=\"(item, i) in backgroundList\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclass=\"list-item\"\n\t\t\t\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t\t\t\t@click=\"onChangeBackgroundPath(item)\"\n\t\t\t\t\t\t\t\t:style=\"{ marginRight: getMarginRight(i)+'px' }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i v-if=\"item.new\" class=\"ts-icon ts-icon-new\"></i>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"img\"\n\t\t\t\t\t\t\t\t\t:class=\"{ active: currentPath === item.path }\"\n\t\t\t\t\t\t\t\t\t:src=\"item.iconPath\"\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"name\">{{ filterFormatName(item.name) }}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"activeSourceTab == 1\">\n\t\t\t\t\t\t<template v-for=\"(item, i) in mineIdBackgroundList\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclass=\"list-item\"\n\t\t\t\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t\t\t\t@click=\"onChangeBackgroundPath(item,$event)\"\n\t\t\t\t\t\t\t\t:style=\"{ marginRight: getMarginRight(i)+'px' }\"\n\t\t\t\t\t\t\t\t@click.right.exact=\"handleNodeContextmenu(item)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i v-if=\"item.new\" class=\"ts-icon ts-icon-new\"></i>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"img\"\n\t\t\t\t\t\t\t\t\t:class=\"{selected:item.isSelected && currentPath != item.path,active: currentPath === item.path}\"\n\t\t\t\t\t\t\t\t\t:src=\"getIconPath(item)\"\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"name\">{{ filterFormatName(item.name) }}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n                </ul>\n            </div>\n\n            <div class=\"ts-divider\"/>\n\n            <div class=\"id-photo-panel-container-detail-optimization\">\n                <div class=\"title\">\n                    细节优化\n                </div>\n\n                <!--            <div class=\"slider-wrapper\">-->\n                <!--                <div class=\"label\">-->\n                <!--                    <span-->\n                <!--                        class=\"name\"-->\n                <!--                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickTitle\"-->\n                <!--                        @dblclick=\"onResetSingle(SliderEnum.Beta)\"-->\n                <!--                    >毛发调整</span>-->\n                <!--                    &lt;!&ndash;                    <span&ndash;&gt;-->\n                <!--                    &lt;!&ndash;                        v-if=\"!isClicked\"&ndash;&gt;-->\n                <!--                    &lt;!&ndash;                        class=\"percent\"&ndash;&gt;-->\n                <!--                    &lt;!&ndash;                        @click=\"onLabelClick($event, {filterPath, filterAlpha})\">&ndash;&gt;-->\n                <!--                    &lt;!&ndash;                        0&ndash;&gt;-->\n                <!--                    &lt;!&ndash;                    </span>&ndash;&gt;-->\n                <!--                    <span-->\n                <!--                        class=\"value\"-->\n                <!--                        v-if=\"!(currentManualTarget === SliderEnum.Beta)\"-->\n                <!--                        @click=\"onSliderValueClick($event, SliderEnum.Beta)\"-->\n                <!--                    >{{ panelBeta }}</span>-->\n                <!--                </div>-->\n\n                <!--                <div class=\"flex-box\">-->\n                <!--                    <ts-slider-->\n                <!--                        class=\"slider\"-->\n                <!--                        :min=\"0\"-->\n                <!--                        :max=\"100\"-->\n                <!--                        :disabled=\"!currentPath\"-->\n                <!--                        v-model=\"panelBeta\"-->\n                <!--                        :show-tooltip=\"false\"-->\n                <!--                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickDot\"-->\n                <!--                        @change=\"onChangeBackgroundBeta\"-->\n                <!--                        @ondblclick=\"onResetSingle(SliderEnum.Beta)\"-->\n                <!--                    ></ts-slider>-->\n                <!--                </div>-->\n                <!--            </div>-->\n\n                <div class=\"slider-wrapper\">\n                    <div class=\"label\">\n                    <span\n                        class=\"name\"\n                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickTitle\"\n                        @dblclick=\"onResetSingle(SliderEnum.Gamma)\"\n                    >边缘调整</span>\n                        <!--                    <span-->\n                        <!--                        v-if=\"!isClicked\"-->\n                        <!--                        class=\"percent\"-->\n                        <!--                        @click=\"onLabelClick($event, {filterPath, filterAlpha})\">-->\n                        <!--                        0-->\n                        <!--                    </span>-->\n\n                        <ts-number-placeholder\n                            class=\"percent\"\n                            :min=\"0\"\n                            :max=\"100\"\n                            :value=\"panelGamma\"\n                            @on-blur=\"$emit('on-blur')\"\n                            @on-focus=\"$emit('on-focus')\"\n                            @change=\"onLabelChange\"\n                        />\n                    </div>\n\n                    <div class=\"flex-box\">\n                        <ts-slider\n                            class=\"slider\"\n                            :min=\"0\"\n                            :max=\"100\"\n                            :disabled=\"!currentPath\"\n                            v-model=\"panelGamma\"\n                            :show-tooltip=\"false\"\n                            v-gtag-dbl-event=\"tsGtag.PointDoubleClickDot\"\n                            @change=\"onChangeBackgroundGamma\"\n                            @ondblclick=\"onResetSingle(SliderEnum.Gamma)\"\n                        ></ts-slider>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue, {watch, ref, computed, getCurrentInstance} from 'vue'\nimport store from '@/store'\nimport pointsMixin from '@/mixins/pointsMixin'\n\nimport TsSlider from '@/components/TsSlider'\nimport TsNumberPlaceholder from 'components/TsNumberPlaceholder'\nimport {IdPhotoMaterialSourceType} from \"#/types/config\";\nimport importIdPhotoMaterialRpc from \"qt/business/import-idphoto-material\";\nimport Menu from \"qt/utils/menu\";\nimport toast from \"@/mixins/toast\";\nimport FileUtils from \"@/utils/FileUtils\";\n\nexport default {\n    name: 'id-photo-panel',\n    components: {\n        'ts-slider': TsSlider,\n        TsNumberPlaceholder\n    },\n\tmixins:[toast],\n    props: {\n        visible: {\n            type: Boolean,\n            default: false\n        },\n        currentPath: {\n            type: String,\n            default: ''\n        },\n        currentGamma: {\n            type: Number,\n            default: 0\n        },\n\t\tsourceType:{\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t}\n        // currentBeta: {\n        //     type: Number,\n        //     default: 0\n        // }\n    },\n\twatch:{\n\t\tsourceType:{\n\t\t\thandler: function (value,old){\n\t\t\t\t\tif (value == IdPhotoMaterialSourceType.Mime){\n\t\t\t\t\t\tstore.dispatch('presetSuit/ACT_FindMineIdPhotoBgList',{isShort:false})\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeSourceTab = value\n\t\t\t\t},\n\t\t\timmediate:true\n\t\t}\n\t},\n\tsetup(props, { emit }) {\n    \tlet instance = getCurrentInstance()\n    \tlet activeSourceTab = ref(0)\n        // 组合式API不能用mixins\n        const PointsMixinConstructor = Vue.extend(pointsMixin)\n        const tsGtag = new PointsMixinConstructor()\n        const getMarginRight = (index) => {\n            if ((index + 1) % 4) {\n                return 8\n            } else {\n                return 0\n            }\n        }\n        const closePanel = () => {\n            emit('update:visible', false)\n        }\n\n        const backgroundList = computed(() => store.getters['presetSuit/backgroundList'])\n\t\tconst mineIdBackgroundList = computed(() => {\n\t\t\tconst items = store.getters['presetSuit/mineIdPhotoList']\n\t\t\treturn items\n\t\t})\n\n        const onChangeBackgroundPath = (item,event) => {\n            // emit('update:currentPath', item.path)\n            emit('on-change-background-path', item,event)\n        }\n        const currentPathComputed = computed(() => {\n            return props.currentPath\n        })\n        const currentGammaComputed = computed(() => {\n            return props.currentGamma\n        })\n        // const currentBetaComputed = computed(() => {\n        //     return props.currentBeta\n        // })\n        const panelGamma = ref(0)\n        // const panelBeta = ref(0)\n        watch(currentGammaComputed, (v) => {\n            panelGamma.value = v\n        })\n        // watch(currentBetaComputed, (v) => {\n        //     panelBeta.value = v\n        // })\n        const onChangeBackgroundGamma = (v) => {\n            emit('update:currentGamma', v)\n            emit('on-change-background-gamma')\n        }\n        // const onChangeBackgroundBeta = (v) => {\n        //     emit('update:currentBeta', v)\n        //     emit('on-change-background-beta')\n        // }\n\n        /*\n            手动修改滑竿数值\n         */\n        const SliderEnum = {\n            None: -1, // 无\n            Gamma: 0\n            // Beta: 1,\n        }\n\n        const onLabelChange = (value) => {\n            if (value !== panelGamma.value) {\n                panelGamma.value = value\n                onChangeBackgroundGamma(panelGamma.value)\n                tsGtag.PointManualModifyComplete()\n            }\n        }\n\n        /*\n            双击返回默认值\n         */\n        const onResetSingle = (target) => {\n            if (!currentPathComputed.value) return\n            const obj = backgroundList.value.find(item => item.path === currentPathComputed.value)\n            if (target === SliderEnum.Gamma) {\n                if (currentGammaComputed.value === obj.value) return\n                onChangeBackgroundGamma(obj.value)\n            }\n            // else {\n            //     if (currentBetaComputed.value === obj.value) return\n            //     onChangeBackgroundBeta(obj.value)\n            // }\n        }\n\t\tconst  getIconPath = (item)=>{\n\t\t\tif (item.isOriginal){\n\t\t\t\treturn item.fullIconPath\n\t\t\t}\n\t\t\tconst strEncodePath = FileUtils.encodeURIComponent(item.fullIconPath)\n\t\t\tconst strIconPath = (instance.proxy.$isDev?\"tsFile://\":\"file://\") +  strEncodePath\n\t\t\treturn strIconPath\n\t\t}\n\t\tconst onDeleteMaterialMineIdPhoto=(item)=>{\n\t\t\tlet selectedItemIds = []\n\t\t\tlet mineIdPhotoList = store.getters['presetSuit/mineIdPhotoList']\n\t\t\tlet isFound = false\n\t\t\tfor (const it of mineIdPhotoList) {\n\t\t\t\tif (!it.isOriginal && it.sourceType == IdPhotoMaterialSourceType.Mime && it.isSelected){\n\t\t\t\t\tselectedItemIds.push(it.localMaterialId)\n\t\t\t\t\tif (it.localMaterialId == item.localMaterialId){\n\t\t\t\t\t\tisFound = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFound){\n\t\t\t\tselectedItemIds.push(item.localMaterialId)\n\t\t\t}\n\t\t\tinstance.proxy.tsConfirm({\n\t\t\t\ttitle: '',\n\t\t\t\tcustomMessageStyle: 'textAlign: center',\n\t\t\t\tmessage: `确认删除${selectedItemIds.length}个背景`\n\t\t\t}).then(async _ => {\n\t\t\t\tawait store.dispatch('presetSuit/ACT_BatchDeleteMineIdPhotoBgList',selectedItemIds)\n\t\t\t\tawait importIdPhotoMaterialRpc.deleteItems(selectedItemIds)\n\t\t\t}).catch(() => {\n\n\t\t\t})\n\t\t}\n\t\tconst handleNodeContextmenu = (item)=>{\n\t\t\tconst menu = new Menu()\n\t\t\tmenu.push({\n\t\t\t\tlabel: '删除',\n\t\t\t\taction: 'batch-delete',\n\t\t\t\tdisabled: false,\n\t\t\t\tdata: item,\n\t\t\t\tcallback: onDeleteMaterialMineIdPhoto\n\t\t\t}).show()\n\t\t}\n    function filterFormatName(value) {\n      if (value.length >= 10) {\n        // ... 名字过滤器\n        let start = value.substr(0, 4)\n        let end = value.substr(value.length - 2, 2)\n        return `${start} ... ${end}`\n      }\n      return value\n    }\n        return {\n\t\t\tactiveSourceTab,\n            getMarginRight,\n            closePanel,\n            backgroundList,\n\t\t\tmineIdBackgroundList,\n            onChangeBackgroundPath,\n            onChangeBackgroundGamma,\n\t\t\tonDeleteMaterialMineIdPhoto,\n\t\t\thandleNodeContextmenu,\n            // onChangeBackgroundBeta,\n            panelGamma,\n            // panelBeta,\n\n            SliderEnum,\n            onLabelChange,\n\n            onResetSingle,\n            tsGtag,\n\t\t\tgetIconPath,\n          filterFormatName\n        }\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.id-photo-panel-container {\n    width: 300px;\n    box-sizing: border-box;\n    position: fixed;\n    right: 45px;\n    bottom: 0;\n    top: 48px;\n    z-index: 1000;\n    background-color: #282828;\n\n    .title {\n        height: 28px;\n        line-height: 28px;\n        font-weight: 500;\n        font-size: 12px;\n        color: #D9D9D9;\n    }\n\n    &-header {\n        height: 38px;\n        line-height: 38px;\n        font-size: 12px;\n        font-weight: 500;\n        color: #D9D9D9;\n        padding: 0 15px;\n        border-bottom: 1px solid #1E1E1E;\n\n        &:hover {\n            color: #ffffff;\n        }\n\n        .el-icon-arrow-left {\n            font-size: 14px;\n        }\n    }\n\n    &-content {\n        height: calc(100% - 38px);\n        overflow-y: overlay;\n        overflow-x: hidden;\n        padding-bottom: 20px;\n        box-sizing: border-box;\n    }\n\n    &-background {\n        padding: 0 15px;\n\t\t.radio-group{\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 4px;\n\t\t\t.radio-button{\n\t\t\t\twidth: 50%;\n\t\t\t\t/deep/ .el-radio-button__inner{\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n        &-list {\n            display: flex;\n            flex-wrap: wrap;\n\n            .list-item {\n                position: relative;\n                width: 61px;\n                aspect-ratio: 1 / 1;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                margin-bottom: 8px;\n\n                .ts-icon-new {\n                    position: absolute;\n                    left: 1px;\n                    top: 1px;\n                    width: 23px;\n                    height: 10px;\n                    padding: 0 0;\n                    pointer-events: none;\n                }\n\n                .img {\n                    width: 59px;\n                    height: 59px;\n                    border: 1px solid transparent;\n                    background-color: transparent;\n                    border-radius: 4px;\n                    margin-bottom: 2px;\n                }\n\n                .name {\n                    text-align: center;\n                    height: 14px;\n                    line-height: 14px;\n                    font-size: 10px;\n                }\n\n                .active {\n                    border-color: #F5D228;\n                    padding: 1px;\n                    width: 57px;\n                    height: 57px;\n                }\n\t\t\t\t.selected{\n\t\t\t\t\tborder-color: #FFFFFF;\n\t\t\t\t\tpadding: 1px;\n\t\t\t\t\twidth: 57px;\n\t\t\t\t\theight: 57px;\n\t\t\t\t}\n            }\n        }\n    }\n\n    .ts-divider {\n        width: calc(100% - 32px);\n        margin-left: 16px;\n        height: 1px;\n        background-color: #333333;\n    }\n\n    &-detail-optimization {\n        margin-top: 8px;\n        padding: 0 15px;\n\n        .title {\n            color: #D9D9D9;\n            font-weight: 500;\n        }\n\n        .label {\n            height: 24px;\n            line-height: 24px;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .value {\n            &:hover {\n                color: #2D6B96;\n            }\n        }\n\n        .slider-wrapper {\n            display: flex;\n            flex-direction: column;\n            height: 38px;\n            font-size: 12px;\n            color: #A6A6A6;\n            line-height: 38px;\n            font-weight: 900;\n            box-sizing: border-box;\n\n            .flex-box {\n                display: flex;\n                width: 100%;\n                align-items: center;\n                height: 12px;\n\n                /deep/ {\n\n                    .el-slider {\n                        position: relative;\n\n                        .el-slider__runway {\n\n                            .el-slider__button-wrapper {\n                                height: 16px;\n                                width: 16px;\n                                top: -8px;\n                                line-height: 16px;\n                            }\n                        }\n                    }\n\n                }\n\n                .slider {\n                    position: relative;\n                    margin: 0 7px;\n                    flex: 1;\n\n                    /deep/ {\n                        .el-slider__input.el-input-number--mini {\n                            width: 39px;\n                            height: 22px;\n\n                            .el-input--mini .el-input__inner {\n                                height: 22px;\n                                line-height: 22px;\n                                font-size: 12px;\n                                padding-left: 3px;\n                                padding-right: 3px;\n                            }\n                        }\n\n                        .el-slider__runway.show-input {\n                            margin-right: 50px;\n                        }\n\n                        .el-slider__bar {\n                            margin-left: -7px;\n                        }\n\n                        .el-slider__runway::after {\n                            position: absolute;\n                            content: \" \";\n                            background: transparent;\n                            width: calc(100% + 14px);\n                            height: 12px;\n                            top: calc(50% - 6px);\n                            left: -7px;\n                            right: 0;\n                            border-radius: 3px;\n                        }\n\n                        .el-slider__button-wrapper {\n                            height: 16px;\n                            width: 16px;\n                            top: -7px\n                        }\n                    }\n                }\n\n                .slider /deep/ .el-slider__runway:before {\n                    position: absolute;\n                    content: \" \";\n                    background: inherit;\n                    width: calc(100% + 14px);\n                    height: 2px;\n                    top: calc(50% - 1px);\n                    left: -7px;\n                    right: 0px;\n                    border-radius: 3px;\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id-photo-panel.vue?vue&type=template&id=d58eb162&scoped=true&\"\nimport script from \"./id-photo-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./id-photo-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id-photo-panel.vue?vue&type=style&index=0&id=d58eb162&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d58eb162\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"idPhotoUploadFragment\",style:({background:_vm.showProgress?'rgba(0,0,0,0)':'transparent'})},[(_vm.isEmpty)?_c('div',{staticClass:\"claImport\"},[_c('div',{staticClass:\"claImportContent\",on:{\"click\":_vm.onAddClick}},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"type\":\"text\"}})],1),_c('span',{staticClass:\"claEmptyDes\"},[_vm._v(\"支持jpeg/jpg/png/gif/tif/bmp等格式\")])]):_vm._e(),(_vm.showProgress)?_c('div',{staticClass:\"claUpload\"},[_c('span',{staticClass:\"claProgressDes\"},[_vm._v(_vm._s(_vm.importDescription))]),_c('div',{staticClass:\"claProgressItem\"},[_c('el-progress',{attrs:{\"show-text\":false,\"text-inside\":\"\",\"stroke-width\":5,\"percentage\":_vm.percentage > 100?100:_vm.percentage}}),(!_vm.isCancel)?_c('el-button',{staticClass:\"claCloseBtn\",attrs:{\"icon\":\"el-icon-close\"},on:{\"click\":_vm.onCancelClick}}):_vm._e()],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"idPhotoUploadFragment\" :style=\"{background:showProgress?'rgba(0,0,0,0)':'transparent'}\">\n\t<div class=\"claImport\" v-if=\"isEmpty\">\n\t\t<div\n\t\t\tclass=\"claImportContent \"\n\t\t\t@click=\"onAddClick\">\n\t\t\t<el-button\n\t\t\t\ticon=\"el-icon-plus\"\n\t\t\t\ttype=\"text\">\n\t\t\t</el-button>\n\t\t</div>\n\t\t<span class=\"claEmptyDes\">支持jpeg/jpg/png/gif/tif/bmp等格式</span>\n\t</div>\n\t<div class=\"claUpload\" v-if=\"showProgress\">\n\t\t<span class=\"claProgressDes\">{{importDescription}}</span>\n\t\t<div class=\"claProgressItem\">\n\t\t\t<el-progress\n\t\t\t\t:show-text=\"false\"\n\t\t\t\ttext-inside\n\t\t\t\t:stroke-width=\"5\"\n\t\t\t\t:percentage=\"percentage > 100?100:percentage\"\n\t\t\t/>\n\n\t\t\t<el-button\n\t\t\t\tv-if=\"!isCancel\"\n\t\t\t\ticon=\"el-icon-close\"\n\t\t\t\tclass=\"claCloseBtn\"\n\t\t\t\t@click=\"onCancelClick\">\n\t\t\t</el-button>\n\t\t</div>\n\t</div>\n</div>\n</template>\n\n<script>\nimport {  Progress } from 'element-ui'\n\nexport default {\n\tname: \"\",\n\tcomponents: {\n\t\t'el-progress': Progress,\n\t},\n\tprops:{\n\t\tdescription:{\n\t\t\ttype:String,\n\t\t\tdefault:`正在导入{0}个背景素材...`\n\t\t},\n\t\tshowProgress:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:false\n\t\t},\n\t\tisEmpty:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:true\n\t\t},\n\t\tprogress:{\n\t\t\ttype:Object,\n\t\t\tdefault:function (){\n\t\t\t\treturn {\n\t\t\t\t\tcurrent:0, //当前个数\n\t\t\t\t\ttotal:1    //总数\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tisCancel:false\n\t\t}\n\t},\n\tcomputed:{\n\t\timportDescription(){\n\t\t\treturn this.description.replaceAll(\"{0}\",`${this.progress.current}`)\n\t\t},\n\t\tpercentage(){\n\t\t\tif (!this.progress.total){\n\t\t\t\treturn 0\n\t\t\t}\n\t\t\treturn (this.progress.current / this.progress.total) * 100\n\t\t}\n\t},\n\tmethods:{\n\t\tonCancelClick(){\n\t\t\tthis.isCancel = true\n\t\t\tthis.$emit('onCancel',null)\n\t\t},\n\t\tonAddClick(){\n\t\t\tthis.$emit('onAdd',null)\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.idPhotoUploadFragment{\n\tposition: relative;\n\twidth: 100%;\n\theight: 155px;\n\t.claImport{\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tleft: 0px;\n\t\ttop: 0px;\n\t\tbackground: transparent;\n\t\t.claImportContent {\n\t\t\twidth: 49px;\n\t\t\theight: 49px;\n\t\t\tborder-width: 1px;\n\t\t\tborder-style: dashed;\n\t\t\tborder-color: rgba(255, 255, 255, 0.45);;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tborder-radius: 8px;\n\t\t\tbackground: transparent;\n\t\t\tmargin-bottom: 12px;\n\t\t\t/deep/ .el-button {\n\t\t\t\t.el-icon-plus {\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tcolor: rgba(255, 255, 255, 0.45);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.claEmptyDes{\n\t\t\tfont-weight: 400;\n\t\t\tfont-size: 11px;\n\t\t\tline-height: 15px;\n\t\t\ttext-align: center;\n\t\t\tcolor: rgba(255, 255, 255, 0.45);\n\t\t}\n\t}\n\t.claUpload{\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tleft: 0px;\n\t\ttop: 0px;\n\t\tpadding-left: 15px;\n\t\tbackground: transparent;\n\t\t.claProgressDes{\n\t\t\tcolor:rgba(255, 255, 255, 0.65);\n\t\t\tfont-weight: 400;\n\t\t\tfont-size: 12px;\n\t\t\tline-height: 17px;\n\t\t\tmargin-bottom: 0px;\n\t\t}\n\t\t.claProgressItem {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\n\t\t\t.claCloseBtn {\n\t\t\t\tbackground: #4E4E4E;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tborder-radius: 9px;\n\t\t\t\tpadding: 0px;\n\t\t\t\tflex-shrink: 1;\n\t\t\t}\n\n\t\t\t/deep/ .el-progress {\n\t\t\t\tflex: 1;\n\t\t\t\tmargin-right: 8px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\twidth: 212px;\n\t\t\t\theight: 5px;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-upload-fragment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-upload-fragment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id-photo-upload-fragment.vue?vue&type=template&id=6554cc69&scoped=true&\"\nimport script from \"./id-photo-upload-fragment.vue?vue&type=script&lang=js&\"\nexport * from \"./id-photo-upload-fragment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id-photo-upload-fragment.vue?vue&type=style&index=0&id=6554cc69&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6554cc69\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"id-photo-container\">\n        <section class=\"id-photo-container-background\">\n\t\t\t<el-radio-group\n\t\t\t\tslot=\"reference\"\n\t\t\t\tsize=\"mini\"\n\t\t\t\tclass=\"ts-custom__radio-group\"\n\t\t\t\tv-model=\"activeSourceTab\">\n\t\t\t\t<el-radio-button class=\"radio-button\" :label=\"0\">推荐背景</el-radio-button>\n\t\t\t\t<el-radio-button class=\"radio-button\" :label=\"1\">我的背景</el-radio-button>\n\t\t\t</el-radio-group>\n\n\t\t\t<div class=\"id-photo-container-background-header header\"\n\t\t\t\t :class=\"{'bg_loading':isIdPhotoLoading}\"\n\t\t\t>\n                <span class=\"header-title\">背景选择</span>\n                <span v-if=\"activeSourceTab==0 ? backgroundList.length > BACKGROUND_LENGTH -1 : mineIdPhotoCount > MINE_BACKGROUND_LENGTH-1\" class=\"more\" @click=\"openMorePanel\">查看更多<i class=\"el-icon-arrow-right icon\"></i></span>\n            </div>\n            <ul class=\"id-photo-container-background-list\" :style=\"{height:listIconHeight}\">\n\t\t\t\t<template v-if=\"activeSourceTab==0\">\n\t\t\t\t\t<template v-for=\"(item, i) in backgroundList\">\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclass=\"list-item\"\n\t\t\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t\t\t@click=\"onChangeBackgroundPath(item)\"\n\t\t\t\t\t\t\t:style=\"{ marginRight: getMarginRight(i)+'px' }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i v-if=\"item.new\" class=\"ts-icon ts-icon-new\"></i>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclass=\"img\"\n\t\t\t\t\t\t\t\t:src=\"item.iconPath\"\n\t\t\t\t\t\t\t\t:class=\"{ active: currentPath === item.path }\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span class=\"name\">{{ filterFormatName(item.name) }}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"activeSourceTab==1\">\n\t\t\t\t\t<template v-if=\"!isMineListEmpty\">\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tv-blur\n\t\t\t\t\t\t\tclass=\"list-item\"\n\t\t\t\t\t\t\t@click=\"onAddClick\"\n\t\t\t\t\t\t\t:style=\"{ marginRight: getMineMarginRight(0)+'px' }\"\n\t\t\t\t\t\t\t:class=\"{'bg_loading':isIdPhotoLoading}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"claImportContent\">\n\t\t\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\t\t\ticon=\"el-icon-plus\"\n\t\t\t\t\t\t\t\t\ttype=\"text\">\n\t\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span class=\"name\">{{ \"导入背景\" }}</span>\n\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<template v-for=\"(item, i) in mineIdPhotoList\">\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclass=\"list-item\"\n\t\t\t\t\t\t\t:class=\"{'bg_loading':isIdPhotoLoading}\"\n\t\t\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t\t\t@click=\"onChangeBackgroundPath(item,$event)\"\n\t\t\t\t\t\t\t:style=\"{ marginRight: getMineMarginRight(i)+'px' }\"\n\t\t\t\t\t\t\t@click.right.exact=\"handleNodeContextmenu(item)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i v-if=\"item.new\" class=\"ts-icon ts-icon-new\"></i>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclass=\"img\"\n\t\t\t\t\t\t\t\t:src=\"getIconPath(item)\"\n\t\t\t\t\t\t\t\t:class=\"{selected:item.isSelected && currentPath != item.path,active: currentPath === item.path}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span class=\"name\">{{ filterFormatName(item.name) }}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t\t<id-photo-upload-fragment v-if=\"isMineListEmpty || isIdPhotoLoading\" class=\"claIdPhotoUpload\" :progress=\"progress\" :isEmpty=\"isMineListEmpty\" :showProgress=\"isIdPhotoLoading\" @onCancel=\"onCancelClick\" @onAdd=\"onAddClick\"></id-photo-upload-fragment>\n\t\t\t\t</template>\n            </ul>\n        </section>\n\n        <div class=\"ts-divider\" :class=\"{'bg_loading':isIdPhotoLoading}\"/>\n\n        <section class=\"id-photo-container-detail-optimization\" :class=\"{'bg_loading':isIdPhotoLoading}\">\n            <div class=\"id-photo-container-detail-optimization-header header\">\n                <span class=\"header-title\">细节优化</span>\n            </div>\n\n            <!--            <div class=\"slider-wrapper\">-->\n            <!--                <div class=\"label\">-->\n            <!--                    <span-->\n            <!--                        @dblclick=\"onResetSingle(SliderEnum.Beta)\"-->\n            <!--                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickTitle\"-->\n            <!--                    >毛发调整</span>-->\n            <!--                    <span-->\n            <!--                        v-if=\"!(currentManualTarget === SliderEnum.Beta)\"-->\n            <!--                        @click=\"onSliderValueClick($event, SliderEnum.Beta)\"-->\n            <!--                        class=\"value\"-->\n            <!--                    >{{ currentBeta }}</span>-->\n            <!--                </div>-->\n            <!--                <div class=\"flex-box\">-->\n            <!--                    <ts-slider-->\n            <!--                        class=\"slider\"-->\n            <!--                        :min=\"0\"-->\n            <!--                        :max=\"100\"-->\n            <!--                        :disabled=\"!currentPath\"-->\n            <!--                        :show-tooltip=\"false\"-->\n            <!--                        v-model=\"currentBeta\"-->\n            <!--                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickDot\"-->\n            <!--                        @change=\"onChangeBackgroundBeta\"-->\n            <!--                        @ondblclick=\"onResetSingle(SliderEnum.Beta)\"-->\n            <!--                    ></ts-slider>-->\n            <!--                </div>-->\n            <!--            </div>-->\n\n            <div class=\"slider-wrapper\">\n                <div class=\"label\">\n                    <span class=\"label-name\">\n                        <span\n                            @dblclick=\"onResetSingle(SliderEnum.Gamma)\"\n                            v-gtag-dbl-event=\"tsGtag.PointDoubleClickTitle\"\n                        >边缘调整</span>\n                    </span>\n\n                    <ts-number-placeholder\n                        class=\"percent\"\n                        :min=\"0\"\n                        :max=\"100\"\n                        :value=\"currentGamma\"\n                        @on-blur=\"$emit('on-blur')\"\n                        @on-focus=\"$emit('on-focus')\"\n                        @change=\"onLabelChange\"\n                    />\n                </div>\n                <div class=\"flex-box\">\n                    <ts-slider\n                        class=\"slider\"\n                        :min=\"0\"\n                        :max=\"100\"\n                        :disabled=\"!currentPath\"\n                        :show-tooltip=\"false\"\n                        v-model=\"currentGamma\"\n                        v-gtag-dbl-event=\"tsGtag.PointDoubleClickDot\"\n                        @change=\"onChangeBackgroundGamma\"\n                        @ondblclick=\"onResetSingle(SliderEnum.Gamma)\"\n                    ></ts-slider>\n                </div>\n            </div>\n\n        </section>\n\n        <id-photo-panel\n            :visible.sync=\"isShowPanel\"\n            :current-gamma.sync=\"currentGamma\"\n            :current-path=\"currentPath\"\n\t\t\t:sourceType=\"activeSourceTab\"\n\t\t\t@onActiveSourceChange=\"onActiveSourceChange\"\n            @on-blur=\"$emit('on-blur')\"\n            @on-focus=\"$emit('on-focus')\"\n            @on-change-background-path=\"onChangeBackgroundPath\"\n            @on-change-background-gamma=\"onChangeBackgroundGamma\"\n        />\n    </div>\n</template>\n\n<script>\nimport Vue, {watch, ref, computed, getCurrentInstance} from 'vue'\nimport isEqual from 'lodash/isEqual'\nimport IdPhotoPanel from './id-photo-panel'\nimport TsSlider from '@/components/TsSlider'\nimport store from '@/store'\nimport { EffectParamEnum } from '@/constants/presetParams/ParamEnum'\nimport pointsMixin from '@/mixins/pointsMixin'\nimport EffectModel from '@/model/EffectsModel/EffectModel'\nimport TsNumberPlaceholder from 'components/TsNumberPlaceholder'\nimport {IdPhotoMaterialSourceType} from '@/universal/types/config'\nimport idPhotoUploadFragment from '@/views/PhotoFinishing/CustomCollapseItem/BackgroundReplace/components/id-photo-upload-fragment'\nimport {IdPhotoUploadStatus} from \"@/store/modules/presetSuit\";\nimport importIdPhotoMaterialRpc,{IImportIdPhotoMaterialSignalKey} from '@/qt-ipc/business/import-idphoto-material'\nimport {mapActions,mapMutations, mapGetters} from \"vuex\";\nimport {IdPhotoMaterialModel} from \"@/model/MaterialsModel/idPhotoMaterialModel\";\nimport {BACKGROUND_LENGTH, MINE_BACKGROUND_LENGTH} from \"@/constants/material-config\";\nimport Menu from \"qt/utils/menu\";\nimport {deletePresetClassByApi} from \"@/api/settingApi\";\nimport toast from \"@/mixins/toast\";\nimport ipcRenderer from \"qt/Ipc-renderer\";\nimport Project from \"@/model/ProjectModel\";\nimport PersonParamModel from \"@/model/ParamsModel/PersonParamModel\";\nimport FileUtils from \"@/utils/FileUtils\";\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\nconst BgReplacePath = EffectModel.identify(EffectParamEnum.BgReplacePath)\n\nexport default {\n    name: 'id-photo',\n    mixins:[toast],\n    components: {\n        IdPhotoPanel,\n        TsSlider,\n        TsNumberPlaceholder,\n        idPhotoUploadFragment\n    },\n    props: {\n        initParams: {\n            type: Object,\n            default: () => {\n                return {}\n            }\n        }\n    },\n    data(){\n    \treturn {\n            importStatusWatchSymbol:null,\n            isIdPhotoLoading:false,\n            MINE_BACKGROUND_LENGTH:MINE_BACKGROUND_LENGTH,\n            BACKGROUND_LENGTH:BACKGROUND_LENGTH,\n            progress:{\n                current:0,\n                total:1\n            }\n        }\n    },\n    setup(props, { emit }) {\n    \tconst instance = getCurrentInstance()\n        // 组合式API不能用mixins\n        const PointsMixinConstructor = Vue.extend(pointsMixin)\n        const tsGtag = new PointsMixinConstructor()\n        const { PointSelectIdPhotoBackground } = useParamsPointsRepositories()\n\n        const backgroundList = computed(() => store.getters['presetSuit/matchBackgroundList'](currentPath.value))\n        const isMineListEmpty = computed(()=>{\n            return store.getters['presetSuit/mineIdPhoto'].bgList.length == 0\n        })\n\n        const activeSourceTab = ref(IdPhotoMaterialSourceType.System)\n        const getMarginRight = (index) => {\n            if ((index + 1) % 5) {\n                return 6\n            } else {\n                return 0\n            }\n        }\n        const getMineMarginRight = (index) => {\n    \t\tconst startIndex = -1\n            if ((index - startIndex + 1) % 5) {\n                return 6\n            } else {\n                return 0\n            }\n        }\n\n        function filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n\n        const isShowPanel = ref(false)\n        const openMorePanel = () => {\n            // console.log('lmy=> openMorePanel')\n            isShowPanel.value = true\n        }\n\n        const currentPath = ref('')\n        const currentGamma = ref(0)\n        // const currentBeta = ref(0)\n\n        const emitChange = (changeData, operation, ext, idPhotoModelItem) => {\n    \t\tlet strFinalPath = currentPath.value\n    \t\tif (idPhotoModelItem && idPhotoModelItem instanceof IdPhotoMaterialModel){\n                strFinalPath = idPhotoModelItem.shortEffectPath\n            }\n            const data = {\n                [BgReplacePath]: strFinalPath,\n                [EffectParamEnum.BgReplaceGamma]: currentGamma.value\n                // [EffectParamEnum.BgReplaceBeta]: currentBeta.value,\n            }\n            const res = {}\n            for (const key in result.value) {\n                if (Object.hasOwnProperty.call(result.value, key) && result.value[key] !== changeData[key]) {\n                    res[key] = changeData[key]\n                }\n            }\n            if (Object.keys(res).length > 0) {\n                emit('on-change', data, changeData, operation, ext)\n            }\n            result.value = data\n        }\n        const onChangeBackgroundPath = (item,event) => {\n    \t\tif (event){\n                if (event.ctrlKey || event.metaKey){\n                    instance.proxy.onCommandLeftMouseClick(item,event.metaKey)\n                    return;\n                }\n                if (event.shiftKey){\n                    instance.proxy.onShiftMouseClick(item)\n                    return;\n                }\n            }\n\n            currentPath.value = item.path\n            if (!item.path && currentGamma.value) {\n                currentGamma.value = 0\n            }\n            let data = null\n            if (activeSourceTab.value == IdPhotoMaterialSourceType.System){\n            \tdata = backgroundList.value.find(item => item.path === currentPath.value)\n            }else{\n                data = instance.proxy.mineIdPhotoList.find(item => item.path === currentPath.value)\n            }\n\n            PointSelectIdPhotoBackground(data)\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n            extInfo.labName = \"证件照\"\n            extInfo.lab2Name = \"背景\"\n            extInfo.optDesc = item.name\n\n            let strFinalPath = currentPath.value\n            if (item &&  item instanceof IdPhotoMaterialModel){\n                strFinalPath = item.shortEffectPath\n            }\n            emitChange({\n                [BgReplacePath]: strFinalPath,\n                [EffectParamEnum.BgReplaceGamma]: currentGamma.value\n                // [EffectParamEnum.BgReplaceBeta]: currentBeta.value,\n            }, 'manual', JSON.stringify(extInfo),item)\n        }\n        const onChangeBackgroundGamma = () => {\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n            extInfo.labName = \"证件照\"\n            extInfo.lab2Name = \"边缘调整\"\n            extInfo.optDesc = currentGamma.value\n\n            emitChange({\n                [EffectParamEnum.BgReplaceGamma]: currentGamma.value\n            }, 'manual', JSON.stringify(extInfo))\n        }\n        // const onChangeBackgroundBeta = () => {\n        //     emitChange({\n        //         [EffectParamEnum.BgReplaceBeta]: currentBeta.value,\n        //     }, 'manual')\n        // }\n\n        const result = ref({})\n        const initParamsFilter = computed(() => {\n            const obj = {}\n            for (const key in props.initParams) {\n                if (Object.hasOwnProperty.call(result.value, key)) {\n                    obj[key] = props.initParams[key]\n                }\n            }\n            return obj\n        })\n        const isModify = computed(() => {\n            // console.log('lmy:!isEqual(result.value, initParamsFilter.value)',!isEqual(result.value, initParamsFilter.value))\n            return !isEqual(result.value, initParamsFilter.value)\n        })\n        watch(isModify, (v) => {\n            emit('on-modify', v)\n        })\n        const init = (data) => {\n            if (Object.hasOwnProperty.call(data, BgReplacePath)) {\n                currentPath.value = data[BgReplacePath]\n                // 因存入效果json时候的路径带上了effect，所以此处得去掉，才能匹配上激活态\n                const suffixDir = \"/effect\"\n                const index = currentPath.value.lastIndexOf(suffixDir)\n                if (index >0){\n                    currentPath.value = currentPath.value.substr(0,index)\n                }\n                // console.log('lmy::init-data',data)\n            }\n            if (Object.hasOwnProperty.call(data, EffectParamEnum.BgReplaceGamma)) {\n                currentGamma.value = data[EffectParamEnum.BgReplaceGamma]\n            }\n\n            result.value = {\n                [BgReplacePath]: currentPath.value,\n                [EffectParamEnum.BgReplaceGamma]: currentGamma.value\n                // [EffectParamEnum.BgReplaceBeta]: currentBeta.value,\n            }\n        }\n\n        const reset = () => {\n            if (Object.hasOwnProperty.call(initParamsFilter.value, BgReplacePath)) {\n                currentPath.value = initParamsFilter.value[BgReplacePath]\n            }\n\n            if (Object.hasOwnProperty.call(initParamsFilter.value, EffectParamEnum.BgReplaceGamma)) {\n                currentGamma.value = initParamsFilter.value[EffectParamEnum.BgReplaceGamma]\n            }\n\n            // if (Object.hasOwnProperty.call(initParamsFilter.value, EffectParamEnum.BgReplaceBeta)) {\n            //     currentBeta.value = initParamsFilter.value[EffectParamEnum.BgReplaceBeta]\n            // }\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n            extInfo.labName = \"背景调整\"\n            extInfo.optDesc = \"重置\"\n\n            emitChange({\n                [BgReplacePath]: currentPath.value,\n                [EffectParamEnum.BgReplaceGamma]: currentGamma.value\n                // [EffectParamEnum.BgReplaceBeta]: currentBeta.value,\n            }, 'reset', JSON.stringify(extInfo))\n        }\n\n        /*\n            手动修改滑竿数值\n         */\n        const SliderEnum = {\n            None: -1, // 无\n            Gamma: 0\n            // Beta: 1,\n        }\n\n        const onSliderValueClick = (e, target = SliderEnum.Gamma) => {\n            console.log(\"modify slider value by person \")\n            if (!currentPath.value) return\n            const shortcutHelper = ShortcutHelper.getInstance()\n            let oldValue\n            if (target === SliderEnum.Gamma) {\n                oldValue = currentGamma.value\n            }\n            // else {\n            //     oldValue = currentBeta.value\n            // }\n            const {createTsInput, formatInputValue} = useTsInput()\n            const tsInput = createTsInput(e.target, {\n                mountedCallback: () => {\n                    currentManualTarget.value = target\n                    shortcutHelper.unRegisterShortcut()\n                },\n                changeCallback: (value) => {\n                    const realValue = formatInputValue(value, {oldValue})\n                    if (realValue !== oldValue) {\n                        if (target === SliderEnum.Gamma) {\n                            currentGamma.value = realValue\n                            onChangeBackgroundGamma()\n                        }\n                        // else {\n                        //     currentBeta.value = realValue\n                        //     onChangeBackgroundBeta()\n                        // }\n                        console.log(\"modify slider value by person 1111\")\n                        tsGtag.PointManualModifyComplete()\n                    }\n                    currentManualTarget.value = SliderEnum.None\n                    tsInput.destroy()\n                    shortcutHelper.registerShortcut()\n                },\n                value: oldValue\n            })\n        }\n\n        const onLabelChange = (value) => {\n            if (value !== currentGamma.value) {\n                currentGamma.value = value\n                onChangeBackgroundGamma()\n                tsGtag.PointManualModifyComplete()\n            }\n        }\n\n        /*\n            双击返回默认值\n         */\n        const onResetSingle = (target) => {\n            if (!currentPath.value) return\n            const obj = backgroundList.value.find(item => item.path === currentPath.value)\n            if (target === SliderEnum.Gamma) {\n                if (currentGamma.value === obj.value) return\n                currentGamma.value = obj.value\n                onChangeBackgroundGamma()\n            }\n            // else {\n            //     if (currentBeta.value === obj.value) return\n            //     currentBeta.value = obj.value\n            //     onChangeBackgroundBeta()\n            // }\n        }\n\n        const onCancelClick= ()=>{\n\n        }\n        const onAddClick= ()=>{\n            importIdPhotoMaterialRpc.openAndImportIdPhotosMaterial()\n        }\n        return {\n            activeSourceTab,\n            isShowPanel,\n            openMorePanel,\n            filterFormatName,\n\n            currentPath,\n            currentGamma,\n            // currentBeta,\n            backgroundList,\n            getMarginRight,\n            getMineMarginRight,\n            onChangeBackgroundPath,\n            onChangeBackgroundGamma,\n            onCancelClick,\n            onAddClick,\n            // onChangeBackgroundBeta,\n\n            isModify,\n            reset,\n            init,\n\n            SliderEnum,\n            onLabelChange,\n\n            onResetSingle,\n            tsGtag,\n            isMineListEmpty\n        }\n    },\n    computed:{\n    \t...mapGetters('presetSuit',[\n    \t\t'mineIdPhoto'\n        ]),\n        listIconHeight(){\n    \t\tif (this.activeSourceTab == 0){\n    \t\t\treturn 'auto'\n            }\n    \t\tif (this.isMineListEmpty){\n    \t\t\treturn '155px'\n            }\n    \t\treturn '145px'\n        },\n        mineIdPhotoList(){\n    \t\tlet matchMineIdPhotoBackgroundList = store.getters['presetSuit/matchMineIdPhotoBackgroundList']\n            const currentPath = this.currentPath\n            let mineIdBgList = matchMineIdPhotoBackgroundList(currentPath)\n            return mineIdBgList\n        },\n        mineIdPhotoCount(){\n            let mineIdPhotoList = store.getters['presetSuit/mineIdPhotoList']\n            return mineIdPhotoList.length\n        }\n    },\n    methods:{\n        ...mapMutations('presetSuit', [\n            '_UpdateMineIdPhotoBgList',\n            '_UpdateMineIdPhotoBgIsLoadAll'\n        ]),\n        getIconPath(item){\n            if (item.isOriginal){\n                return item.fullIconPath\n            }\n            const strIconPath = (this.$isDev?\"tsFile://\":\"file://\") + FileUtils.encodeURIComponent(item.fullIconPath)\n            return strIconPath\n        },\n        onActiveSourceChange(value){\n            this.activeSourceTab = value\n        },\n        async onDeleteMaterialMineIdPhoto(item){\n            let selectedItemIds = []\n            let mineIdPhotoList = store.getters['presetSuit/mineIdPhotoList']\n            let isFound = false\n            for (const it of mineIdPhotoList) {\n                const isValid = !it.isOriginal && ((it.sourceType === IdPhotoMaterialSourceType.Mime) && it.isSelected || ( it.path == this.currentPath))\n                if (isValid && it.localMaterialId){\n                    selectedItemIds.push(it.localMaterialId)\n                    if (it.localMaterialId == item.localMaterialId){\n                        isFound = true\n                    }\n                }\n            }\n            if (!isFound && item.localMaterialId){\n                selectedItemIds.push(item.localMaterialId)\n            }\n            this.tsConfirm({\n                title: '',\n                customMessageStyle: 'textAlign: center',\n                message: `确认删除${selectedItemIds.length}个背景`\n            }).then(async _ => {\n                await store.dispatch('presetSuit/ACT_BatchDeleteMineIdPhotoBgList',selectedItemIds)\n                await importIdPhotoMaterialRpc.deleteItems(selectedItemIds)\n            }).catch(() => {\n\n            })\n        },\n        handleNodeContextmenu(item){\n            const menu = new Menu()\n            menu.push({\n                label: '删除',\n                action: 'batch-delete',\n                disabled: false,\n                data: item,\n                callback: this.onDeleteMaterialMineIdPhoto\n            }).show()\n        },\n    \tasync initData(){\n            await store.dispatch('presetSuit/ACT_FindMineIdPhotoBgList',{isShort:true})\n            // this.mineIdPhotoList = store.getters['presetSuit/matchMineIdPhotoBackgroundList'](this.currentPath.value)\n            this.importStatusWatchSymbol = importIdPhotoMaterialRpc.addListener(IImportIdPhotoMaterialSignalKey.importProgress,(progress)=>{\n                this.isIdPhotoLoading = progress.status == IdPhotoUploadStatus.Begin || progress.status == IdPhotoUploadStatus.Loading\n                console.log(`progress.status=`,progress.progress,progress.data)\n                this.progress = progress.progress\n                if (progress.data){\n                    let model = new IdPhotoMaterialModel(progress.data)\n                    let isFound = false\n                    for (const idPhotoItem of this.mineIdPhoto.bgList) {\n                        if (idPhotoItem.localMaterialId == model.localMaterialId){\n                            isFound = true\n                            break\n                        }\n                    }\n                    if (!isFound){\n                        this.mineIdPhoto.bgList.unshift(model)\n                    }\n                }\n            })\n        },\n        onCommandLeftMouseClick(item,isMeta){\n            if ((isMeta && this.$isMac) || (!isMeta && this.$isWin)){\n                item.isSelected = !item.isSelected\n            }\n        },\n        /*\n\t\t\tshift+鼠标连选处理\n\t\t */\n        onShiftMouseClick(item){\n            let firstSelectedItem = null\n            let mineIdPhotoList = store.getters['presetSuit/mineIdPhotoList']\n            let firstSelectedIndex = -1\n            let index = 0\n            let itemIndex = -1\n            for (const it of mineIdPhotoList) {\n                if (it.isSelected || it.path == this.currentPath){\n                    if (!firstSelectedItem){\n                        firstSelectedItem = it\n                        firstSelectedIndex = index\n                    }\n                }\n                if (it.path == item.path){\n                    itemIndex = index\n                }\n                index ++\n            }\n            if (firstSelectedItem){\n                index = 0\n                const minIndex = Math.min(firstSelectedIndex,itemIndex)\n                const maxIndex = Math.max(firstSelectedIndex,itemIndex)\n                console.log(`onShiftMouseClick minIndex=${minIndex},maxIndex=${maxIndex}`)\n                for (const it of mineIdPhotoList) {\n                    if (index >= minIndex && index <= maxIndex){\n                        it.isSelected = true\n                    }else{\n                        it.isSelected = false\n                    }\n                    index ++\n                }\n            }\n        },\n        resetMineSelects(){\n            let mineIdPhotoList = store.getters['presetSuit/mineIdPhotoList']\n            for (const it of mineIdPhotoList) {\n                it.isSelected = false\n            }\n        },\n        registerShortKey(){\n            // ipcRenderer?.on('onKeyboardShortcutInvoked', (event: any, args: { name: string }) => {\n            // \t// console.log(`收到快捷键事件:${args}`)\n            // \tif (args.name == 'CommandOrControl+A') {\n            // \t\tthis.selectedAll(true)\n            // \t\treturn\n            // \t}\n            // \tif (args.name == 'CommandOrControl+D') {\n            // \t\tthis.selectedAll(false)\n            // \t\treturn\n            // \t}\n            //\n            // })\n        }\n    },\n    mounted() {\n    \tthis.initData()\n    },\n    beforeDestroy() {\n    \tthis._UpdateMineIdPhotoBgIsLoadAll(false)\n    \tthis.resetMineSelects()\n        importIdPhotoMaterialRpc.removeListener(IImportIdPhotoMaterialSignalKey.importProgress,this.importStatusWatchSymbol,true)\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$bg_opacity:0.2;\n.id-photo-container {\n    width: 100%;\n    line-height: 28px;\n\t.bg_loading{\n\t\topacity: $bg_opacity;\n\t}\n    .title {\n        margin-top: 4px;\n        display: flex;\n        align-items: center;\n        font-size: 12px;\n        color: #D9D9D9;\n        font-weight: 500;\n\n        .ts-icon-new {\n            width: 22px;\n            height: 11px;\n            margin-left: 4px;\n        }\n    }\n\n    .header {\n        font-size: 11px;\n        color: #A6A6A6;\n        font-weight: 400;\n        display: flex;\n        align-items: center;\n        margin-top: 8px;\n        margin-bottom: 2px;\n\n        &-title {\n            font-weight: 500;\n            font-size: 12px;\n            line-height: 17px;\n            color: #D9D9D9;\n        }\n    }\n\n    .ts-divider {\n        width: 100%;\n        height: 1px;\n        background-color: #333333;\n    }\n\n    &-background {\n        display: flex;\n        flex-direction: column;\n\t\t.radio-button{\n\t\t\twidth: 50%;\n\t\t\t/deep/ .el-radio-button__inner{\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n        &-header {\n            display: flex;\n            justify-content: space-between;\n\t\t\theight: 28px;\n            .more {\n                color: #ffffffcc;\n\n                &:hover {\n                    color: #fff;\n                }\n            }\n\n            .icon {\n                margin-right: 0 !important;\n            }\n        }\n\n        &-list {\n            display: flex;\n\t\t\tflex-direction: row;\n            flex-wrap: wrap;\n\t\t\tposition: relative;\n\t\t\talign-items: flex-start;\n\t\t\t.claIdPhotoUpload{\n\t\t\t\tposition: absolute;\n\t\t\t\ttop:-20px;\n\t\t\t}\n            .list-item {\n                position: relative;\n                width: 48.5px;\n                aspect-ratio: 1 / 1;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                margin-bottom: 8px;\n\t\t\t\t.claImportContent {\n\t\t\t\t\tborder-width: 1px;\n\t\t\t\t\tborder-style: dashed;\n\t\t\t\t\tborder-color: rgba(255, 255, 255, 0.45);;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbackground: transparent;\n\n\t\t\t\t\twidth: 46.5px;\n\t\t\t\t\theight: 46.5px;\n\t\t\t\t\t//padding: 1px;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tmargin-bottom: 2px;\n\n\t\t\t\t\t/deep/ .el-button {\n\t\t\t\t\t\t.el-icon-plus {\n\t\t\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\t\t\tcolor: rgba(255, 255, 255, 0.45);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.ts-icon-new {\n                    position: absolute;\n                    left: 1px;\n                    top: 1px;\n                    width: 23px;\n                    height: 10px;\n                    padding: 0 0;\n                    pointer-events: none;\n                }\n\n                .img {\n                    width: 46.5px;\n                    height: 46.5px;\n                    //padding: 1px;\n                    border: 1px solid transparent;\n                    background-color: transparent;\n                    border-radius: 4px;\n                    margin-bottom: 2px;\n                }\n\n                .name {\n                    height: 14px;\n                    line-height: 14px;\n                    text-align: center;\n                    font-size: 10px;\n                    color: #A6A6A6;\n                    font-weight: 400;\n                }\n\n                .active {\n                    border-color: #F5D228;\n                    width: 44.5px;\n                    height: 44.5px;\n                    padding: 1px;\n                }\n\t\t\t\t.selected{\n\t\t\t\t\tborder-color: #FFFFFF;\n\t\t\t\t\twidth: 44.5px;\n\t\t\t\t\theight: 44.5px;\n\t\t\t\t\tpadding: 1px;\n\t\t\t\t}\n            }\n        }\n    }\n\n    &-detail-optimization {\n        margin-bottom: 4px;\n\n        &-header {\n            margin-top: 8px;\n        }\n\n        .slider-wrapper {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            margin-bottom: 4px;\n            height: 38px;\n\n            .label {\n                display: flex;\n                justify-content: space-between;\n                font-size: 12px;\n                color: #A6A6A6;\n                line-height: 21px;\n\n                &-name {\n                    flex: 1;\n                }\n\n                .value {\n                    &:hover {\n                        color: #2D6B96;\n                    }\n                }\n            }\n\n            .flex-box {\n                display: flex;\n                width: 100%;\n                align-items: center;\n                height: 12px;\n\n                /deep/ {\n\n                    .el-slider {\n                        position: relative;\n\n                        .el-slider__runway {\n\n                            .el-slider__button-wrapper {\n                                height: 16px;\n                                width: 16px;\n                                top: -8px;\n                                line-height: 16px;\n                            }\n                        }\n                    }\n\n                }\n\n                .slider {\n                    position: relative;\n                    margin: 0 7px;\n                    flex: 1;\n\n                    /deep/ {\n                        .el-slider__input.el-input-number--mini {\n                            width: 39px;\n                            height: 22px;\n\n                            .el-input--mini .el-input__inner {\n                                height: 22px;\n                                line-height: 22px;\n                                font-size: 12px;\n                                padding-left: 3px;\n                                padding-right: 3px;\n                            }\n                        }\n\n                        .el-slider__runway.show-input {\n                            margin-right: 50px;\n                        }\n\n                        .el-slider__bar {\n                            margin-left: -7px;\n                        }\n\n                        .el-slider__runway::after {\n                            position: absolute;\n                            content: \" \";\n                            background: transparent;\n                            width: calc(100% + 14px);\n                            height: 12px;\n                            top: calc(50% - 6px);\n                            left: -7px;\n                            right: 0;\n                            border-radius: 3px;\n                        }\n\n                        .el-slider__button-wrapper {\n                            height: 16px;\n                            width: 16px;\n                            top: -7px\n                        }\n                    }\n                }\n\n                .slider /deep/ .el-slider__runway:before {\n                    position: absolute;\n                    content: \" \";\n                    background: inherit;\n                    width: calc(100% + 14px);\n                    height: 2px;\n                    top: calc(50% - 1px);\n                    left: -7px;\n                    right: 0px;\n                    border-radius: 3px;\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id-photo.vue?vue&type=template&id=cdc16282&scoped=true&\"\nimport script from \"./id-photo.vue?vue&type=script&lang=js&\"\nexport * from \"./id-photo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id-photo.vue?vue&type=style&index=0&id=cdc16282&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdc16282\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"suit\"},[_c('div',{key:_vm.data.key,staticClass:\"params-adjust-group-button params-adjust-group-item params-adjust-suit-group\"},[_c('el-radio-group',{staticClass:\"suit-radio-group\",staticStyle:{\"white-space\":\"nowrap\",\"align-self\":\"center\"},attrs:{\"size\":\"mini\"},on:{\"change\":_vm.changeChoose},model:{value:(_vm.cacheRadio),callback:function ($$v) {_vm.cacheRadio=$$v},expression:\"cacheRadio\"}},_vm._l((_vm.data.options),function(child){return _c('el-radio-button',{key:child.id,style:(child.cStyle),attrs:{\"label\":child.id}},[_c('span',{style:(child.customBtnTextStyle || {})},[_vm._v(_vm._s(child.label))])])}),1)],1),_vm._l((_vm.data.options),function(child,index){return _c('div',{key:index},[_c('SuitParamsItem',{directives:[{name:\"show\",rawName:\"v-show\",value:(child.id === _vm.cacheRadio),expression:\"child.id === cacheRadio\"}],key:child.id,ref:\"suitParamsItemRefs\",refInFor:true,attrs:{\"data\":child},on:{\"on-change\":(data, changeData, operation) => _vm.onChange(child, changeData, operation),\"on-input\":(data, changeData, operation) => _vm.onInput(changeData, operation),\"on-main-change\":(data, changeValue, operation) => _vm.onMainChange(child, changeValue, operation),\"on-focus\":function($event){return _vm.$emit('on-focus')},\"on-blur\":function($event){return _vm.$emit('on-blur')}}})],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"container\"},[_c('SuitParamsGridView',{ref:\"SuitParamsGridView\",attrs:{\"items\":_vm.data.children,\"initSelectPath\":_vm.selectPath},on:{\"onItemClick\":_vm.onSuitClick}}),_c('div',{staticClass:\"slider-container\"},[_c('div',{staticClass:\"slider-title\"},[_c('span',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.PointDoubleClickTitle),expression:\"PointDoubleClickTitle\"}],staticClass:\"title\",on:{\"dblclick\":function($event){return _vm.onResetSingle(_vm.data)}}},[_vm._v(\" 程度 \")]),_c('ts-slider',{directives:[{name:\"gtag-dbl-event\",rawName:\"v-gtag-dbl-event\",value:(_vm.PointDoubleClickDot),expression:\"PointDoubleClickDot\"}],key:`${_vm.data.key}-ts-slider`,staticClass:\"slider\",attrs:{\"input-size\":\"mini\",\"show-tooltip\":false,\"show-input-controls\":false,\"min\":0,\"max\":100,\"step\":1,\"disabled\":!_vm.selectPath},on:{\"change\":_vm.onSliderChange,\"input\":_vm.onSliderInput,\"ondblclick\":_vm.onResetSingle},nativeOn:{\"keydown\":[function($event){if(!$event.metaKey)return null;return _vm.preventDefault.apply(null, arguments)},function($event){if(!$event.ctrlKey)return null;return _vm.preventDefault.apply(null, arguments)},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();}]},model:{value:(_vm.slideValue),callback:function ($$v) {_vm.slideValue=$$v},expression:\"slideValue\"}}),_c('ts-number-placeholder',{staticClass:\"percent\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.selectPath},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":_vm.onSliderChange},model:{value:(_vm.slideValue),callback:function ($$v) {_vm.slideValue=$$v},expression:\"slideValue\"}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ClaPresettingGrid\"},[_vm._l((_vm.items || []),function(it,index){return [_c('div',{key:index,staticClass:\"claItemBox\",style:({paddingLeft: _vm.getMarginLeft(index)+'px', paddingRight: _vm.getMarginRight(index)+'px'}),on:{\"click\":function($event){return _vm.onItemClick(it, index)},\"mousedown\":function($event){_vm.mouseDownIndex = index},\"mouseup\":function($event){_vm.mouseDownIndex = -1}}},[_c('div',{staticClass:\"item-container\",class:{\n                    // select: isSelect(it),\n                    'border-primary-style-hover': _vm.mouseDownIndex === index,\n                    'select': _vm.mouseDownIndex === index\n                }},[_c('img',{staticClass:\"claImg\",attrs:{\"src\":it.iconPath}}),(it.new)?[_c('img',{staticClass:\"newIcon\",attrs:{\"src\":it.new}})]:_vm._e(),_c('div',{staticClass:\"claName\",class:{\n                    'background': index >= 1\n                 }},[_vm._v(\" \"+_vm._s(_vm._f(\"filterFormatName\")(it.name))+\" \")])],2)])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"ClaPresettingGrid\">\n        <template v-for=\"(it, index) in items || []\">\n            <div\n                :key=\"index\"\n                class=\"claItemBox\"\n                :style=\"{paddingLeft: getMarginLeft(index)+'px', paddingRight: getMarginRight(index)+'px'}\"\n                @click=\"onItemClick(it, index)\"\n                @mousedown=\"mouseDownIndex = index\"\n                @mouseup=\"mouseDownIndex = -1\">\n                <div class=\"item-container\"\n                     :class=\"{\n                        // select: isSelect(it),\n                        'border-primary-style-hover': mouseDownIndex === index,\n                        'select': mouseDownIndex === index\n                    }\"\n                >\n                    <img\n                        :src=\"it.iconPath\"\n                        class=\"claImg\"\n\n                    />\n                    <!--new图标-->\n                    <template v-if=\"it.new\">\n                        <img :src=\"it.new\"\n                             class=\"newIcon\">\n                    </template>\n                    <div class=\"claName\"\n                         :class=\"{\n                        'background': index >= 1\n                     }\"\n                    > {{ it.name | filterFormatName }}\n                    </div>\n                </div>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\n\nimport { debounce } from 'lodash'\nimport path from '@/qt-ipc/path'\nimport { joinResourcesPath } from '@/utils/findLocalPath'\nimport FileUtils from '@/utils/FileUtils'\n\nexport default {\n    name: 'SuitParamsGridView',\n    data() {\n        return {\n            mouseDownIndex: 0\n        }\n    },\n    props: {\n        items: Array,\n        itemSize: {\n            type: Object,\n            default: () => {\n                return { w: 47.6, h: 47.6 }\n            }\n        },\n        initSelectPath: String\n    },\n    watch: {\n        initSelectPath: {\n            handler(val) {\n                this.initSelectIndex(val)\n            },\n            immediate: true\n        },\n        items: {\n            handler(val) {\n                this.initSelectIndex(this.initSelectPath)\n            },\n            immediate: true\n        }\n    },\n    filters: {\n        filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n    },\n    methods: {\n        getMarginLeft(index) {\n            if (index % 5 === 0) {\n                return 0\n            } else {\n                return 3\n            }\n        },\n        getMarginRight(index) {\n            if (index / 4 === 1) {\n                return 0\n            } else {\n                return 3\n            }\n        },\n        reset() {\n            this.mouseDownIndex = 0\n        },\n        initSelectIndex(selectPath) {\n            let index = 0\n            this.mouseDownIndex = 0\n            if (this.items && selectPath) {\n                for (const item of this.items) {\n                    if (item && item.path) {\n                        if (selectPath === item.path) {\n                            this.mouseDownIndex = index\n                            break\n                        }\n                    }\n                    index++\n                }\n            }\n            console.log('mouseDownIndex : ' + this.mouseDownIndex + ' initSelectPath : ' + this.initSelectPath)\n        },\n        onItemClick: debounce(async function (it, index) {\n            console.log(`makeup onItemClick:}`)\n            this.mouseDownIndex = index\n            this.$emit('onItemClick', [it])\n        }, 50, {\n            'leading': true\n        }),\n        async iconFullPath(item) {\n            const prefix = await joinResourcesPath('effect/makeupIcons/')\n            const innerPath = await path.join(prefix, item.iconPath || '')\n            const isExist = await FileUtils.isFileExist(innerPath)\n            let sPath = ''//this.isInner ? : \"\"\n            if (isExist) {\n                sPath = 'file://' + innerPath\n                return sPath\n            }\n            sPath = item.iconPath\n            return sPath\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$boxWidth: 61px;\n$boxHeight: 61px;\n\n.ClaPresettingGrid {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    flex-wrap: wrap;\n    box-sizing: border-box;\n    margin-top: 5px;\n\n    .select {\n        border-width: 1px;\n        border-style: solid;\n        box-sizing: border-box;\n    }\n\n\n    .claItemBox {\n        width: 48.5px;\n        height: 48.5px;\n        margin-bottom: 8px;\n        aspect-ratio: 1 / 1;\n        display: flex;\n        flex-direction: row;\n        position: relative;\n        overflow: hidden;\n\n        .item-container {\n            border-radius: 4px;\n            aspect-ratio: 1 / 1;\n            display: flex;\n            flex-direction: row;\n            position: relative;\n            overflow: hidden;\n\n            .claImg {\n                object-fit: cover;\n                background: grey;\n                height: 100%;\n            }\n\n            .newIcon {\n                width: 18px;\n                height: 8px;\n                position: absolute;\n                left: 0;\n            }\n\n            .claName {\n                position: absolute;\n                bottom: 0px;\n                height: 18px;\n                font-size: 11px;\n                color: rgba(255, 255, 255, 0.85);\n                text-align: center;\n                line-height: 20px;\n                font-weight: 400;\n                width: 100%;\n            }\n\n            .background {\n                background-image: linear-gradient(#cc000000, #000000);\n            }\n        }\n\n    }\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGridView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGridView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SuitParamsGridView.vue?vue&type=template&id=4e70c4b2&scoped=true&\"\nimport script from \"./SuitParamsGridView.vue?vue&type=script&lang=js&\"\nexport * from \"./SuitParamsGridView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SuitParamsGridView.vue?vue&type=style&index=0&id=4e70c4b2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e70c4b2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"container\">\n        <SuitParamsGridView\n            ref=\"SuitParamsGridView\"\n            :items=\"data.children\"\n            :initSelectPath=\"selectPath\"\n            @onItemClick=\"onSuitClick\"\n        />\n\n        <div class=\"slider-container\">\n            <div class=\"slider-title\">\n                <span\n                    class=\"title\"\n                    v-gtag-dbl-event=\"PointDoubleClickTitle\"\n                    @dblclick=\"onResetSingle(data)\">\n                    程度\n                </span>\n\n                <ts-slider\n                    class=\"slider\"\n                    input-size=\"mini\"\n                    :key=\"`${data.key}-ts-slider`\"\n                    :show-tooltip=\"false\"\n                    :show-input-controls=\"false\"\n                    :min=\"0\"\n                    :max=\"100\"\n                    :step=\"1\"\n                    :disabled=\"!selectPath\"\n                    v-model=\"slideValue\"\n                    v-gtag-dbl-event=\"PointDoubleClickDot\"\n                    @keydown.native.meta=\"preventDefault\"\n                    @keydown.native.ctrl=\"preventDefault\"\n                    @keydown.native.exact.stop\n                    @change=\"onSliderChange\"\n                    @input=\"onSliderInput\"\n                    @ondblclick=\"onResetSingle\"\n                >\n                </ts-slider>\n\n                <ts-number-placeholder\n                    class=\"percent\"\n                    :min=\"0\"\n                    :max=\"100\"\n                    :disabled=\"!selectPath\"\n                    v-model=\"slideValue\"\n                    @on-blur=\"$emit('on-blur')\"\n                    @on-focus=\"$emit('on-focus')\"\n                    @change=\"onSliderChange\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n\nimport pointsMixin from '@/mixins/pointsMixin'\nimport { PointParamsFeatureMap } from '@/constants/pointsDef'\n\nimport TsSlider from '@/components/TsSlider'\nimport TsNumberPlaceholder from '@/components/TsNumberPlaceholder'\nimport SuitParamsGridView from '@/components/SuitParamsGroup/SuitParamsGridView'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\nexport default defineComponent({\n    name: 'SuitParamsGroup',\n    mixins: [pointsMixin],\n    components: {\n        'ts-slider': TsSlider,\n        SuitParamsGridView,\n        TsNumberPlaceholder\n    },\n    props: {\n        data: {\n            type: Object,\n            default: null\n        }\n    },\n    setup() {\n        const { PointRightMakeupItem } = useParamsPointsRepositories()\n\n        return {\n            PointRightMakeupItem\n        }\n    },\n    data() {\n        return {\n            hasInit: false,\n            paramsData: {},\n            currentSuit: '',\n\n            tempValue: 0,\n            slideValue: 0,\n            selectPath: '',\n\n            slideDisable: false,\n            currentSuitDefaultValue: 0\n        }\n    },\n    computed: {\n        identify() {\n            if (this.data) {\n                return this.data.key\n            }\n            return ''\n        },\n\n        identifyPath() {\n            if (this.data) {\n                return this.data.effectKey\n            }\n            return ''\n        },\n\n        isMainItem() {\n            return !!this.data.isMainItem\n        }\n    },\n    watch: {\n        data: {\n            handler(val) {\n                this.initParamsData()\n            },\n            immediate: true\n        }\n    },\n    methods: {\n        initParamsData() {\n            if (!this.data) {\n                return\n            }\n            if (!this.hasInit) {\n                this.slideValue = this.data.value\n                this.tempValue = this.slideValue\n                this.selectPath = ''\n                this.hasInit = true\n            }\n        },\n\n        init(data) {\n            const { key, effectKey } = this.data\n\n            if (!this.identify || !this.identifyPath) {\n                return {\n                    [effectKey]: this.selectPath,\n                    [key]: this.slideValue\n                }\n            }\n\n            if (typeof data[this.identify] !== 'undefined') {\n                this.slideValue = data[this.identify]\n            } else {\n                this.slideValue = this.data.value\n            }\n            this.tempValue = this.slideValue\n\n            if (typeof data[this.identifyPath] !== 'undefined') {\n                this.selectPath = data[this.identifyPath]\n            } else {\n                this.selectPath = ''\n            }\n\n            if (this.$refs['SuitParamsGridView']) {\n                const gridView = this.$refs['SuitParamsGridView']\n                gridView.initSelectIndex(this.selectPath)\n            }\n\n            return {\n                [effectKey]: this.selectPath,\n                [key]: this.slideValue\n            }\n        },\n\n        isMain() {\n            return this.isMainItem\n        },\n\n        reset() {\n            let obj = {}\n            if (!this.data || !this.identify || !this.identifyPath) {\n                return obj\n            }\n\n            if (this.slideValue !== this.currentSuitDefaultValue) {\n                this.slideValue = this.currentSuitDefaultValue\n                obj[this.identify] = this.slideValue\n            }\n\n            if (this.selectPath !== '') {\n                this.selectPath = ''\n                obj[this.identifyPath] = ''\n            }\n\n            if (this.$refs['SuitParamsGridView']) {\n                const gridView = this.$refs['SuitParamsGridView']\n                gridView.reset()\n            }\n\n            return obj\n        },\n\n        onSuitClick(args) {\n            let suit = args && args[0]\n            if (!suit) {\n                return\n            }\n\n            const updateParams = {}\n            const { key: sliderKey, effectKey } = this.data\n\n            if (this.selectPath !== suit.path) {\n                this.selectPath = suit.path\n                updateParams[effectKey] = suit.path\n                updateParams[sliderKey] = suit.defaultValue\n\n\n                // if (this.slideValue !== suit.defaultValue) {\n                this.slideValue = suit.defaultValue\n                this.tempValue = this.slideValue\n                // updateParams[sliderKey] = suit.defaultValue\n                // }\n\n                const allParams = {\n                    [effectKey]: this.selectPath,\n                    [sliderKey]: this.slideValue\n                }\n\n                if (this.isMainItem) {\n                    this.$emit('on-main-change', updateParams, updateParams, 'manual')\n                } else {\n                    this.$emit('on-change', allParams, updateParams, 'manual')\n                }\n\n                const key = this.data.key.split('_')[0]\n                if (key) {\n                    let cate = PointParamsFeatureMap['slide_makeup_rod'][key]\n                    this.PointRightMakeupItem(key,cate + '_' + suit.name)\n                }\n            }\n        },\n\n        onSliderInput(value) {\n            if (value === this.tempValue) {\n                return\n            }\n\n            this.tempValue = value\n            const { key, effectKey } = this.data\n            const allParams = {\n                [effectKey]: this.selectPath,\n                [key]: this.slideValue\n            }\n            this.$emit('on-input', allParams, { [key]: value }, 'manual')\n        },\n\n        onSliderChange(value) {\n\n            this.slideValue = value\n            const { key, effectKey } = this.data\n            const allParams = {\n                [effectKey]: this.selectPath,\n                [key]: this.slideValue\n            }\n            this.$emit('on-change', allParams, { [key]: value }, 'manual')\n        },\n\n        onResetSingle() {\n            this.onSliderChange(this.currentSuitDefaultValue)\n        }\n    }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n\n.container {\n    width: 100%;\n    height: 100%;\n\n    .slider-container {\n        width: 100%;\n\n        .slider-title {\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n        }\n\n        .slider {\n            position: relative;\n            flex: 1;\n            margin: 9px 12px;\n\n            /deep/ {\n\n                .el-slider__input.el-input-number--mini {\n                    width: 39px;\n                    height: 22px;\n\n                    .el-input--mini .el-input__inner {\n                        height: 22px;\n                        line-height: 22px;\n                        font-size: 12px;\n                        padding-left: 3px;\n                        padding-right: 3px;\n                    }\n                }\n\n                .el-slider__runway.show-input {\n                    margin-right: 50px;\n                }\n\n                .el-slider__bar {\n                    margin-left: -7px;\n                }\n\n                .el-slider__runway {\n                    margin: 0px 0px;\n\n                    &::before {\n                        position: absolute;\n                        content: \" \";\n                        background: inherit;\n                        width: calc(100% + 14px);\n                        height: 2px;\n                        top: calc(50% - 1px);\n                        left: -7px;\n                        right: 0px;\n                        border-radius: 3px;\n                    }\n\n                    .el-slider__button-wrapper {\n                        height: 16px;\n                        width: 16px;\n                        top: -8px;\n                    }\n                }\n\n\n            }\n        }\n\n        .slider /deep/ .el-slider__runway:before {\n            position: absolute;\n            content: \" \";\n            background: inherit;\n            width: calc(100% + 14px);\n            height: 2px;\n            top: calc(50% - 1px);\n            left: -7px;\n            right: 0px;\n            border-radius: 3px;\n        }\n\n        .value {\n            font-size: 12px;\n        }\n\n    }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SuitParamsItem.vue?vue&type=template&id=3a64f0e8&scoped=true&\"\nimport script from \"./SuitParamsItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SuitParamsItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SuitParamsItem.vue?vue&type=style&index=0&id=3a64f0e8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a64f0e8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"suit\">\n        <div\n            :key=\"data.key\"\n            class=\"params-adjust-group-button params-adjust-group-item params-adjust-suit-group\">\n            <el-radio-group\n                style=\"white-space: nowrap; align-self: center;\"\n                size=\"mini\"\n                class=\"suit-radio-group\"\n                v-model=\"cacheRadio\"\n                @change=\"changeChoose\">\n                <el-radio-button\n                    v-for=\"child in data.options\"\n                    :style=\"child.cStyle\"\n                    :key=\"child.id\"\n                    :label=\"child.id\">\n                    <span :style=\"child.customBtnTextStyle || {}\">{{ child.label }}</span>\n                </el-radio-button>\n            </el-radio-group>\n        </div>\n\n        <div v-for=\"(child, index) in data.options\" :key=\"index\">\n            <SuitParamsItem\n                v-show=\"child.id === cacheRadio\"\n                ref=\"suitParamsItemRefs\"\n                :data=\"child\"\n                :key=\"child.id\"\n                @on-change=\"(data, changeData, operation) => onChange(child, changeData, operation)\"\n                @on-input=\"(data, changeData, operation) => onInput(changeData, operation)\"\n                @on-main-change=\"(data, changeValue, operation) => onMainChange(child, changeValue, operation)\"\n                @on-focus=\"$emit('on-focus')\"\n                @on-blur=\"$emit('on-blur')\"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue, { computed, ref, watch } from 'vue'\nimport SuitParamsItem from 'components/SuitParamsGroup/SuitParamsItem'\nimport { RadioGroup, RadioButton } from 'element-ui'\nimport { filterObjectByKeys } from '@/utils/utils'\nimport { isEqual } from 'lodash'\n\nimport store from '@/store'\nimport { EffectParamPersonTypeValue } from '@/constants/presetParams/ParamEnum'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\nexport default Vue.extend({\n    name: 'SuitParamsGroup',\n    components: {\n        'el-radio-group': RadioGroup,\n        'el-radio-button': RadioButton,\n        SuitParamsItem\n    },\n\n    props: {\n        data: {\n            type: Object,\n            default: () => {\n            }\n        },\n        initParams: {\n            type: Object,\n            default: () => {\n            }\n        }\n    },\n\n    setup(props, { emit }) {\n        const cacheRadio = ref(props.data.value || '')\n        const allParams = ref({})\n        const initParamsFilter = computed(() => filterObjectByKeys(props.initParams, Object.keys(allParams.value)))\n        const isModify = computed(() => !isEqual(allParams.value, initParamsFilter.value))\n\n        watch(isModify, (v) => emit('on-modify', v))\n        watch(() => props.data, (val) => {\n            if (val && !cacheRadio.value) {\n                cacheRadio.value = val.value\n            }\n        })\n\n        const suitParamsItemRefs = ref([])\n\n        function init(data) {\n            if (suitParamsItemRefs.value.length > 0 && Object.keys(data).length > 0) {\n                const obj = {}\n                suitParamsItemRefs.value.forEach(component => {\n                    if (component) {\n                        Object.assign(obj, component.init(data || {}))\n                    }\n                })\n                allParams.value = { ...obj }\n            }\n        }\n\n        function onChange(data, changeValue, operation) {\n            let obj = { ...allParams.value }\n            Object.assign(obj, changeValue)\n            allParams.value = obj\n\n            let extInfo = {\n                labName : '',\n                isRest : false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n\n            if (operation === 'reset') {\n                extInfo.isRest = true\n                extInfo.optDesc = '重置'\n                extInfo.labName = data.label\n            } else {\n                if (Object.keys(changeValue).length > 1) {\n                    extInfo.labName = data.label\n                    let val = changeValue[Object.keys(changeValue)[0]]\n                    if (!val) {\n                        extInfo.optDesc = '无'\n                    } else {\n                        for (const child of data.children) {\n                            if (val === child.path) {\n                                extInfo.optDesc =child.name\n                                break\n                            }\n                        }\n                    }\n                } else {\n                    extInfo.labName = data.label + '程度'\n                    let keys = Object.keys(changeValue)\n                    extInfo.optDesc = changeValue[keys[0]]\n                }\n            }\n            let sex = store.getters['refine/personType']\n            let sexType = EffectParamPersonTypeValue[sex]\n            extInfo.sex = sexType\n\n            emit('on-change', allParams.value, changeValue, operation, JSON.stringify(extInfo))\n        }\n\n        function onInput(changeValue, operation) {\n            let obj = { ...allParams.value }\n            Object.assign(obj, changeValue)\n            allParams.value = obj\n            emit('on-input', allParams.value, changeValue, operation)\n        }\n\n        function onMainChange(data, changeValue, operation) {\n\n            let updateObj = {\n                ...changeValue\n            }\n\n            if (suitParamsItemRefs.value.length > 0) {\n                suitParamsItemRefs.value.forEach(component => {\n                    if (component && !component.isMain()) {\n                        const obj = component.reset() || {}\n                        Object.assign(updateObj, obj)\n                    }\n                })\n            }\n\n            onChange(data, updateObj, operation)\n        }\n\n        function reset(data) {\n            let updateObj = {}\n            if (suitParamsItemRefs.value.length > 0) {\n                suitParamsItemRefs.value.forEach(component => {\n                    if (component) {\n                        const obj = component.reset(data) || {}\n                        Object.assign(updateObj, obj)\n                    }\n                })\n            }\n            let finalData = {\n                label : '妆容调整'\n            };\n\n            onChange(finalData, updateObj, 'reset')\n        }\n\n        const { PointRightMakeupTheme } = useParamsPointsRepositories()\n\n        function changeChoose(val){\n            let index = val - 1\n            let current = this.data.options && this.data.options[index]\n            if(!current) {\n                return\n            }\n\n            let itemKey = current.key\n            const key = itemKey.split('_')[0]\n            PointRightMakeupTheme(key)\n        }\n\n        return {\n            suitParamsItemRefs,\n            cacheRadio,\n\n            init,\n            reset,\n\n            onInput,\n            onChange,\n            onMainChange,\n\n            changeChoose\n        }\n    }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.suit {\n    .params-adjust-suit-group {\n        display: flex;\n        align-items: center;\n\n        .suit-radio-group {\n            /deep/ {\n                .el-radio-button__inner {\n                    padding: 4px 7.4px;\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SuitParamsGroup.vue?vue&type=template&id=f1ae2008&scoped=true&\"\nimport script from \"./SuitParamsGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SuitParamsGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SuitParamsGroup.vue?vue&type=style&index=0&id=f1ae2008&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1ae2008\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"custom-collapse-item\"},[_c('div',{staticClass:\"filter-container\"},[_c('div',{staticClass:\"more-container\"},[_c('span',{on:{\"click\":_vm.showFilterPanelView}},[_vm._v(\"查看更多\")]),_c('i',{staticClass:\"el-icon-arrow-right\"})]),_c('div',{staticClass:\"filter-list\"},[_vm._l((_vm.matchFilterList || []),function(it,index){return [_c('div',{key:index,staticClass:\"claItemBox\",style:({ marginLeft: _vm.getMarginLeft(index)+'px', marginRight: _vm.getMarginRight(index)+'px'}),on:{\"click\":function($event){return _vm.onChangePath(it, index)}}},[_c('div',{staticClass:\"item-container\",class:{\n                                'border-primary-style-hover': it.path === _vm.filterPath,\n                                'select': it.path === _vm.filterPath\n                             }},[(it.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),_c('img',{staticClass:\"claImg\",attrs:{\"src\":it.iconPath,\"alt\":\"\"}})]),_c('div',{staticClass:\"claName\",class:{\n                        'background': index >= 1\n                     }},[_vm._v(\" \"+_vm._s(_vm.filterFormatName(it.name))+\" \")])])]})],2)]),(!!_vm.filterPath)?_c('div',{staticClass:\"flex-column-item\"},[_c('span',{staticClass:\"name\",on:{\"dblclick\":_vm.onResetSingle}},[_vm._v(\"程度\")]),_c('ts-slider',{staticClass:\"slider\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.filterPath,\"show-tooltip\":false},on:{\"change\":_vm.onChangeAlpha,\"input\":_vm.onInputAlpha,\"ondblclick\":_vm.onResetSingle},model:{value:(_vm.filterAlpha),callback:function ($$v) {_vm.filterAlpha=$$v},expression:\"filterAlpha\"}}),_c('ts-number-placeholder',{staticClass:\"percent\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.filterAlpha,\"value\":_vm.filterAlpha},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":_vm.onLabelChange}})],1):_vm._e(),_c('FilterPanelComponent',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFilterPanelScene),expression:\"showFilterPanelScene\"}],ref:\"filter-panel-component\",attrs:{\"current-select-id\":_vm.filterPath,\"current-slider-value\":_vm.filterAlpha},on:{\"update:currentSliderValue\":function($event){_vm.filterAlpha=$event},\"update:current-slider-value\":function($event){_vm.filterAlpha=$event},\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"on-change-slider\":_vm.onChangeAlpha,\"on-input-slider\":_vm.onInputAlpha,\"on-change-select\":_vm.onChangePath,\"on-close\":function($event){_vm.showFilterPanelScene = false}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ParamModel, { Config } from './ParamModel'\nimport { filterParams } from '@/constants/preset-def'\n\nconst config = filterParams[0]\n\nexport type FilterConfig = Config & {\n    path?: string\n}\n\nexport default class FilterParamModel extends ParamModel {\n    _path: string\n\n    constructor(param: string, config: FilterConfig) {\n        const { min, max, value, path } = config\n        super(param, { min, max, value })\n        this._path = path || ''\n    }\n\n    static get key(): string {\n        return config.key\n    }\n\n    static get pathKey(): string {\n        return config.pathKey\n    }\n\n    set path(path: string) {\n        this._path = path\n    }\n\n    get path(): string {\n        return this._path\n    }\n\n    getFullPath(): string {\n        if (this.path) {\n            return this.path\n        }\n        return ''\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"filter-panel-component\"},[_c('div',{staticClass:\"header\",on:{\"click\":_vm.exitScene}},[_vm._m(0)]),_c('div',{staticClass:\"filter-container global__scroll-style\"},[_vm._l((_vm.filterColumnFormat),function(column,i){return [_c('div',{key:i,staticClass:\"filter-column\"},[_vm._l((column || []),function(it,index){return [_c('div',{key:index,staticClass:\"claItemBox\",on:{\"click\":function($event){return _vm.onChangePath(it, index)}}},[_c('div',{staticClass:\"item-container\",class:{\n                                'border-primary-style-hover': it.path === _vm.filterPath,\n                                'select': it.path === _vm.filterPath\n                           }},[(it.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_vm._e(),(it.isOriginal)?_c('div',{staticClass:\"original-img-container\"},[_c('img',{staticClass:\"original-img\",attrs:{\"src\":_vm.$getIconPath('filter_icon_no_effect@3x.png')}})]):_c('img',{staticClass:\"claImg\",attrs:{\"src\":it.iconPath}})]),_c('div',{staticClass:\"claName\",class:{\n                                'background': index >= 1\n                             }},[_vm._v(_vm._s(_vm._f(\"filterFormatName\")(it.name))+\" \")])])]})],2),(_vm.activeColumn === i && !!_vm.filterPath)?[_c('div',{key:`slider_${i}`,staticClass:\"filter-column-slider\"},[_c('span',{staticClass:\"name\",on:{\"dblclick\":_vm.onResetSingle}},[_vm._v(\"程度\")]),_c('ts-slider',{staticClass:\"slider\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.filterPath,\"show-tooltip\":false},on:{\"input\":function($event){return _vm.$emit('on-input-slider', $event)},\"change\":_vm.onChangeAlpha,\"ondblclick\":_vm.onResetSingle},model:{value:(_vm.filterAlpha),callback:function ($$v) {_vm.filterAlpha=$$v},expression:\"filterAlpha\"}}),_c('ts-number-placeholder',{staticClass:\"percent\",attrs:{\"min\":0,\"max\":100,\"disabled\":!_vm.filterPath,\"value\":_vm.filterAlpha},on:{\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"change\":_vm.onChangeAlpha}})],1)]:_vm._e()]})],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-title\"},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" 滤镜 \")])\n}]\n\nexport { render, staticRenderFns }","<!--滤镜 更多模块-->\n<template>\n    <div class=\"filter-panel-component\">\n        <div class=\"header\"\n             @click=\"exitScene\">\n\n            <div class=\"header-title\">\n                <i class=\"el-icon-arrow-left\"></i>\n                滤镜\n            </div>\n        </div>\n\n        <div class=\"filter-container global__scroll-style\">\n            <template v-for=\"(column, i) in filterColumnFormat\">\n                <div class=\"filter-column\" :key=\"i\">\n                    <template v-for=\"(it, index) in column || []\">\n                        <div\n                            :key=\"index\"\n                            class=\"claItemBox\"\n                            @click=\"onChangePath(it, index)\">\n                            <div class=\"item-container\"\n                                 :class=\"{\n                                    'border-primary-style-hover': it.path === filterPath,\n                                    'select': it.path === filterPath\n                               }\">\n                                <i v-if=\"it.new\" class=\"ts-icon ts-icon-new\"></i>\n                                <div\n                                    v-if=\"it.isOriginal\"\n                                    class=\"original-img-container\"\n                                >\n                                    <img\n                                        :src=\"$getIconPath('filter_icon_no_effect@3x.png')\"\n                                        class=\"original-img\"/>\n                                </div>\n\n                                <img\n                                    v-else\n                                    :src=\"it.iconPath\"\n                                    class=\"claImg\"/>\n\n                            </div>\n                            <div class=\"claName\"\n                                 :class=\"{\n                                    'background': index >= 1\n                                 }\"\n                            >{{ it.name | filterFormatName }}\n                            </div>\n                        </div>\n                    </template>\n                </div>\n\n                <template v-if=\"activeColumn === i && !!filterPath\">\n                    <div class=\"filter-column-slider\" :key=\"`slider_${i}`\">\n                        <span class=\"name\" @dblclick=\"onResetSingle\">程度</span>\n\n                        <ts-slider\n                            class=\"slider\"\n                            :min=\"0\"\n                            :max=\"100\"\n                            :disabled=\"!filterPath\"\n                            :show-tooltip=\"false\"\n                            v-model=\"filterAlpha\"\n                            @input=\"$emit('on-input-slider', $event)\"\n                            @change=\"onChangeAlpha\"\n                            @ondblclick=\"onResetSingle\"\n                        >\n                        </ts-slider>\n\n                        <ts-number-placeholder\n                            class=\"percent\"\n                            :min=\"0\"\n                            :max=\"100\"\n                            :disabled=\"!filterPath\"\n                            :value=\"filterAlpha\"\n                            @on-blur=\"$emit('on-blur')\"\n                            @on-focus=\"$emit('on-focus')\"\n                            @change=\"onChangeAlpha\"\n                        />\n                    </div>\n                </template>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport store from '@/store'\nimport TsSlider from '@/components/TsSlider'\nimport { convertToMultArray } from '@/utils/utils'\nimport TsNumberPlaceholder from 'components/TsNumberPlaceholder'\n\nexport default {\n    name: 'FilterPanelComponent',\n\n    components: {\n        'ts-slider': TsSlider,\n        TsNumberPlaceholder\n    },\n\n    props: {\n        currentSelectId: {\n            type: String,\n            default: ''\n        },\n        currentSliderValue: {\n            type: Number,\n            default: 0\n        }\n    },\n\n    data() {\n        return {\n            row: 3,\n            filterPath: '',\n            filterAlpha: 0\n        }\n    },\n    computed: {\n        filterList() {\n            return this.$store.getters['presetSuit/filterList']\n        },\n        filterPathCache() {\n            return this.$store.getters['project/filterPathCache']\n        },\n        filterColumnFormat() {\n            return convertToMultArray(this.filterList, 3)\n        },\n        activeColumn() {\n            let column = 0\n            this.filterColumnFormat.forEach((item, index) => {\n                if (item.some(filter => filter.path === this.filterPath)) {\n                    column = index\n                }\n            })\n            return column\n        }\n    },\n\n    watch: {\n        currentSelectId(val) {\n            this.filterPath = val\n        },\n        currentSliderValue(val) {\n            this.filterAlpha = val\n        },\n\n        filterAlpha(val) {\n            this.$emit('update:currentSliderValue', val)\n        }\n    },\n\n    filters: {\n        filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n    },\n    methods: {\n        onResetSingle() {\n            const obj = this.filterList.find(item => item.path === this.filterPath)\n            if (this.filterAlpha === obj.value) {\n                return\n            }\n\n            this.onChangeAlpha(obj.value)\n        },\n\n        onChangeAlpha($event) {\n            this.filterAlpha = $event\n\n            store.dispatch('project/ACT_SetFiltersSelectCache', {\n                path: this.filterPath,\n                value: this.filterAlpha\n            })\n\n            this.$emit('on-change-slider', this.filterAlpha)\n        },\n\n        exitScene() {\n            this.$emit('on-close')\n        },\n\n        onChangePath(item, index) {\n            this.filterPath = item.path\n\n            if (!this.filterPath) {\n                this.filterAlpha = 0\n            }\n\n            this.$emit('on-change-select', item, index)\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.filter-panel-component {\n    position: fixed;\n    right: 45px;\n    bottom: 0;\n    top: 48px;\n    flex-shrink: 0;\n    z-index: 1000;\n    display: flex;\n    flex-direction: column;\n    width: 300px;\n    background: #282828;\n\n    .header {\n        height: 38px;\n        line-height: 38px;\n        display: flex;\n        align-items: center;\n        border-bottom: 1px solid #1E1E1E;\n        padding: 0 15px;\n\n        &-title {\n            font-size: 12px;\n            color: #D9D9D9;\n\n            &:hover {\n                color: #fff;\n            }\n\n            .el-icon-arrow-left {\n                font-size: 14px;\n            }\n        }\n    }\n\n    .filter-container {\n        padding: 8.5px 17px;\n        overflow-y: overlay;\n        overflow-x: hidden;\n    }\n\n    .filter-column {\n        display: flex;\n    }\n\n    .claItemBox {\n        margin-bottom: 8px;\n        aspect-ratio: 1 / 1;\n        display: flex;\n        flex-direction: column;\n        margin-right: 6px;\n\n        &:last-child {\n            margin-right: 0;\n        }\n\n        .item-container {\n            box-sizing: border-box;\n            padding: 1px;\n            width: 84px;\n            height: 84px;\n            border-radius: 4px;\n            aspect-ratio: 1 / 1;\n            display: flex;\n            flex-direction: row;\n            position: relative;\n            overflow: hidden;\n\n            .ts-icon-new {\n                position: absolute;\n                left: 1px;\n                top: 1px;\n                width: 23px;\n                height: 10px;\n                padding: 0px 0px;\n                pointer-events: none;\n            }\n\n            &.select {\n                border-width: 1px;\n                border-style: solid;\n                box-sizing: border-box;\n            }\n\n            .claImg {\n                border-radius: 4px;\n                width: 100%;\n                object-fit: cover;\n                background: grey;\n            }\n\n            .original-img-container {\n                width: 84px;\n                height: 84px;\n                border-radius: 4px;\n                aspect-ratio: 1 / 1;\n                display: flex;\n                flex-direction: row;\n                position: relative;\n                overflow: hidden;\n                background: #393939;\n                align-items: center;\n                justify-content: center;\n\n                .original-img {\n                    width: 18px;\n                    height: 18px;\n                }\n            }\n\n            .background {\n                background-image: linear-gradient(#cc000000, #000000);\n            }\n        }\n\n        .claName {\n            margin-top: 4px;\n            height: 14px;\n            line-height: 14px;\n            font-size: 10px;\n            color: #A6A6A6;\n            text-align: center;\n            font-weight: 400;\n            width: 100%;\n        }\n\n    }\n\n    .filter-column-slider {\n        height: 28px;\n        display: flex;\n        font-size: 12px;\n        color: #A6A6A6;\n        line-height: 21px;\n        font-weight: 400;\n        box-sizing: border-box;\n        align-items: center;\n        flex-direction: row;\n        margin-bottom: 10px;\n\n        .label {\n            margin-right: 8px;\n\n            .percent {\n                &:hover {\n                    color: #2D6B96;\n                }\n            }\n        }\n\n        .select {\n            ///deep/ .el-input--mini .el-input__inner {\n            //    height: 24px;\n            //    line-height: 24px;\n            //}\n            /deep/ .el-input__inner {\n                height: 24px;\n                margin-top: 4px;\n\n            }\n\n            /deep/ .el-input__suffix {\n                top: 3px;\n\n                .el-select__caret {\n                    font-size: 14px;\n                }\n            }\n        }\n\n        /deep/ .slider.el-slider {\n            .el-slider__runway {\n                background: #333333;\n                margin: 2px 0;\n\n                .el-slider__bar {\n                    background: #999999;\n                }\n\n                .el-slider__button {\n                    border: none !important;\n                    background: #EDEDED;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.15);\n                }\n            }\n        }\n\n        .slider {\n            position: relative;\n            flex: 1;\n            margin: 8px 12px;\n\n            /deep/ {\n\n                .el-slider__input.el-input-number--mini {\n                    width: 39px;\n                    height: 22px;\n\n                    .el-input--mini .el-input__inner {\n                        height: 22px;\n                        line-height: 22px;\n                        font-size: 12px;\n                        padding-left: 3px;\n                        padding-right: 3px;\n                    }\n                }\n\n                .el-slider__runway.show-input {\n                    margin-right: 50px;\n                }\n\n                .el-slider__bar {\n                    margin-left: -7px;\n                }\n\n                .el-slider__runway {\n\n                    &::before {\n                        position: absolute;\n                        content: \" \";\n                        background: inherit;\n                        width: calc(100% + 14px);\n                        height: 2px;\n                        top: calc(50% - 1px);\n                        left: -7px;\n                        right: 0px;\n                        border-radius: 3px;\n                    }\n\n                    .el-slider__button-wrapper {\n                        height: 16px;\n                        width: 16px;\n                        top: -8px;\n                    }\n                }\n\n\n            }\n        }\n\n        .slider /deep/ .el-slider__runway:before {\n            position: absolute;\n            content: \" \";\n            background: inherit;\n            width: calc(100% + 14px);\n            height: 2px;\n            top: calc(50% - 1px);\n            left: -7px;\n            right: 0px;\n            border-radius: 3px;\n        }\n    }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPanelComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPanelComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterPanelComponent.vue?vue&type=template&id=68e5660f&scoped=true&\"\nimport script from \"./FilterPanelComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterPanelComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterPanelComponent.vue?vue&type=style&index=0&id=68e5660f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68e5660f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"custom-collapse-item\">\n        <div class=\"filter-container\">\n\n            <div class=\"more-container\">\n                <span @click=\"showFilterPanelView\">查看更多</span>\n                <i class=\"el-icon-arrow-right\"></i>\n            </div>\n\n            <div class=\"filter-list\">\n                <template v-for=\"(it, index) in matchFilterList || []\">\n                    <div\n                        :key=\"index\"\n                        class=\"claItemBox\"\n                        :style=\"{ marginLeft: getMarginLeft(index)+'px', marginRight: getMarginRight(index)+'px'}\"\n                        @click=\"onChangePath(it, index)\">\n\n                        <div class=\"item-container\"\n                             :class=\"{\n                                'border-primary-style-hover': it.path === filterPath,\n                                'select': it.path === filterPath\n                             }\"\n                        >\n                            <i v-if=\"it.new\" class=\"ts-icon ts-icon-new\"></i>\n                            <img\n                                :src=\"it.iconPath\"\n                                class=\"claImg\"\n                                alt=\"\"\n                            />\n                        </div>\n                        <div class=\"claName\"\n                             :class=\"{\n                        'background': index >= 1\n                     }\"\n                        > {{ filterFormatName(it.name) }}\n                        </div>\n                    </div>\n                </template>\n            </div>\n        </div>\n\n        <div class=\"flex-column-item\" v-if=\"!!filterPath\">\n            <span class=\"name\" @dblclick=\"onResetSingle\">程度</span>\n\n            <ts-slider\n                class=\"slider\"\n                :min=\"0\"\n                :max=\"100\"\n                :disabled=\"!filterPath\"\n                :show-tooltip=\"false\"\n                v-model=\"filterAlpha\"\n                @change=\"onChangeAlpha\"\n                @input=\"onInputAlpha\"\n                @ondblclick=\"onResetSingle\"\n            >\n            </ts-slider>\n\n            <ts-number-placeholder\n                class=\"percent\"\n                :min=\"0\"\n                :max=\"100\"\n                :disabled=\"!filterAlpha\"\n                :value=\"filterAlpha\"\n                @on-blur=\"$emit('on-blur')\"\n                @on-focus=\"$emit('on-focus')\"\n                @change=\"onLabelChange\"\n            />\n        </div>\n\n        <FilterPanelComponent\n            ref=\"filter-panel-component\"\n            :current-select-id=\"filterPath\"\n            :current-slider-value.sync=\"filterAlpha\"\n            v-show=\"showFilterPanelScene\"\n            @on-blur=\"$emit('on-blur')\"\n            @on-focus=\"$emit('on-focus')\"\n            @on-change-slider=\"onChangeAlpha\"\n            @on-input-slider=\"onInputAlpha\"\n            @on-change-select=\"onChangePath\"\n            @on-close=\"showFilterPanelScene = false\"\n        />\n<!--        @on-selection=\"PointSelectFilter\"-->\n    </div>\n</template>\n\n<script>\nimport Vue, { computed, nextTick, onMounted, ref, watch } from 'vue'\nimport store from '@/store'\n\nimport { isEqual } from 'lodash'\n\nimport { CollapseItem } from 'element-ui'\nimport TsSlider from '@/components/TsSlider'\nimport pointsMixin from '@/mixins/pointsMixin'\nimport FilterParamModel from '@/model/ParamsModel/FilterParamModel'\nimport TsNumberPlaceholder from '@/components/TsNumberPlaceholder'\nimport FilterPanelComponent from '@/views/PhotoFinishing/Components/FilterPanelComponent'\nimport EffectModel from '@/model/EffectsModel/EffectModel'\nimport { EffectNameEnum } from '@/constants/presetParams/ParamEnum'\n\nconst pathKey = EffectModel.identify(EffectNameEnum.Filter)\nconst alphaKey = FilterParamModel.key\n\nexport default {\n    name: 'custom-collapse-item',\n    components: {\n        TsNumberPlaceholder,\n        'el-collapse-item': CollapseItem,\n        'ts-slider': TsSlider,\n        FilterPanelComponent\n    },\n    props: {\n        active: Boolean,\n        initParams: Object, // 初始参数，子组件重置作用\n        data: {\n            type: Object,\n            default: () => {\n            }\n        },\n        type: String,\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { emit }) {\n        // 组合式API不能用mixins\n        const PointsMixinConstructor = Vue.extend(pointsMixin)\n        const tsGtag = new PointsMixinConstructor()\n\n        const filterPath = ref('')\n        const filterAlpha = ref(0)\n        const tempFilterAlpha = ref(0)\n\n\n        const showFilterPanelScene = ref(false)\n\n        const filterPathCache = computed(_ => store.getters['project/filterPathCache'])\n        const filterList = computed(_ => store.getters['presetSuit/filterList'])\n        const matchFilterList = computed(_ => store.getters['presetSuit/matchFilterList'](filterPath.value))\n\n        const isModify = computed(_ => !(isEqual(filterPath.value, '') && isEqual(filterAlpha.value, 0)))\n        watch(isModify, (v) => emit('on-modify', v))\n\n        function getMarginLeft(index) {\n            if (index % 4 === 0) {\n                return 0\n            } else {\n                return 0\n            }\n        }\n\n        function getMarginRight(index) {\n            if (index / 3 === 1) {\n                return 0\n            } else {\n                return 7\n            }\n        }\n\n        function filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n\n        const onChange = (changeData, operation, ext) => {\n            const data = {\n                filterPath: filterPath.value,\n                filterAlpha: filterAlpha.value\n            }\n            tempFilterAlpha.value = filterAlpha.value\n            emit('on-change', data, changeData, operation, ext)\n        }\n\n        const onInput = (changeData, operation) => {\n            const data = {\n                filterPath: filterPath.value,\n                filterAlpha: filterAlpha.value\n            }\n            emit('on-input', data, changeData, operation)\n        }\n\n        const onChangePath = (it, index) => {\n            filterPath.value = it.path\n            if (!filterPath.value) {\n                filterAlpha.value = 0\n            } else {\n                if (filterPathCache.value.hasOwnProperty(filterPath.value)) {\n                    filterAlpha.value = filterPathCache.value[filterPath.value]\n                } else {\n                    const obj = filterList.value.find(item => item.path === filterPath.value)\n                    filterAlpha.value = obj.value\n                }\n            }\n\n            emit('on-selection', filterList.value.find(item => item.path === filterPath.value))\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n\n            let itemInfo = filterList.value.find(item => item.path === filterPath.value)\n\n            extInfo.labName = \"滤镜\"\n            extInfo.optDesc = itemInfo.name\n\n            onChange({\n                [pathKey]: filterPath.value,\n                [alphaKey]: filterAlpha.value\n            }, 'manual', JSON.stringify(extInfo))\n\n            tsGtag.PointSelectFilter(itemInfo)\n        }\n\n        const onChangeAlpha = ($event) => {\n            filterAlpha.value = $event\n\n            store.dispatch('project/ACT_SetFiltersSelectCache', {\n                path: filterPath.value,\n                value: filterAlpha.value\n            })\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n            extInfo.labName = \"滤镜程度\"\n            extInfo.optDesc = filterAlpha.value\n\n            onChange({\n                [alphaKey]: filterAlpha.value\n            }, 'manual',  JSON.stringify(extInfo))\n        }\n\n        const onInputAlpha = () => {\n            if (tempFilterAlpha.value === filterAlpha.value) {\n                return\n            }\n            onInput({ [alphaKey]: filterAlpha.value }, 'manual', 'on-input')\n        }\n\n        const init = (data) => {\n            if (Object.hasOwnProperty.call(data, alphaKey)) {\n                const value = data[alphaKey]\n                filterAlpha.value = value\n                tempFilterAlpha.value = value\n            }\n\n            if (Object.hasOwnProperty.call(data, pathKey)) {\n                filterPath.value = data[pathKey]\n            }\n        }\n\n        const reset = () => {\n            filterPath.value = ''\n            filterAlpha.value = 0\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n            extInfo.labName = \"滤镜\"\n            extInfo.optDesc = \"重置\"\n\n            onChange({\n                [pathKey]: filterPath.value,\n                [alphaKey]: filterAlpha.value\n            }, 'reset', JSON.stringify(extInfo))\n        }\n\n        const onLabelChange = (value) => {\n            if (value !== filterAlpha.value) {\n                filterAlpha.value = value\n                onChangeAlpha(filterAlpha.value)\n                tsGtag.PointManualModifyComplete()\n            }\n        }\n\n        const onLabelClick = (e) => {\n            if (!filterPath.value) return\n            isClicked.value = true\n            const placeholderDom = createDom(e.target)\n            const InputConstructor = Vue.extend(Input)\n            const shortcutHelper = ShortcutHelper.getInstance()\n            shortcutHelper.unRegisterShortcut()\n            const oldValue = filterAlpha.value\n            inputVDom.value = new InputConstructor({\n                propsData: {\n                    changeCallBack: (value) => {\n                        const realValue = formatInputValue(value, { oldValue })\n                        if (realValue !== oldValue) {\n                            filterAlpha.value = realValue\n                            tsGtag.PointManualModifyComplete()\n                            onChangeAlpha()\n                        }\n                        isClicked.value = false\n                        inputVDom.value.destroy()\n                        inputVDom.value = null\n                        shortcutHelper.registerShortcut()\n                    },\n                    value: oldValue,\n                    autofocus: true\n                }\n            }).$mount(placeholderDom)\n        }\n\n\n\n        const onResetSingle = () => {\n            const obj = filterList.value.find(item => item.path === filterPath.value)\n            if (filterAlpha.value === obj.value) return\n            filterAlpha.value = obj.value\n            onChangeAlpha(filterAlpha.value)\n        }\n\n        function showFilterPanelView() {\n            showFilterPanelScene.value = true\n        }\n\n        return {\n            filterList,\n            filterPath,\n            filterAlpha,\n            isModify,\n            matchFilterList,\n\n            init,\n            reset,\n\n            onChangePath,\n            onChangeAlpha,\n            onInputAlpha,\n            onLabelChange,\n            onResetSingle,\n\n            getMarginLeft,\n            getMarginRight,\n            filterFormatName,\n\n            showFilterPanelScene,\n            showFilterPanelView\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.filter-popper-class.el-select-dropdown {\n    .el-scrollbar {\n        .el-select-dropdown__wrap.el-scrollbar__wrap {\n            max-height: 200px !important;\n            height: 200px;\n        }\n    }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n// 字体颜色\n$smallFontSize: 13px; // 主要文字\n$smallFontColor: #B8B8B8; // 小文案主题色\n$placeholderFontColor: #C0C4CC; // 占位文字\n\n.filter-popper-class.el-select-dropdown {\n    .el-scrollbar {\n        .el-select-dropdown__wrap.el-scrollbar__wrap {\n            .el-select-dropdown__item {\n                height: 28px;\n                line-height: 28px;\n                font-size: 12px;\n            }\n        }\n    }\n\n    .ts-icon {\n        width: 22px;\n        height: 11px;\n        margin-left: 6px;\n        vertical-align: middle;\n    }\n}\n\n.custom-collapse-item {\n    /deep/ {\n        .el-collapse-item__content {\n            padding-bottom: 8px;\n        }\n    }\n\n    .filter-container {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n        box-sizing: border-box;\n\n        .more-container {\n            width: 100%;\n            height: 32px;\n            display: flex;\n            flex-direction: row;\n            justify-content: flex-end;\n            align-items: center;\n\n            span {\n                margin-right: 2px;\n                justify-content: right;\n                font-family: PingFangSC-Regular;\n                font-size: 11px;\n                color: #ffffffcc;\n                line-height: 24px;\n                font-weight: 400;\n\n                &:hover {\n                    color: #fff;\n                }\n            }\n\n            /deep/ {\n                .el-icon-arrow-right {\n                    margin-right: 0 !important;\n                }\n            }\n\n        }\n\n\n        .filter-list {\n\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: wrap;\n            box-sizing: border-box;\n\n            .select {\n                border-width: 1px;\n                border-style: solid;\n                box-sizing: border-box;\n            }\n\n            .claItemBox {\n\n                margin-bottom: 8px;\n                aspect-ratio: 1 / 1;\n                display: flex;\n                flex-direction: column;\n\n                .item-container {\n                    width: 60px;\n                    height: 60px;\n                    box-sizing: border-box;\n                    padding: 1px;\n                    border-radius: 4px;\n                    aspect-ratio: 1 / 1;\n                    display: flex;\n                    flex-direction: row;\n                    position: relative;\n                    overflow: hidden;\n\n                    .ts-icon-new {\n                        position: absolute;\n                        left: 1px;\n                        top: 1px;\n                        width: 23px;\n                        height: 10px;\n                        padding: 0 0;\n                        pointer-events: none;\n                    }\n\n                    .claImg {\n                        border-radius: 4px;\n                        width: 100%;\n                        object-fit: cover;\n                        background: grey;\n                    }\n\n                    .background {\n                        background-image: linear-gradient(#cc000000, #000000);\n                    }\n                }\n\n                .claName {\n                    width: 100%;\n                    font-family: PingFangSC-Regular;\n                    font-size: 10px;\n                    margin-top: 2px;\n                    align-items: center;\n                    color: #A6A6A6;\n                    text-align: center;\n                    font-weight: 400;\n                }\n\n            }\n        }\n    }\n\n\n    .flex-item, .flex-column-item {\n        display: flex;\n        font-size: 12px;\n        color: #A6A6A6;\n        line-height: 21px;\n        font-weight: 400;\n        box-sizing: border-box;\n\n        .label {\n            margin-right: 8px;\n\n            .percent {\n                &:hover {\n                    color: #2D6B96;\n                }\n            }\n        }\n\n        .select {\n            ///deep/ .el-input--mini .el-input__inner {\n            //    height: 24px;\n            //    line-height: 24px;\n            //}\n            /deep/ .el-input__inner {\n                height: 24px;\n                margin-top: 4px;\n\n            }\n\n            /deep/ .el-input__suffix {\n                top: 3px;\n\n                .el-select__caret {\n                    font-size: 14px;\n                }\n            }\n        }\n    }\n\n    .flex-item {\n        align-items: center;\n\n        .label {\n            margin-right: 8px;\n        }\n\n        .select {\n            /deep/ .el-input--mini .el-input__inner {\n                height: 24px;\n                line-height: 24px;\n            }\n        }\n    }\n\n    .flex-column-item {\n        align-items: center;\n        flex-direction: row;\n\n        .label {\n            display: flex;\n            justify-content: space-between;\n            margin-right: 0;\n        }\n    }\n\n    /deep/ .slider.el-slider {\n        .el-slider__runway {\n            background: #333333;\n            margin: 2px 0;\n\n            .el-slider__bar {\n                background: #999999;\n            }\n\n            .el-slider__button {\n                border: none !important;\n                background: #EDEDED;\n                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.15);\n            }\n        }\n    }\n\n    .slider {\n        position: relative;\n        flex: 1;\n        margin: 8px 12px;\n\n        /deep/ {\n\n            .el-slider__input.el-input-number--mini {\n                width: 39px;\n                height: 22px;\n\n                .el-input--mini .el-input__inner {\n                    height: 22px;\n                    line-height: 22px;\n                    font-size: 12px;\n                    padding-left: 3px;\n                    padding-right: 3px;\n                }\n            }\n\n            .el-slider__runway.show-input {\n                margin-right: 50px;\n            }\n\n            .el-slider__bar {\n                margin-left: -7px;\n            }\n\n            .el-slider__runway {\n\n                &::before {\n                    position: absolute;\n                    content: \" \";\n                    background: inherit;\n                    width: calc(100% + 14px);\n                    height: 2px;\n                    top: calc(50% - 1px);\n                    left: -7px;\n                    right: 0px;\n                    border-radius: 3px;\n                }\n\n                .el-slider__button-wrapper {\n                    height: 16px;\n                    width: 16px;\n                    top: -8px;\n                }\n            }\n\n\n        }\n    }\n\n    .slider /deep/ .el-slider__runway:before {\n        position: absolute;\n        content: \" \";\n        background: inherit;\n        width: calc(100% + 14px);\n        height: 2px;\n        top: calc(50% - 1px);\n        left: -7px;\n        right: 0px;\n        border-radius: 3px;\n    }\n}\n\n.params-adjust-group-item-title {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 16px;\n    font-size: $smallFontSize;\n\n\n    > span {\n        font-size: 12px;\n        font-weight: 500;\n    }\n\n    .title-label {\n        color: $smallFontColor;\n        font-weight: 500;\n        font-size: 10px;\n    }\n\n    .reset-btn-icon {\n        font-size: 16px;\n    }\n\n    .icon {\n        display: inline-block;\n        font-size: 12px;\n        color: #c0c4cc;\n        position: relative;\n        top: -6px;\n        margin-right: 3px;\n    }\n\n}\n\n.params-adjust-group-item-label {\n    color: $placeholderFontColor;\n    text-align: center;\n}\n\n.params-adjust-group-component {\n    /deep/ {\n        .divider {\n            width: calc(100% + 32px);\n            position: relative;\n            left: -16px;\n        }\n\n        .el-slider {\n            .el-slider__runway {\n                background: #333333;\n                margin: 2px 0;\n\n                .el-slider__bar {\n                    background: #999999;\n                }\n\n                .el-slider__button {\n                    border: none !important;\n                    background: #EDEDED;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.15);\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterComponent.vue?vue&type=template&id=8c70ce0a&scoped=true&\"\nimport script from \"./FilterComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterComponent.vue?vue&type=style&index=0&id=8c70ce0a&prod&lang=scss&\"\nimport style1 from \"./FilterComponent.vue?vue&type=style&index=1&id=8c70ce0a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c70ce0a\",\n  null\n  \n)\n\nexport default component.exports","import { IObject } from '@/types'\nimport { IDataJson, IExtInfo } from '../../types/history'\nimport { EffectParamPersonTypeValue } from '@/constants/presetParams/ParamEnum'\nimport { IPersonType } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\n\nexport default class BaseHistory {\n    key: string\n    value: number\n    type: string\n\n    name: string\n    title?: string\n    groupName?: string\n\n    collapse?: boolean\n    realtime?: boolean | number\n    filter?: boolean\n\n    parent?: BaseHistory\n\n    formatValue?: (numb: number) => number\n\n    constructor(data: IDataJson) {\n        this.key = data.key\n        this.value = data.value\n        this.type = data.cType || 'slider'\n        this.name = data.name\n\n        if (typeof data.cTitle !== 'undefined') {\n            this.title = data.cTitle\n        }\n\n        if (typeof data.groupName !== 'undefined') {\n            this.groupName = data.groupName\n        }\n\n        if (typeof data.realtime !== 'undefined') {\n            this.realtime = data.realtime\n        }\n\n        if (typeof data.collapse !== 'undefined') {\n            this.collapse = data.collapse\n        }\n\n        if (typeof data.filter !== 'undefined') {\n            this.filter = data.filter\n        }\n\n        if (typeof data.parent !== 'undefined') {\n            this.parent = data.parent\n        }\n\n        if (typeof data.formatValue === 'function') {\n            this.formatValue = data.formatValue\n        }\n    }\n\n    getCommonLabel(): string[] {\n        const labelArr: string[] = []\n        if (this.parent) {\n            if (this.parent.type === 'group' && this.groupName) {\n                labelArr.push(this.groupName)\n            }\n\n            if (this.parent.collapse) {\n                labelArr.push(this.parent.name)\n            }\n        }\n\n        if (this.title) {\n            labelArr.push(this.title)\n        }\n\n        return labelArr\n    }\n\n    getLabelName(data: IObject): string {\n        if (this.name) {\n            return this.name\n        }\n        return ''\n    }\n\n    getLabelArr(data: IObject): string[] {\n        const commonArr = this.getCommonLabel()\n\n        const name = this.getLabelName(data)\n        if (name) {\n            commonArr.push(name)\n        }\n\n        return commonArr\n    }\n\n    getValue(data: IObject): number | string {\n        if (data[this.key] === undefined) {\n            return this.value\n        }\n        return data[this.key]\n    }\n\n    getOptDesc(data: IObject): number | string {\n        if (this.formatValue) {\n            return this.formatValue(this.getValue(data) as number)\n        }\n        return this.getValue(data)\n    }\n\n    getPersonType(): number {\n        if (/^\\w+_(Male|Female|Child|Older)$/.test(this.key)) {\n            const matchArr = this.key.match(/^\\w+_(Male|Female|Child|Older)$/) || []\n            const pt = matchArr[1] as IPersonType\n            return EffectParamPersonTypeValue[pt]\n        }\n        return -1\n    }\n\n    getHistoryExtInfo(data: IObject): string {\n        const extInfo: IExtInfo = {\n            labName: '',\n            lab2Name: '',\n            lab3Name: '',\n            isRest: false,\n            optDesc: this.getOptDesc(data)\n        }\n\n        const labelArr = this.getLabelArr(data)\n\n        labelArr.forEach((label, i) => {\n            switch (i) {\n                case 0:\n                    extInfo.labName = label\n                    break\n                case 1:\n                    extInfo.lab2Name = label\n                    break\n                case 2:\n                    extInfo.lab3Name = label\n                    break\n            }\n        })\n\n        const sex = this.getPersonType()\n        if (sex !== -1) {\n            extInfo.sex = sex\n        }\n\n        extInfo.optDesc = extInfo.optDesc.toString()\n\n        return JSON.stringify(extInfo)\n    }\n}\n","import BaseHistory from './BaseHistory'\nimport { IObject } from '@/types'\n\nexport default class SwitchHistory extends BaseHistory {\n    getOptDesc(data: IObject): number | string {\n        const value = this.getValue(data)\n        return value ? '开启' : '关闭'\n    }\n}\n","import BaseHistory from './BaseHistory'\nimport { IDataJson } from '../../types/history'\nimport { ISelectOption } from '../../types'\nimport { IObject } from '@/types'\n\nexport default class SelectHistory extends BaseHistory {\n    options: ISelectOption[] = []\n\n    constructor(data: IDataJson) {\n        super(data)\n\n        if (typeof data.options === 'object') {\n            this.options = data.options as ISelectOption[]\n        }\n    }\n\n    getOptDesc(data: IObject): number | string {\n        const value = this.getValue(data)\n\n        const obj = this.options.find(item => item.value === value)\n        if (obj) {\n            let res = '';\n            if (obj.parent) {\n                res += obj.parent + \" - \"\n            }\n            let ext = obj.name || obj.label  || ''\n            res += ext;\n            return res\n        }\n\n        return ''\n    }\n}\n","import BaseHistory from './BaseHistory'\nimport { IDataJson } from '../../types/history'\nimport { IObject } from '@/types'\n\nexport default class TsSliderGroupHistory extends BaseHistory {\n    keys: string[] = []\n\n    constructor(data: IDataJson) {\n        super(data)\n\n        if (typeof data.keys !== 'undefined') {\n            this.keys = data.keys\n        }\n    }\n\n    getLabelName(data: IObject): string {\n        let name = ''\n        const keys = Object.keys(data)\n        const value = data[this.key] || this.value\n\n        if (this.type === 'ts-slider-group') {\n            if (!this.keys?.every(key => data[key] === value) || keys.length === 1) {\n                name = this.name\n            }\n        } else {\n            name = this.name\n        }\n        return name\n    }\n}\n","import BaseHistory from './BaseHistory'\nimport { IObject } from '@/types'\nimport { ISelectOption } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types'\nimport { IDataJson } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/types/history'\n\nexport default class CheckboxHistory extends BaseHistory {\n\n    parentName?: string\n    trueLabel?: string\n    falseLabel?: string\n\n    constructor(data: IDataJson) {\n        super(data)\n        this.parentName = data.parentName\n        this.falseLabel = data.falseLabel\n        this.trueLabel = data.trueLabel\n    }\n\n    getOptDesc(data: IObject): number | string {\n        const value = this.getValue(data)\n        if (value === this.trueLabel) {\n            return '开启'\n        } else {\n            return '关闭'\n        }\n    }\n\n    getCommonLabel(): string[] {\n        const labelArr: string[] = []\n\n        if (this.parentName) {\n            labelArr.push(this.parentName)\n        }\n\n        return labelArr\n    }\n\n}\n","// @ts-ignore\nimport { IObject } from '@/types'\nimport { IDataJson, IGroupItem, IExtInfo } from '../types/history'\nimport { IComponentParamAfter, IRealtimeKeys } from '../types'\n\nimport BaseHistory from './HistoryImps/BaseHistory'\nimport SwitchHistory from './HistoryImps/SwitchHistory'\nimport SelectHistory from './HistoryImps/SelectHistory'\nimport TsSliderGroupHistory from './HistoryImps/TsSliderGroupHistory'\nimport CheckboxHistory\n    from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents/model/HistoryImps/CheckboxHistory'\n\n// @ts-ignore\nimport { beautyGroup } from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents'\nimport { EffectParamEnum, EffectParamPersonTypeValue } from '@/constants/presetParams/ParamEnum'\nimport { RealtimeType } from '@/constants/constants'\n\nexport type HistoryCollection = BaseHistory | SwitchHistory | SelectHistory | TsSliderGroupHistory\n\nexport default class HistoryRecord {\n    _group: IGroupItem\n    _realtimeMap: Map<string, number | boolean> = new Map()\n    _slotRealtimeKeys: IRealtimeKeys = []\n    _componentMap: Map<string, HistoryCollection> = new Map()\n    _filterHistoryKeys: string[] = [EffectParamEnum.BgCleanMode, EffectParamEnum.BgCleanMooreMode]\n\n    constructor(group: IGroupItem, data: IDataJson[]) {\n        this._group = group\n        const res = HistoryRecord.init(data)\n\n        this._componentMap = res[0]\n        this._slotRealtimeKeys = res[1]\n\n        this._realtimeMap = HistoryRecord.getRealtimeMap(this._componentMap)\n        this.initSlotRealtimeKeys(this._slotRealtimeKeys)\n    }\n\n    static init(data: IDataJson[], parent?: HistoryCollection): [Map<string, HistoryCollection>, IRealtimeKeys] {\n        const map: Map<string, HistoryCollection> = new Map()\n        const slotRealtimeKeys: IRealtimeKeys = []\n\n        data.forEach(item => {\n            if (item.cType === 'slot') {\n                if (item.realtime && item.realtimeKeys && item.realtimeKeys.length > 0) {\n                    slotRealtimeKeys.push(...item.realtimeKeys)\n                }\n                return\n            }\n\n            if (item.cType === 'ts-slider-group') {\n                item.options?.forEach((child: IComponentParamAfter, i: number) => {\n                    const key = item.keys ? item.keys[i] : ''\n                    if (!key) {\n                        console.warn('[ts-slider-group] option need keys')\n                        return\n                    }\n                    const config = { ...item, ...child, key, parent }\n                    const model = new TsSliderGroupHistory(config)\n\n                    map.set(key, model)\n                })\n            } else {\n                let model: HistoryCollection\n                const config = { ...item, parent }\n                if (item.cType === 'switch') {\n                    model = new SwitchHistory(config)\n                } else if (item.cType === 'select') {\n                    model = new SelectHistory(config)\n                } else if (item.cType === 'checkbox') {\n                    model = new CheckboxHistory(config)\n                }\n                else {\n                    model = new BaseHistory(config)\n                }\n                map.set(item.key, model)\n\n                if (item.cType === 'group' && item.children && item.children.length > 0) {\n                    item.children.forEach((child: any) => {\n                        if (child.data && child.data.length > 0) {\n                            const formatData = child.data.map((cd: any) => {\n                                return { ...cd, groupName: child.label }\n                            })\n\n                            const [childRes, rKeys] = HistoryRecord.init(formatData, model)\n                            slotRealtimeKeys.push(...rKeys)\n\n\n                            for (const [key, model] of childRes) {\n                                map.set(key, model)\n                            }\n                        }\n                    })\n                }\n\n                if (item.collapse && item.children && item.children.length > 0) {\n                    const [childRes, rKeys] = HistoryRecord.init(item.children, model)\n                    slotRealtimeKeys.push(...rKeys)\n\n                    for (const [key, model] of childRes) {\n                        map.set(key, model)\n                    }\n                }\n            }\n        })\n\n        return [map, slotRealtimeKeys]\n    }\n\n    static getRealtimeMap(map: Map<string, HistoryCollection>): Map<string, boolean> {\n        const realtimeMap = new Map()\n        for (const [key, model] of map) {\n            if (model.realtime) {\n                realtimeMap.set(key, model.realtime)\n            }\n        }\n        return realtimeMap\n    }\n\n    get realtimeMap(): Map<string, number | boolean> {\n        return this._realtimeMap\n    }\n\n    initSlotRealtimeKeys(realtimeKeys: IRealtimeKeys): void {\n        realtimeKeys.forEach(item => {\n            this._realtimeMap.set(item.key, item.realtime)\n        })\n    }\n\n    createHistoryRecord(data: IObject): string {\n        const keys = Object.keys(data)\n        const len = keys.length\n\n        if (len <= 0) {\n            return ''\n        }\n\n        if (len <= 2) {\n            const key = keys[0]\n            if (this._filterHistoryKeys.includes(key)) {\n                return ''\n            }\n\n            if (this._componentMap.has(key)) {\n                const model = this._componentMap.get(key)\n                return model?.getHistoryExtInfo(data) || ''\n            }\n        }\n\n        return ''\n    }\n\n    createResetHistoryRecord(personType: string): string {\n        const extInfo: IExtInfo = {\n            labName: this._group.name,\n            isRest: true,\n            lab2Name: '',\n            lab3Name: '',\n            optDesc: '重置'\n        }\n        let key = this._group.component\n        let list = beautyGroup\n        for (const listElement of list) {\n            if (listElement.key === key) {\n                // @ts-ignore\n                extInfo.sex = EffectParamPersonTypeValue[personType]\n            }\n        }\n\n        return JSON.stringify(extInfo)\n    }\n\n    // 实时效果是否有效，条件判断集\n    static isValidRealtime(value: boolean | number, enable: boolean): boolean {\n        console.debug('isValidRealtime: ', value)\n        if (value === RealtimeType.EnableByGpu) {\n            return enable;\n        } else if (typeof value === 'boolean' || value === RealtimeType.AlwaysEnable) {\n            return !!value\n        }\n        return false\n    }\n\n    // 判断是否为实时效果\n    isRealtime(keys: string[], enable: boolean): boolean {\n        if (keys.length === 1) {\n            const key = keys[0]\n            if (this._realtimeMap.has(key)) {\n                const value = this._realtimeMap.get(key)\n                if (value) {\n                    return HistoryRecord.isValidRealtime(value, enable)\n                }\n            }\n        } else if (keys.length === 2) {\n            const [k1, k2] = keys\n            if (this._realtimeMap.has(k1) && this._realtimeMap.has(k2)) {\n                const v1 = this._realtimeMap.get(k1)\n                const v2 = this._realtimeMap.get(k2)\n                if (v1 && v2) {\n                    return HistoryRecord.isValidRealtime(v1, enable) && HistoryRecord.isValidRealtime(v2, enable)\n                }\n            }\n        }\n\n        return false\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{ref:\"skyChoose\",staticClass:\"sky-button-component\"},[_c('el-button',{ref:\"skyButton\",staticClass:\"sky-show-select-button\",style:({ background: 'linear-gradient(0deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),'+`url(${_vm.imgUrl})`,backgroundSize: 'cover' }),attrs:{\"disabled\":!_vm.haveSky},on:{\"click\":_vm.skyButtonClick},nativeOn:{\"mousedown\":function($event){return _vm.onMousedown.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.haveSky?_vm.skyName:'未检测到天空')+\" \"),_c('i',{staticClass:\"el-icon-arrow-right sky-button-icon\",style:({transform: 'rotate('+`${_vm.skyIconRotate}`+'deg)'})})])],1),_c('SkyReplacePanel',{ref:\"'skyPanel\",style:({ zIndex: 1001, top: `${_vm.panelTopPosition}`+'px', right: `${_vm.panelRightPosition}`+'px'}),attrs:{\"visible\":_vm.showSkySelect,\"currentPath\":_vm.skyPath},on:{\"update:visible\":function($event){_vm.showSkySelect=$event},\"on-blur\":function($event){return _vm.$emit('on-blur')},\"on-focus\":function($event){return _vm.$emit('on-focus')},\"on-change-choose\":_vm.changeChooseItem,\"on-change\":(params, cParams, opt, ext) => _vm.$emit('on-change', params, cParams, opt, ext),\"on-init-button\":_vm.initButton}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"},{name:\"mousedownoutside\",rawName:\"v-mousedownoutside\",value:(_vm.clickoutsidePanel),expression:\"clickoutsidePanel\"}],staticClass:\"sky-panel-component\",on:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)}}},[_c('div',{staticClass:\"sky-div\"},[_c('el-select',{staticClass:\"sky-select\",attrs:{\"size\":\"mini\",\"placeholder\":\"所有天空\",\"popper-class\":\"sky-select-option\",\"popper-append-to-body\":true},on:{\"visible-change\":function($event){[_vm.foucuSelect = $event, _vm.stopMousePropagation($event)]},\"change\":_vm.skySelectChange},model:{value:(_vm.cacheType),callback:function ($$v) {_vm.cacheType=$$v},expression:\"cacheType\"}},_vm._l((_vm.skyAllType),function(item){return _c('el-option',{key:item.value,staticClass:\"sky-select-item\",attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('span',{staticClass:\"right_icon\"},[_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_up.png'),\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_down.png'),\"alt\":\"\"}})])],1),_c('div',{staticClass:\"sky-container global__scroll-style\",on:{\"mouseenter\":function($event){return _vm.stopMousePropagation(true)},\"mouseleave\":function($event){return _vm.stopMousePropagation(false)}}},[_vm._l((_vm.skyColumnFormat),function(column,i){return [_c('div',{key:i,staticClass:\"sky-column\"},[_vm._l((column || []),function(it,index){return [_c('div',{key:index,staticClass:\"claItemBox\",on:{\"click\":function($event){return _vm.onChangePath(it, index)}}},[_c('div',{staticClass:\"item-container\",class:{\n                                'border-primary-style-hover': it.path === _vm.skyPath,\n                                'select': it.path === _vm.skyPath\n                           }},[(it.new)?_c('i',{staticClass:\"ts-icon ts-icon-new\"}):_c('img',{staticClass:\"claImg\",attrs:{\"src\":it.iconPath}})])])]})],2)]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"selectContent\"},[_c('el-input',{staticClass:\"ts-select-input\",attrs:{\"disabled\":_vm.disabled,\"suffix-icon\":\"el-icon-arrow-down\",\"readonly\":\"\"},on:{\"focus\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.onInputFocus.apply(null, arguments)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}),_c('transition',{attrs:{\"name\":\"el-fade-in-linear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSelectDropdown),expression:\"showSelectDropdown\"}],ref:\"dropdownRef\",staticClass:\"ts-select-dropdown\",style:({ ..._vm.dropdownPosition })},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpArrow),expression:\"showUpArrow\"}],staticClass:\"arrow\",on:{\"mouseenter\":function($event){$event.stopPropagation();return _vm.onUp.apply(null, arguments)},\"mouseleave\":function($event){$event.stopPropagation();return _vm.removeTimer.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-arrow-up arrow-icon\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showUpArrow),expression:\"!showUpArrow\"}],staticClass:\"placeholder\"}),_c('div',{ref:\"viewContent\",staticClass:\"content\",class:{ scroll: _vm.isScroll },style:({ height: _vm.height ? _vm.height +'px' : 'auto' })},[_c('ul',{ref:\"dropdownContainer\",staticClass:\"ts-select-dropdown-container\",style:({ transform: `translateY(-${_vm.translateY}px)` }),on:{\"click\":function($event){$event.stopPropagation();},\"wheel\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onContentWheel.apply(null, arguments)}}},[_vm._t(\"default\")],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDownArrow),expression:\"showDownArrow\"}],staticClass:\"arrow\",on:{\"mouseenter\":function($event){$event.stopPropagation();return _vm.onDown.apply(null, arguments)},\"mouseleave\":function($event){$event.stopPropagation();return _vm.removeTimer.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-arrow-down arrow-icon\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showDownArrow),expression:\"!showDownArrow\"}],staticClass:\"placeholder\"})])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"selectContent\">\n        <el-input class=\"ts-select-input\" :disabled=\"disabled\" suffix-icon=\"el-icon-arrow-down\" readonly\n                  @focus.self=\"onInputFocus\" v-model=\"inputValue\"/>\n        <!--        <select class=\"ts-select-dropdown\">-->\n        <!--            <option  v-for=\"(item, i) in list\" :value=\"i\" :key=\"i\">{{ item.label }}</option>-->\n        <!--            <option  v-for=\"(item, i) in list\" :value=\"i\" :key=\"i\">{{ item.label }}</option>-->\n        <!--            <option  v-for=\"(item, i) in list\" :value=\"i\" :key=\"i\">{{ item.label }}</option>-->\n        <!--            <option  v-for=\"(item, i) in list\" :value=\"i\" :key=\"i\">{{ item.label }}</option>-->\n        <!--        </select>-->\n        <transition name=\"el-fade-in-linear\">\n            <div ref=\"dropdownRef\" class=\"ts-select-dropdown\" v-show=\"showSelectDropdown\"\n                 :style=\"{ ...dropdownPosition }\">\n                <!--            <div class=\"ts-select-dropdown\" :style=\"{ bottom: `-${dropdownContainerBottom}px`}\" @wheel=\"onWheel\">-->\n                <div v-show=\"showUpArrow\" class=\"arrow\" @mouseenter.stop=\"onUp\" @mouseleave.stop=\"removeTimer\">\n                    <i class=\"el-icon-arrow-up arrow-icon\"></i>\n                </div>\n                <div v-show=\"!showUpArrow\" class=\"placeholder\"></div>\n                <!--                <div ref=\"viewContent\" class=\"content\" :style=\"{ height: `${viewContentHeight}px` }\">-->\n                <div ref=\"viewContent\" class=\"content\" :class=\"{ scroll: isScroll }\"\n                     :style=\"{ height: height ? height +'px' : 'auto' }\">\n                    <ul ref=\"dropdownContainer\" class=\"ts-select-dropdown-container\"\n                        :style=\"{ transform: `translateY(-${translateY}px)` }\" @click.stop\n                        @wheel.stop.prevent=\"onContentWheel\">\n                        <!--                        <template v-for=\"(item, i) in list\">-->\n                        <!--                        <ts-select-option :value=\"i\" :label=\"item.label\" :key=\"i\" @select=\"onSelect\"/>-->\n                        <!--                        </template>-->\n                        <slot></slot>\n                    </ul>\n                </div>\n\n                <div v-show=\"showDownArrow\" class=\"arrow\" @mouseenter.stop=\"onDown\" @mouseleave.stop=\"removeTimer\">\n                    <i class=\"el-icon-arrow-down arrow-icon\"></i>\n                </div>\n\n                <div v-show=\"!showDownArrow\" class=\"placeholder\"></div>\n            </div>\n\n        </transition>\n    </div>\n</template>\n\n<script>\nimport {\n    onMounted,\n    watch,\n    ref,\n    computed,\n    nextTick,\n    getCurrentInstance,\n    reactive,\n    onUnmounted,\n    provide\n} from 'vue'\n\nexport default {\n    name: 'ts-select',\n    // components: { TsSelectOption },\n    props: {\n        value: {},\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { emit, slots }) {\n        const _this = getCurrentInstance().proxy\n\n        const options = ref([])\n\n        const optionsCount = ref(0)\n        const directionEnum = {\n            UP: 0,\n            DOWN: 1\n        }\n        const onUp = (e) => {\n            // console.log('lmy::onUp',e)\n            direction.value = directionEnum.UP\n            getMaxHeight(leftBottom.value)\n            log('getMaxHeight', maxHeightRef.value)\n            scroll()\n        }\n        const maxHeightRef = ref(0)\n        // const position = reactive({})\n        const onDown = (e) => {\n            direction.value = directionEnum.DOWN\n            getMaxHeight(leftTop.value)\n            scroll()\n            // viewContent.value.scrollTo(0, 28)\n\n        }\n        const getMaxHeight = (leftHeight) => {\n            let maxHeight = 0\n            const isReach = leftHeight < hideOptionCountRef.value * OPTION_HEIGHT\n            // log('isReachTop', isReachTop)\n            // log('leftTop', leftTop.value)\n            // log('curIndex.value * OPTION_HEIGHT', hideOptionCountRef.value * OPTION_HEIGHT)\n            if (isReach) {\n                const overHeight = hideOptionCountRef.value * OPTION_HEIGHT - leftHeight\n                const hideOptionCount = Math.ceil(overHeight / OPTION_HEIGHT)\n                maxHeight = (optionsCount.value - hideOptionCount) * OPTION_HEIGHT\n            } else {\n                maxHeight = optionsCount.value * OPTION_HEIGHT\n            }\n            maxHeightRef.value = maxHeight\n            return maxHeight\n            // position[setPositionKey] = isReach\n        }\n        const translateY = ref(0)\n        const timer = ref(null)\n        const direction = ref(0)\n        // const MAX_TRANSLATE_HEIGHT = ref()\n        // const MAX_VIEW_CONTENT_HEIGHT = 250\n\n        const isReachTop = computed(() => {\n            return translateY.value === 0\n        })\n\n        const viewContentHeight = ref(200)\n        const dropdownContainerBottom = ref(0)\n        // const resizeMaxHeight = () => {\n        //     if (!MAX_TRANSLATE_HEIGHT.value) {\n        //         MAX_TRANSLATE_HEIGHT.value = dropdownContainer.value.offsetHeight - MAX_VIEW_CONTENT_HEIGHT\n        //     }\n        // }\n        // const isScroll = ref(false)\n        const step = 14\n        const scrollTop = ref(0)\n        watch(scrollTop, (v) => {\n            // if (!v) {\n            //     showUpArrow.value = false\n            // }\n            if (v === hideOptionCountRef.value * OPTION_HEIGHT) {\n                showDownArrow.value = false\n            }\n            if (isFixed.value) {\n                if (v && v !== hideOptionCountRef.value * OPTION_HEIGHT) {\n                    showUpArrow.value = true\n                    showDownArrow.value = true\n                }\n            }\n\n        })\n        const scrollHandler = () => {\n            // if (direction.value === directionEnum.DOWN) {\n            //     if (viewContentHeight.value < MAX_VIEW_CONTENT_HEIGHT) {\n            //         viewContentHeight.value++\n            //     }\n            //     resizeMaxHeight()\n            //     if (translateY.value >= MAX_TRANSLATE_HEIGHT.value) {\n            //         // isReachBottom.value = true\n            //         return\n            //     }\n            //     // isReachTop.value = false\n            //     // if (isReachBottom.value) return\n            //     translateY.value = translateY.value + 1\n            // } else {\n            //     if (translateY.value <= 0) {\n            //         // isReachTop.value = true\n            //         return\n            //     }\n            //     // isReachBottom.value = false\n            //     // if (isReachBottom.value) return\n            //     translateY.value = translateY.value - 1\n            // }\n            // if (position.isReachTop) {\n            //     showUpArrow.value = true\n            // } else {\n            //     height.value += step;\n            // }\n            if (height.value < maxHeightRef.value) {\n                height.value += step\n            } else {\n                // showUpArrow.value = true\n                if (height.value === optionsCount.value * OPTION_HEIGHT) {\n                    showDownArrow.value = false\n                    showUpArrow.value = false\n                }\n                const isHide = maxHeightRef.value !== optionsCount.value * OPTION_HEIGHT\n                const showOptionCount = Math.ceil(maxHeightRef.value / OPTION_HEIGHT)\n                if (isHide) {\n                    isScroll.value = true\n                    isFixed.value = true\n                    if (direction.value === directionEnum.DOWN) {\n                        scrollTop.value += step\n                    } else {\n                        scrollTop.value -= step\n                    }\n                    if (scrollTop.value <= 0) {\n                        scrollTop.value = 0\n                    }\n                    if (scrollTop.value >= (optionsCount.value - showOptionCount) * OPTION_HEIGHT) {\n                        scrollTop.value = (optionsCount.value - showOptionCount) * OPTION_HEIGHT\n                    }\n                    viewContent.value.scrollTo({\n                        top: scrollTop.value,\n                        left: 0\n                        // behavior: 'smooth'\n                    })\n                }\n\n            }\n            // log('scrollHandler', height.value)\n        }\n\n        const scroll = () => {\n            // console.log('lmy::scroll')\n            removeTimer()\n            timer.value = setInterval(scrollHandler, 50)\n        }\n        const removeTimer = () => {\n            if (timer.value) {\n                clearInterval(timer.value)\n                // isScroll.value = false\n            }\n        }\n        const viewContent = ref()\n        const dropdownContainer = ref()\n        // onMounted(() => {\n        //     nextTick(() => {\n        //         console.log('lmy::', viewContent.value)\n        //         console.log('lmy::', dropdownContainer.value.offsetHeight)\n        //         // console.log('lmy::', MAX_TRANSLATE_HEIGHT.value)\n        //     })\n        // })\n        // const sVNodeList = ref([])\n        const curValue = ref()\n        const curIndex = computed(() => {\n            return options.value && options.value.findIndex(option => option?.isActive)\n        })\n        // const valueComputed = computed(() => {\n        //     return props.value\n        // })\n        watch(() => props.value, (v) => {\n            changeCurOption(v, 'init')\n        })\n        const inputValue = ref()\n        // watch(curValue, (v, oldV) => {\n        // if (v !== oldV) {\n        //     emit('input', v)\n        // }\n        // log('curValue', v)\n        // inputValue.value = options.value[c]?.label\n        // log('inputValue.value2', sVNodeList.value.find(slot => slot?.componentInstance.isActive))\n        //     if (showSelectDropdown.value){\n        //         closeDropdown()\n        //     }\n        // })\n        onMounted(() => {\n            nextTick(() => {\n                changeCurOption(props.value, 'init')\n            })\n        })\n        // const dropdownContainerOriTop = 20\n        // const getDropdownBottom = () => {\n        //     console.log('lmy::curIndex', curIndex)\n        //     dropdownContainerTop.value = dropdownContainerOriTop + (curIndex.value - 1) * optionHeight\n        //     if (dropdownContainerTop.value >= viewContentHeight.value) {\n        //         translateY.value = dropdownContainerTop.value - viewContentHeight.value\n        //         dropdownContainerTop.value = viewContentHeight.value\n        //     }\n        // }\n\n        // const onSelect = (v) => {\n        //     console.log('lmy::onSelect', v)\n        // }\n\n        /*\n            点击输入框逻辑 展开下拉框\n         */\n        const showSelectDropdown = ref(false)\n        const onInputBlur = () => {\n            onSwitchSelectDrop()\n        }\n        const flag = ref(false)\n        const onInputFocus = (e) => {\n            // console.log('lmy::onInputFocus', e.target)\n            flag.value = true\n            // onSwitchSelectDrop()\n            showSelectDropdown.value = true\n            // nextTick(() => {\n            getDropdownPosition(e)\n            // })\n            addDomClickListener()\n        }\n        const onSwitchSelectDrop = () => {\n            showSelectDropdown.value = !showSelectDropdown.value\n        }\n        const dropdownPosition = reactive({\n            // bottom: 0,\n            // top: 0\n        })\n        const dropdownRef = ref()\n        // const optionRef = ref()\n        // const OPTION_COUNT = list.length\n        // const optionCount = computed(() => {\n        //     return sVNodeList.value && sVNodeList.value.length\n        // })\n        const ARROW_HEIGHT = 24\n        const OPTION_HEIGHT = 28\n        // const isLimitHeight = ref(false)\n        const hideOptionCountRef = ref(0)\n        const height = ref()\n        const viewHeight = ref()\n        const isScroll = ref(false)\n        const showDownArrow = ref(false)\n        const showUpArrow = ref(false)\n        const leftTop = ref(0)\n        const leftBottom = ref(0)\n        const isFixed = ref(false)\n        const getDropdownPosition = (e) => {\n            let h = ''\n            // let ty = 0\n            let hideOptionCount = 0\n            reset()\n            // viewHeight.value = undefined\n            const windowHeight = window.innerHeight // 视口高度\n            const inputRectY = e.target.getBoundingClientRect().y // 输入框距顶高度(输入框以上剩余高度)\n            const inputRectHeight = e.target.getBoundingClientRect().height  // 输入框高度\n            const bottomLeftHeight = windowHeight - inputRectY - inputRectHeight // 输入框以下剩余高度\n            // const dropdownTop = Math.floor(inputRectY - ARROW_HEIGHT - (curIndex.value - 1) * OPTION_HEIGHT)\n            const moveHeight = ARROW_HEIGHT + (optionsCount.value - curIndex.value - 1) * OPTION_HEIGHT\n            // 1、先以bottom定位\n            dropdownPosition.bottom = `${bottomLeftHeight - moveHeight}px`\n            const isReachBottom = (moveHeight - bottomLeftHeight) > 0\n            const isReachTop = curIndex.value * OPTION_HEIGHT + ARROW_HEIGHT > inputRectY\n\n            // log('isReachBottom', (moveHeight - bottomLeftHeight) > 0)\n            // log('isReachTop', isReachTop)\n            // log('curIndex', curIndex.value)\n            if (isReachBottom) {\n                hideOptionCount = Math.ceil(Math.abs(bottomLeftHeight - moveHeight) / OPTION_HEIGHT)\n                h = (optionsCount.value - hideOptionCount) * OPTION_HEIGHT\n                // log('hideOptionCount', hideOptionCount)\n                showDownArrow.value = true\n            }\n            const shrinkHeight = hideOptionCount * OPTION_HEIGHT\n            dropdownPosition.top = ''\n            // todo: bug 会伸缩长度\n            dropdownPosition.bottom = `${bottomLeftHeight - moveHeight + shrinkHeight - 1}px`\n            // translateY.value = 0\n            // 2、判断是否超顶\n            // 选中option以上距离 + ARROW_HEIGHT > 输入框以上剩余高度 ？\n            // log('isReachTop', curIndex.value * OPTION_HEIGHT + ARROW_HEIGHT > inputRectY)\n            // log('curIndex.value * OPTION_HEIGHT + ARROW_HEIGHT', curIndex.value * OPTION_HEIGHT + ARROW_HEIGHT)\n            // log('inputRectY', inputRectY)\n\n            // 两种情况\n\n            if (isReachTop) {\n                const dropdownTop = Math.floor(inputRectY - ARROW_HEIGHT - curIndex.value * OPTION_HEIGHT)\n                // log('dropdownPosition.bottom', dropdownPosition.bottom)\n                // log('dropdownTop', dropdownTop)\n                const hpc = Math.ceil(Math.abs(dropdownTop) / OPTION_HEIGHT)\n                showUpArrow.value = true\n                if (!isReachBottom) {\n                    //1.没有超底 -> 1)定位改到顶部同样位置 2）改变高度\n                    // 1)定位改到顶部同样位置\n                    // dropdownPosition.bottom = ''\n                    // 超出高度\n                    // dropdownPosition.top = `${dropdownTop}px`\n                    dropdownPosition.bottom = ''\n                    hideOptionCount = Math.ceil(Math.abs(dropdownTop) / OPTION_HEIGHT)\n                    // log('isReachTop:hideOptionCount', hideOptionCount)\n                    // const h = (OPTION_COUNT - hideOptionCount.value) * OPTION_HEIGHT || OPTION_HEIGHT\n                    h = (optionsCount.value - hideOptionCount) * OPTION_HEIGHT || OPTION_HEIGHT\n                    // log('h', h)\n\n                    const shrinkHeight = hideOptionCount * OPTION_HEIGHT\n                    dropdownPosition.top = `${dropdownTop + shrinkHeight}px`\n                    // ty = hideOptionCount * OPTION_HEIGHT\n                    // log('translateY', translateY.value)\n                    // log('dropdownPosition.top', dropdownPosition.top)\n\n\n                } else {\n                    //2.超底 ->\n                    hideOptionCount = hideOptionCount + hpc\n                    // log(\"超底:hpc\", hideOptionCount, hpc)\n                    // ty = hpc * OPTION_HEIGHT\n                    // ty = 0\n                    // const dom = document.querySelector('.content')\n\n                    // viewContent.value.scrollTo({\n                    // })\n                    // dom.scrollTo(0, hpc * OPTION_HEIGHT)\n                    // viewHeight.value = (OPTION_COUNT - hideOptionCount) * OPTION_HEIGHT\n                    h = (optionsCount.value - hideOptionCount) * OPTION_HEIGHT\n\n                    isScroll.value = true\n                    showDownArrow.value = true\n                    isFixed.value = true\n                }\n                nextTick(() => {\n                    // viewContent.value.scrollTo(0, 0)\n                    // log('offsetHeight', viewContent.value.offsetHeight)\n                    // log('offsetTop', viewContent.value.offsetTop)\n                    scrollTop.value = hpc * OPTION_HEIGHT\n                    viewContent.value.scrollTo({\n                        top: scrollTop.value,\n                        left: 0\n                    })\n                })\n            }\n\n\n            height.value = h\n            // translateY.value = ty\n            hideOptionCountRef.value = hideOptionCount\n            leftBottom.value = bottomLeftHeight - (optionsCount.value - curIndex.value) * OPTION_HEIGHT - ARROW_HEIGHT\n            // log('leftBottom', leftBottom.value)\n            // debugger\n            // log('bottomLeftHeight', bottomLeftHeight)\n            leftTop.value = inputRectY - curIndex.value * OPTION_HEIGHT - ARROW_HEIGHT\n            // log('viewContent.value.scrollHeight', viewContent.value.scrollHeight)\n            // console.log('lmy::shrinkHeight', shrinkHeight)\n            // console.log('lmy::height', height.value)\n            // console.log('lmy:riseDir', riseDir)\n            // console.log('lmy::innerHeight', window.innerHeight)\n            // console.log('lmy::getBoundingClientRect', e.target.getBoundingClientRect().y)\n        }\n        // const onContentScroll = (e) => {\n        //     log('e',e)\n        // }\n        // const getMoveHeight = (index) => {\n        //     return 24 + (OPTION_COUNT - index) * optionHeight\n        // }\n        // const getRiseDirection = (leftHeight) => {\n        //     return moveToActiveOption(leftHeight)\n        // }\n        const log = (key, value) => {\n            console.log(`lmy::${key}`, value)\n        }\n        // const moveToActiveOption = (leftHeight) => {\n        //     // let dir = Direc\n        //     // if ()\n        //     let isReachTop = false\n        //     let isReachBottom = false\n        //     const bottomNeedHeight = dropdownRef.value.offsetHeight - curIndex.value * optionHeight\n        //     const topNeedHeight = curIndex.value * dropdownRef\n        //     if (bottomNeedHeight < leftHeight.bottomLeftHeight) isReachBottom = true\n        //     if (topNeedHeight < leftHeight.topLeftHeight) isReachTop = true\n        //     if (isReachTop && isReachBottom) {\n        //         return 'both'\n        //     } else {\n        //         if (isReachTop) return 'top'\n        //         if (isReachBottom) return 'bottom'\n        //     }\n        //     return ''\n        // }\n        const reset = () => {\n            isScroll.value = true\n            // height.value = 'auto'\n            // dropdownContainer.value.scrollTop = 0\n            nextTick(() => {\n                viewContent.value.scrollTo({\n                    top: 0,\n                    left: 0\n                })\n            })\n            showUpArrow.value = false\n            showDownArrow.value = false\n            isScroll.value = false\n            isFixed.value = false\n            scrollTop.value = 0\n        }\n\n        const selectContent = ref()\n        const closeDropdown = () => {\n            removeDomClickListener()\n            showSelectDropdown.value = false\n        }\n        // const tsInputRef = ref()\n        const documentHandler = (e) => {\n            if (selectContent.value.contains(e.target)) {\n                return false\n            }\n\n            if (showSelectDropdown.value) {\n                closeDropdown()\n                // log('tsInputRef', tsInputRef.value)\n                // tsInputRef.value?.blur()\n                // debugger\n            }\n        }\n        const addDomClickListener = () => {\n            window.addEventListener('click', documentHandler)\n        }\n        const removeDomClickListener = () => {\n            window.removeEventListener('click', documentHandler)\n        }\n\n        onUnmounted(() => {\n            removeDomClickListener()\n            options.value.length = 0\n        })\n        const onContentWheel = (e) => {\n            // if (isFixed.value) return\n            let maxHeight\n\n            const showOptionCount = Math.ceil(maxHeightRef.value / OPTION_HEIGHT)\n            // if (isFixed) {\n            //     scrollTop.value += e.deltaY\n            //     if (scrollTop.value <= 0) {\n            //         scrollTop.value = 0\n            //     }\n            //     if (scrollTop.value >= (optionsCount.value - showOptionCount) * OPTION_HEIGHT) {\n            //         scrollTop.value = (optionsCount.value - showOptionCount) * OPTION_HEIGHT\n            //     }\n            //     viewContent.value.scrollTo({\n            //         top: scrollTop.value,\n            //         left: 0,\n            //         // behavior: 'smooth'\n            //     })\n            //     return\n            // }\n            // if (showDownArrow.value) {\n            if (e.deltaY > 0) {\n                // onDown()\n\n                if (showDownArrow.value) {\n                    if (showUpArrow.value) {\n                        scrollTop.value += e.deltaY\n                        if (scrollTop.value <= 0) {\n                            scrollTop.value = 0\n                        }\n                        if (scrollTop.value >= (optionsCount.value - showOptionCount) * OPTION_HEIGHT) {\n                            scrollTop.value = (optionsCount.value - showOptionCount) * OPTION_HEIGHT\n                        }\n                        viewContent.value.scrollTo({\n                            top: scrollTop.value,\n                            left: 0\n                            // behavior: 'smooth'\n                        })\n                    } else {\n                        maxHeight = getMaxHeight(leftTop.value)\n                        if (isFixed.value) return\n                        height.value += e.deltaY\n                    }\n                }\n            } else {\n                // onUp()\n                if (showUpArrow.value) {\n                    if (showDownArrow.value) {\n                        scrollTop.value += e.deltaY\n                        if (scrollTop.value <= 0) {\n                            scrollTop.value = 0\n                        }\n                        if (scrollTop.value >= (optionsCount.value - showOptionCount) * OPTION_HEIGHT) {\n                            scrollTop.value = (optionsCount.value - showOptionCount) * OPTION_HEIGHT\n                        }\n                        viewContent.value.scrollTo({\n                            top: scrollTop.value,\n                            left: 0\n                            // behavior: 'smooth'\n                        })\n                    } else {\n                        maxHeight = getMaxHeight(leftBottom.value)\n                        if (isFixed.value) return\n                        height.value -= e.deltaY\n                    }\n                }\n            }\n            // }\n            // if (showUpArrow.value) {\n            //     if (e.deltaY < 0) {\n            //         maxHeight = getMaxHeight(leftBottom.value)\n            //         height.value -= e.deltaY\n            //     }\n            // }\n            if (height.value >= maxHeight) {\n                height.value = maxHeight\n\n                const isHide = maxHeightRef.value !== optionsCount.value * OPTION_HEIGHT\n                if (isHide) {\n                    isScroll.value = true\n                    isFixed.value = true\n                    scrollTop.value += Math.abs(e.deltaY)\n                    if (scrollTop.value <= 0) {\n                        scrollTop.value = 0\n                    }\n                    if (scrollTop.value >= (optionsCount.value - showOptionCount) * OPTION_HEIGHT) {\n                        scrollTop.value = (optionsCount.value - showOptionCount) * OPTION_HEIGHT\n                    }\n                    viewContent.value.scrollTo({\n                        top: scrollTop.value,\n                        left: 0\n                        // behavior: 'smooth'\n                    })\n                } else {\n                    showDownArrow.value = false\n                    showUpArrow.value = false\n                }\n                // if (isFixed.value) return\n                // if (showDownArrow.value) showDownArrow.value = false\n                // if (showUpArrow.value) showUpArrow.value = false\n            }\n            // console.log('lmy:onwheel', e.deltaY)\n        }\n\n        // const scrollDropdown = (v) => {\n        //     scrollTop.value += v\n        //     viewContent.value.scrollTo({\n        //         top: scrollTop.value,\n        //         left: 0,\n        //     })\n        // }\n        // const curLabel = ref('')\n\n        const changeCurOption = (v, eventId = 'change') => {\n            if (v === curValue.value) {\n                return closeDropdown()\n            }\n            curValue.value = v\n            options.value.forEach((option) => {\n                option.isActive = option?.value === v\n                if (option.isActive) {\n                    inputValue.value = option?.label\n                }\n            })\n            // emit('change', v)\n\n            if (eventId === 'change') {\n                emit('input', v)\n                emit('change', v)\n            }\n            // log('changeCurOption', options.value)\n            // log('changeCurOption', options.value.find(i => i?.isActive))\n            return v\n        }\n\n        provide('options', options)\n        provide('optionsCount', optionsCount)\n        provide('changeCurOption', changeCurOption)\n\n        return {\n            // list,\n            onUp,\n            onDown,\n            removeTimer,\n            viewContent,\n            viewContentHeight,\n            dropdownContainerBottom,\n            dropdownContainer,\n            isReachTop,\n\n            // onSelect,\n            curValue,\n\n            showSelectDropdown,\n            onSwitchSelectDrop,\n            onInputFocus,\n            onInputBlur,\n            inputValue,\n\n            dropdownPosition,\n            dropdownRef,\n            // tsInputRef,\n            // optionRef,\n            translateY,\n            height,\n            viewHeight,\n            isScroll,\n            // onContentScroll,\n            showUpArrow,\n            showDownArrow,\n            selectContent,\n            closeDropdown,\n\n            onContentWheel,\n\n\n            options,\n            optionsCount,\n            changeCurOption\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-select-input {\n    height: 28px !important;\n    line-height: 28px !important;\n    cursor: pointer !important;\n    font-size: 12px !important;\n\n    /deep/ {\n        .el-input__inner {\n            height: 28px !important;\n            line-height: 28px !important;\n            font-family: Avenir, Helvetica, Arial, sans-serif;\n        }\n\n        .el-input__suffix-inner {\n            pointer-events: none;\n        }\n    }\n}\n\n.ts-select-dropdown {\n    position: fixed;\n    //height: 28px;\n    //top: -20px;\n    //right: 5px;\n    //bottom: 0;\n    z-index: 9999;\n    //height: 200px;\n    padding: 8px 0;\n    background: #232324;\n    border: 1px solid #555555;\n    box-shadow: 0 2px 33px 0 rgba(0, 0, 0, 0.50);\n    border-radius: 8px;\n    transition: all 50ms linear;\n\n    &-container {\n        will-change: transform;\n        transform-style: preserve-3d;\n        transition-property: all;\n        transition-duration: 10ms;\n        transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n    }\n\n    .content {\n        //todo: 在两边都顶到的情况\n        //overflow-y: scroll;\n        transition: all 100ms linear;\n        overflow-y: hidden;\n    }\n\n    .scroll {\n        overflow-y: scroll;\n    }\n\n    .placeholder {\n        width: 100%;\n        height: 16px;\n    }\n\n    .arrow {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 16px;\n        line-height: 16px;\n        //margin: 0 4px;\n        z-index: 9;\n\n        &-icon {\n            font-size: 16px;\n            color: #B3B3B3;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ea847d9a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ea847d9a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea847d9a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"ts-select-dropdown-container-item el-select-dropdown__item\",class:{ active: _vm.isActive, 'is-disabled':_vm.disabled, line: _vm.line },on:{\"click\":function($event){$event.stopPropagation();return _vm.onSelect.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"ts-select-dropdown-container-item el-select-dropdown__item\" @click.stop=\"onSelect\"\n        :class=\"{ active: isActive, 'is-disabled':disabled, line: line }\">\n        {{ label }}\n    </li>\n</template>\n\n<script>\nimport { onMounted, watch, ref, computed, nextTick, getCurrentInstance, inject } from 'vue'\n\nexport default {\n    name: 'ts-select-option',\n    props: {\n        label: {\n            type: String,\n            default: ''\n        },\n        value: {},\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        line: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { parent }) {\n        const _this = getCurrentInstance().proxy\n        const isActive = ref(false)\n        // parent.options.push(_this)\n        // parent.optionsCount++\n\n\n        const options = inject('options')\n        let optionsCount = inject('optionsCount')\n        let changeCurOption = inject('changeCurOption')\n\n        options.value.push(_this)\n        optionsCount.value += 1\n\n        const onSelect = () => {\n            if (props.disabled) return\n            // if (props.value === parent.curValue) {\n            //     parent?.closeDropdown()\n            // }\n            // const key = 'isActive'\n            // parent.$children?.forEach((child) => {\n            //     if (Object.hasOwnProperty.call(child, key)) {\n            //         child[key] = false\n            //     }\n            // })\n            // isActive.value = true\n            // parent.curValue = props.value\n            changeCurOption && changeCurOption(props.value)\n        }\n\n        return {\n            isActive,\n            onSelect\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-select-dropdown-container-item {\n    width: 268px;\n    height: 28px;\n    line-height: 28px;\n    color: rgba(255, 255, 255, 0.80);\n    font-size: 12px;\n    //border-radius: 4px;\n    padding: 0 15px;\n\n    &:hover {\n        background: #171717;\n    }\n\n\n    &.line {\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    }\n}\n\n\n.is-disabled {\n    cursor: not-allowed;\n    opacity: .5;\n}\n\n.active {\n    color: #F5D228;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-select-option.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-select-option.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ts-select-option.vue?vue&type=template&id=ceef450a&scoped=true&\"\nimport script from \"./ts-select-option.vue?vue&type=script&lang=js&\"\nexport * from \"./ts-select-option.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ts-select-option.vue?vue&type=style&index=0&id=ceef450a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ceef450a\",\n  null\n  \n)\n\nexport default component.exports","import QtEventFilter, { QtEventFilterType } from '@/utils/QtEventFilter'\n\ninterface IRepositories {\n    onInputFocus: () => void\n    onInputBlur: () => void\n\n    onDialogFocus: () => void,\n    onDialogBlur: () => void,\n\n    stopMousePropagation: (val: boolean) => void\n}\n\nexport default function useFocusAndBlurRepositories(): IRepositories {\n    const onInputFocus = () => {\n        new QtEventFilter().process([QtEventFilterType.KeyBoard], false)\n    }\n\n    const onInputBlur = () => {\n        new QtEventFilter().process([QtEventFilterType.KeyBoard], true)\n    }\n\n    const onDialogFocus = () => {\n        new QtEventFilter().process([QtEventFilterType.KeyBoard, QtEventFilterType.Mouse], false)\n    }\n\n    const onDialogBlur = () => {\n        new QtEventFilter().process([QtEventFilterType.KeyBoard, QtEventFilterType.Mouse], false)\n    }\n\n    const stopMousePropagation = (val: boolean = true) => {\n        console.debug(\"stopMousePropagation: \", val)\n        new QtEventFilter().process([QtEventFilterType.Mouse], !val)\n    }\n\n    return {\n        onInputFocus,\n        onInputBlur,\n\n        onDialogFocus,\n        onDialogBlur,\n\n        stopMousePropagation\n    }\n}\n","/* istanbul ignore next */\n\nimport Vue from 'vue';\n\nconst isServer = Vue.prototype.$isServer;\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;\nconst ieVersion = isServer ? 0 : Number(document.documentMode);\n\n/* istanbul ignore next */\nconst trim = function(string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n};\n/* istanbul ignore next */\nconst camelCase = function(name) {\n  return name.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter;\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1');\n};\n\n/* istanbul ignore next */\nexport const on = (function() {\n  if (!isServer && document.addEventListener) {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent('on' + event, handler);\n      }\n    };\n  }\n})();\n\n/* istanbul ignore next */\nexport const off = (function() {\n  if (!isServer && document.removeEventListener) {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.detachEvent('on' + event, handler);\n      }\n    };\n  }\n})();\n\n/* istanbul ignore next */\nexport const once = function(el, event, fn) {\n  var listener = function() {\n    if (fn) {\n      fn.apply(this, arguments);\n    }\n    off(el, event, listener);\n  };\n  on(el, event, listener);\n};\n\n/* istanbul ignore next */\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false;\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n  if (el.classList) {\n    return el.classList.contains(cls);\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n  }\n};\n\n/* istanbul ignore next */\nexport function addClass(el, cls) {\n  if (!el) return;\n  var curClass = el.className;\n  var classes = (cls || '').split(' ');\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.add(clsName);\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName;\n    }\n  }\n  if (!el.classList) {\n    el.setAttribute('class', curClass);\n  }\n};\n\n/* istanbul ignore next */\nexport function removeClass(el, cls) {\n  if (!el || !cls) return;\n  var classes = cls.split(' ');\n  var curClass = ' ' + el.className + ' ';\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.remove(clsName);\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ');\n    }\n  }\n  if (!el.classList) {\n    el.setAttribute('class', trim(curClass));\n  }\n};\n\n/* istanbul ignore next */\nexport const getStyle = ieVersion < 9 ? function(element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'styleFloat';\n  }\n  try {\n    switch (styleName) {\n      case 'opacity':\n        try {\n          return element.filters.item('alpha').opacity / 100;\n        } catch (e) {\n          return 1.0;\n        }\n      default:\n        return (element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null);\n    }\n  } catch (e) {\n    return element.style[styleName];\n  }\n} : function(element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n  if (styleName === 'float') {\n    styleName = 'cssFloat';\n  }\n  try {\n    var computed = document.defaultView.getComputedStyle(element, '');\n    return element.style[styleName] || computed ? computed[styleName] : null;\n  } catch (e) {\n    return element.style[styleName];\n  }\n};\n\n/* istanbul ignore next */\nexport function setStyle(element, styleName, value) {\n  if (!element || !styleName) return;\n\n  if (typeof styleName === 'object') {\n    for (var prop in styleName) {\n      if (styleName.hasOwnProperty(prop)) {\n        setStyle(element, prop, styleName[prop]);\n      }\n    }\n  } else {\n    styleName = camelCase(styleName);\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')';\n    } else {\n      element.style[styleName] = value;\n    }\n  }\n};\n\nexport const isScroll = (el, vertical) => {\n  if (isServer) return;\n\n  const determinedDirection = vertical !== null && vertical !== undefined;\n  const overflow = determinedDirection\n    ? vertical\n      ? getStyle(el, 'overflow-y')\n      : getStyle(el, 'overflow-x')\n    : getStyle(el, 'overflow');\n\n  return overflow.match(/(scroll|auto|overlay)/);\n};\n\nexport const getScrollContainer = (el, vertical) => {\n  if (isServer) return;\n\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent)) {\n      return window;\n    }\n    if (isScroll(parent, vertical)) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n\n  return parent;\n};\n\nexport const isInContainer = (el, container) => {\n  if (isServer || !el || !container) return false;\n\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n\n  if ([window, document, document.documentElement, null, undefined].includes(container)) {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  } else {\n    containerRect = container.getBoundingClientRect();\n  }\n\n  return elRect.top < containerRect.bottom &&\n    elRect.bottom > containerRect.top &&\n    elRect.right > containerRect.left &&\n    elRect.left < containerRect.right;\n};\n","import Vue from 'vue'\nimport { on } from 'element-ui/src/utils/dom'\n\nconst nodeList = []\nconst ctx = '@@mousedownoutsideContext'\n\nlet startClick\nlet seed = 0\n\n!Vue.prototype.$isServer && on(document, 'mousedown', e => {\n    nodeList.forEach(node => node[ctx].documentHandler(e, e))\n})\n\nfunction createDocumentHandler(el, binding, vnode) {\n    return function (mouseup = {}, mousedown = {}) {\n        if (!vnode ||\n            !vnode.context ||\n            !mouseup.target ||\n            !mousedown.target ||\n            el.contains(mouseup.target) ||\n            el.contains(mousedown.target) ||\n            el === mouseup.target ||\n            (vnode.context.popperElm &&\n                (vnode.context.popperElm.contains(mouseup.target) ||\n                    vnode.context.popperElm.contains(mousedown.target)))) return\n\n        if (binding.expression &&\n            el[ctx].methodName &&\n            vnode.context[el[ctx].methodName]) {\n            vnode.context[el[ctx].methodName]()\n        } else {\n            el[ctx].bindingFn && el[ctx].bindingFn()\n        }\n    }\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexport default {\n    bind(el, binding, vnode) {\n        nodeList.push(el)\n        const id = seed++\n        el[ctx] = {\n            id,\n            documentHandler: createDocumentHandler(el, binding, vnode),\n            methodName: binding.expression,\n            bindingFn: binding.value\n        }\n    },\n\n    update(el, binding, vnode) {\n        el[ctx].documentHandler = createDocumentHandler(el, binding, vnode)\n        el[ctx].methodName = binding.expression\n        el[ctx].bindingFn = binding.value\n    },\n\n    unbind(el) {\n        let len = nodeList.length\n\n        for (let i = 0; i < len; i++) {\n            if (nodeList[i][ctx].id === el[ctx].id) {\n                nodeList.splice(i, 1)\n                break\n            }\n        }\n        delete el[ctx]\n    }\n}\n","<template>\n    <div class=\"sky-panel-component\"\n         v-show=\"show\"\n         v-mousedownoutside=\"clickoutsidePanel\"\n         @mouseenter=\"stopMousePropagation(true)\"\n         @mouseleave=\"stopMousePropagation(false)\"\n    >\n        <div class=\"sky-div\">\n            <el-select\n                size=\"mini\"\n                class=\"sky-select\"\n                placeholder=\"所有天空\"\n                popper-class=\"sky-select-option\"\n                :popper-append-to-body=\"true\"\n                v-model=\"cacheType\"\n                @visible-change=\"[foucuSelect = $event, stopMousePropagation($event)]\"\n                @change=\"skySelectChange\"\n            >\n                <el-option\n                    class=\"sky-select-item\"\n                    v-for=\"(item) in skyAllType\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                >\n                </el-option>\n            </el-select>\n            <span class=\"right_icon\">\n                        <img :src=\"$getIconPath('icon_arrow_up.png')\" alt=\"\">\n                        <img :src=\"$getIconPath('icon_arrow_down.png')\" alt=\"\">\n                    </span>\n        </div>\n\n        <div class=\"sky-container global__scroll-style\"\n             @mouseenter=\"stopMousePropagation(true)\"\n             @mouseleave=\"stopMousePropagation(false)\"\n        >\n            <template v-for=\"(column, i) in skyColumnFormat\">\n                <div class=\"sky-column\" :key=\"i\">\n                    <template v-for=\"(it, index) in column || []\">\n                        <div\n                            :key=\"index\"\n                            class=\"claItemBox\"\n                            @click=\"onChangePath(it, index)\">\n                            <div class=\"item-container\"\n                                 :class=\"{\n                                    'border-primary-style-hover': it.path === skyPath,\n                                    'select': it.path === skyPath\n                               }\">\n                                <i v-if=\"it.new\" class=\"ts-icon ts-icon-new\"></i>\n                                <img\n                                    v-else\n                                    :src=\"it.iconPath\"\n                                    class=\"claImg\"/>\n                            </div>\n                        </div>\n                    </template>\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport useParamsPointsRepositories from \"@/composables/points/useParamsPointsRepositories\";\nimport {convertToMultArray} from \"@/utils/utils\";\n\nimport {computed, defineComponent} from 'vue'\nimport TsNumberPlaceholder from 'components/TsNumberPlaceholder'\nimport TsSelect from 'components/TsSelect'\nimport TsSelectOption from 'components/TsSelect/src/ts-select-option'\nimport {Option, Select} from 'element-ui'\nimport EffectModel from '@/model/EffectsModel/EffectModel'\nimport {EffectNameEnum} from '@/constants/presetParams/ParamEnum'\nimport store from '@/store'\nimport useFocusAndBlurRepositories from '@/composables/useFocusAndBlurRepositories'\nimport mousedownoutside from '@/directives/mousedownoutside'\n\nconst pathKey = EffectModel.identify(EffectNameEnum.Sky)\nconst lastBeautifyParams = computed(() => store.getters['refine/lastBeautifyParams'])\n\nexport default defineComponent({\n    name: \"SkyReplacePanel\",\n\n    components: {\n        TsSelectOption,\n        TsSelect,\n        TsNumberPlaceholder,\n        'el-select': Select,\n        'el-option': Option,\n    },\n\n    props: {\n        currentPath: {\n            type: String,\n            default: ''\n        },\n\n        visible: {\n            type: Boolean,\n            default: false\n        }\n    },\n\n    directives:{\n        mousedownoutside\n    },\n\n    setup() {\n        const {stopMousePropagation} = useFocusAndBlurRepositories()\n        return {\n            stopMousePropagation\n        }\n    },\n    data() {\n        return {\n            skyPath: '',\n            show: this.visible,\n            foucuSelect: false,\n            cacheType: '所有天空',\n            imgUrl: require('../../../../assets/icons/sky_img_default@3x.png')\n        }\n    },\n    computed: {\n        skyList() {\n            return this.$store.getters['presetSuit/skyList']\n        },\n        skyPathCache() {\n            return this.$store.getters['project/skyPathCache']\n        },\n        skyColumnFormat() {\n            let filterList = []\n            if (this.cacheType == '所有天空') {\n                filterList = this.skyList\n            } else if (this.cacheType) {\n                this.skyList.forEach(element => {\n                    if (element.type == this.cacheType || element.name == '无') {\n                        filterList.push(element)\n                    }\n                })\n            }\n            return convertToMultArray(filterList, 3)\n        },\n\n        skyAllType() {\n            let skyType = []\n            let skyItem = {value: '所有天空', label: '所有天空'}\n            skyType.push(skyItem)\n\n            this.skyList.forEach((element) => {\n                if (element.type) {\n                    if (!skyType.some(item => item.label === element.type)) {\n                        skyType.push({value: element.type, label: element.type})\n                    }\n                }\n            })\n            return skyType\n        }\n    },\n\n    watch: {\n        currentPath(news,olds){\n            let backgroundIcon = ''\n            let backgroundName = ''\n            this.skyList.forEach((element) => {\n                if (element.path == news ) {\n                    backgroundIcon = element.bgIcon\n                    backgroundName = element.name\n                }\n            })\n            this.$emit('on-init-button',backgroundIcon, backgroundName)\n            this.skyPath = news\n\n        },\n        skyPath(val) {\n            let isEmpty = (val != \"\")\n            this.$emit('on-modify', isEmpty)\n\n        },\n\n        visible(val) {\n            this.show = val\n        },\n\n        show(val) {\n            this.$emit('update:visible', val)\n        }\n    },\n\n    filters: {\n        filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n    },\n    methods: {\n        clickoutsidePanel() {\n            if (this.foucuSelect) {\n                return\n            }\n\n            if (this.show) {\n                console.log('clickoutsidePanel')\n                this.show = false\n            }\n        },\n\n        onResetSingle() {\n            const obj = this.skyList.find(item => item.path === this.skyPath)\n            if (this.filterAlpha === obj.value) {\n                return\n            }\n\n            this.onChangeAlpha(obj.value)\n        },\n\n        onChangePath(item, index) {\n            this.skyPath = item.path\n            this.$emit('on-change-choose', item)\n        },\n\n        skySelectChange(data) {\n            this.cacheType = data\n        },\n\n        reset() {\n            this.skyPath = ''\n            this.imgUrl = require('../../../../assets/icons/sky_img_default@3x.png')\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n\n            extInfo.labName = \"换天空\"\n            extInfo.optDesc = '重置'\n            //\n            const data = {[pathKey]: this.skyPath}\n            let params = {[pathKey]: this.skyPath}\n            this.$emit('on-change', data, params, 'manual', JSON.stringify(extInfo))\n        },\n\n        init(data) {\n            let val = lastBeautifyParams.value\n            if (Object.hasOwnProperty.call(data, pathKey)) {\n                const value = data[pathKey]\n                this.skyPath = value\n\n\n                return\n            }\n\n            this.skyPath = ''\n            this.$emit('on-modify', false)\n        }\n    }\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n.sky-select-option {\n    border-radius: 4px;\n\n    .sky-select-item {\n        height: 36px;\n        font-size: 12px;\n        line-height: 36px;\n        height: 36px;\n    }\n\n}\n\n.sky-panel-component {\n    position: fixed;\n    box-sizing: border-box;\n    width: 268px;\n    height: 440px;\n    margin-left: -285px;\n    //left: 316px;\n    //top: 12px;\n   // z-index: 9999;\n\n    background: #232324;\n    border: 0.5px solid #555555;\n    box-shadow: 0px 2px 33px rgba(0, 0, 0, 0.5);\n    border-radius: 8px;\n\n    .sky-div {\n        width: 244px;\n        height: 20px;\n        border-radius: 4px;\n        margin-left: 12px;\n        margin-top: 12px;\n        background-color: transparent;\n\n        .sky-select {\n            background-color: #393939;\n            border-radius: 4px;\n            width: 238px;\n\n            /deep/ {\n                .el-input__inner {\n                    height: 24px;\n                    line-height: 24px;\n                }\n\n                .el-input__suffix .el-input__suffix-inner .el-icon-arrow-up:before {\n                    content: \"\";\n                }\n            }\n        }\n\n\n        .right_icon {\n            position: relative;\n            width: 14px;\n            height: 14px;\n            border-radius: 4px;\n            background: rgba(255, 255, 255, 0.15);\n            right: -103px;\n            top: -19px;\n            bottom: 0;\n            margin: auto;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n\n            img:nth-of-type(1) {\n                width: 10px;\n                margin-bottom: -2px;\n            }\n\n            img:nth-of-type(2) {\n                width: 8px;\n            }\n        }\n    }\n\n    .sky-container {\n        height: 393px;\n        margin-top: 12px;\n        padding: 0px 12px;\n        overflow-y: scroll;\n        overflow-x: hidden;\n    }\n\n    .sky-column {\n        display: flex;\n    }\n\n    .claItemBox {\n        margin-bottom: 8px;\n        aspect-ratio: 1 / 1;\n        display: flex;\n        flex-direction: column;\n        margin-right: 6px;\n\n        &:last-child {\n            margin-right: 0;\n        }\n\n        .item-container {\n            box-sizing: border-box;\n            padding: 1px;\n            width: 76px;\n            height: 76px;\n            border-radius: 4px;\n            aspect-ratio: 1 / 1;\n            display: flex;\n            flex-direction: row;\n            position: relative;\n            overflow: hidden;\n\n            .ts-icon-new {\n                position: absolute;\n                left: 1px;\n                top: 1px;\n                width: 23px;\n                height: 10px;\n                padding: 0px 0px;\n                pointer-events: none;\n            }\n\n            &.select {\n                border-width: 2px;\n                border-style: solid;\n                box-sizing: border-box;\n            }\n\n            .claImg {\n                border-radius: 4px;\n                width: 100%;\n                object-fit: cover;\n                background: grey;\n            }\n\n            .original-img-container {\n                width: 76px;\n                height: 76px;\n                border-radius: 4px;\n                aspect-ratio: 1 / 1;\n                display: flex;\n                flex-direction: row;\n                position: relative;\n                overflow: hidden;\n                background: #393939;\n                align-items: center;\n                justify-content: center;\n\n                .original-img {\n                    width: 18px;\n                    height: 18px;\n                }\n            }\n\n            .background {\n                background-image: linear-gradient(#cc000000, #000000);\n            }\n        }\n\n        .claName {\n            margin-top: 4px;\n            height: 14px;\n            line-height: 14px;\n            font-size: 10px;\n            color: #A6A6A6;\n            text-align: center;\n            font-weight: 400;\n            width: 100%;\n        }\n\n    }\n}\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id-photo-sky-panel.vue?vue&type=template&id=20f2580e&scoped=true&\"\nimport script from \"./id-photo-sky-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./id-photo-sky-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id-photo-sky-panel.vue?vue&type=style&index=0&id=20f2580e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20f2580e\",\n  null\n  \n)\n\nexport default component.exports","<!--换天空 天空选择模块-->\n<template>\n    <div>\n        <div class=\"sky-button-component\"\n             ref=\"skyChoose\"\n        >\n            <el-button\n                class=\"sky-show-select-button\"\n                ref=\"skyButton\"\n                :disabled=\"!haveSky\"\n                :style=\"{ background: 'linear-gradient(0deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),'+`url(${imgUrl})`,backgroundSize: 'cover' }\"\n                @click=\"skyButtonClick\"\n                @mousedown.native=\"onMousedown\"\n                >\n                {{haveSky?skyName:'未检测到天空' }}\n                <i class=\"el-icon-arrow-right sky-button-icon\"\n                   :style=\"{transform: 'rotate('+`${skyIconRotate}`+'deg)'}\"/>\n            </el-button>\n        </div>\n\n        <SkyReplacePanel\n            ref=\"'skyPanel\"\n            :visible.sync=\"showSkySelect\"\n            :style=\"{ zIndex: 1001, top: `${panelTopPosition}`+'px', right: `${panelRightPosition}`+'px'}\"\n            :currentPath=\"skyPath\"\n            @on-blur=\"$emit('on-blur')\"\n            @on-focus=\"$emit('on-focus')\"\n            @on-change-choose=\"changeChooseItem\"\n            @on-change=\"(params, cParams, opt, ext) => $emit('on-change', params, cParams, opt, ext)\"\n            @on-init-button=\"initButton\"\n        />\n\n    </div>\n</template>\n\n<script>\nimport {computed, defineComponent, ref} from 'vue'\nimport TsNumberPlaceholder from 'components/TsNumberPlaceholder'\nimport {Button} from 'element-ui'\nimport SkyReplacePanel from './id-photo-sky-panel'\nimport EffectModel from '@/model/EffectsModel/EffectModel'\nimport {EffectNameEnum} from '@/constants/presetParams/ParamEnum'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\nconst pathKey = EffectModel.identify(EffectNameEnum.Sky)\n\nexport default defineComponent({\n    name: 'id-photo-sky',\n\n    components: {\n        SkyReplacePanel,\n        TsNumberPlaceholder,\n        'el-button': Button,\n    },\n\n    props: {\n        haveSky: {\n            type: Boolean,\n            value: false\n        }\n    },\n\n    setup(){\n        const {PointSkyChoose} = useParamsPointsRepositories()\n        return {\n            PointSkyChoose\n        }\n    },\n\n    mounted() {\n        window.addEventListener('scroll',this.handleScroll,true)\n        window.addEventListener('resize',this.handleResize,true)\n    },\n    beforeDestroy () {\n        window.removeEventListener('scroll', this.handleScroll,true)\n        window.removeEventListener('resize', this.handleResize,true)\n    },\n    data() {\n        return {\n            skyPath: '',\n            showSkySelect: false,\n            imgUrl: require('../../../../assets/icons/sky_img_default@3x.png'),\n            panelTopPosition: 0,\n            panelRightPosition: 0,\n            isAutoClose: false,\n            inPanel: false,\n            skyName:'天空选择',\n            skyIconRotate: 0\n        }\n    },\n    watch: {\n        skyPath(val) {\n            let isEmpty = (val != \"\")\n            this.$emit('on-modify', isEmpty)\n\n            if (!isEmpty) {\n                this.showSkySelect = false\n            }\n        },\n\n        showSkySelect(val) {\n            this.skyIconRotate = 0\n            if(val){\n                this.skyIconRotate = 90\n            }\n        }\n    },\n\n    filters: {\n        filterFormatName(value) {\n            if (value.length >= 10) {\n                // ... 名字过滤器\n                let start = value.substr(0, 4)\n                let end = value.substr(value.length - 2, 2)\n                return `${start} ... ${end}`\n            }\n            return value\n        }\n    },\n    methods: {\n        handlePanelPosition(){\n            if (this.showSkySelect) {\n                let space = 8\n                let bottomSpace = 15\n                let panelHeight = 440;\n                let positionTop = this.$refs.skyChoose.getBoundingClientRect().top\n                let bottom_distance = document.documentElement.clientHeight - this.$refs.skyChoose.getBoundingClientRect().bottom\n                let buttonHeight = this.$refs.skyChoose.getBoundingClientRect().height\n                let maxBottom = window.innerHeight - panelHeight\n                this.panelRightPosition = 60\n\n                if (bottom_distance >= panelHeight) {\n                    this.panelTopPosition = positionTop + buttonHeight + space\n                    this.panelTopPosition = (this.panelTopPosition < 0) ? 0 : this.panelTopPosition\n                } else {\n                    if (this.$refs.skyChoose.getBoundingClientRect().top > panelHeight) {\n                        this.panelTopPosition = positionTop - panelHeight - space\n                        this.panelTopPosition = (this.panelTopPosition > maxBottom) ? maxBottom : this.panelTopPosition\n                    } else {\n                        this.panelRightPosition = 345\n                        this.panelTopPosition = window.innerHeight - panelHeight - bottomSpace\n                    }\n                }\n            }\n        },\n\n        handleScroll(){\n            //console.log('touch scroll change event!!')\n            this.handlePanelPosition()\n        },\n\n        handleResize(){\n            //console.log('trust handle resize event!!!!')\n            this.handlePanelPosition()\n        },\n\n        reset() {\n            this.skyPath = ''\n            this.skyName = ''\n            this.imgUrl = require('../../../../assets/icons/sky_img_default@3x.png')\n\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n\n            //console.log('this sky path is: ', this.skyPath)\n            extInfo.labName = \"换天空\"\n            extInfo.optDesc = '重置'\n\n            const data = {[pathKey]: this.skyPath}\n            let params = {[pathKey]: this.skyPath}\n            this.$emit('on-change', data, params, 'manual', JSON.stringify(extInfo))\n        },\n\n        init(data) {\n            if (Object.hasOwnProperty.call(data, pathKey)) {\n                this.skyPath = data[pathKey]\n                if(this.skyPath != ''){\n                    return\n                }\n            }\n\n            this.showSkySelect = false\n            this.skyPath = ''\n            this.imgUrl = require('../../../../assets/icons/sky_img_default@3x.png')\n            this.$emit('on-modify', false)\n        },\n\n        onMousedown() {\n            if (this.showSkySelect) {\n                this.isAutoClose = true\n            }\n        },\n\n        skyButtonClick() {\n            if (this.isAutoClose) {\n                this.isAutoClose = false\n                return\n            }\n\n            this.showSkySelect = !this.showSkySelect\n            if (this.showSkySelect) {\n                this.handlePanelPosition()\n            }\n        },\n\n        changeChooseItem(item) {\n            this.chooseTitle = item.name\n            this.skyPath = item.path\n            let extInfo = {\n                labName: '',\n                isRest: false,\n                isSwitch: false,\n                lab2Name: '',\n                lab3Name: '',\n                optDesc: ''\n            }\n\n            extInfo.labName = \"换天空\"\n            extInfo.optDesc = item.name\n            this.skyName = item.name?item.name:'天空选择'\n\n            const data = {[pathKey]: this.skyPath}\n            let params = {[pathKey]: this.skyPath}\n            this.$emit('on-change', data, params, 'manual', JSON.stringify(extInfo))\n\n            this.PointSkyChoose(item.name)\n        },\n\n        initButton(iconPath,iconName){\n            this.skyName = iconName?iconName:'天空选择'\n            if(iconPath == ''){\n                this.imgUrl = require('../../../../assets/icons/sky_img_default@3x.png')\n            }else {\n                this.imgUrl = require('../../../../assets/icons/' + iconPath)\n                this.handlePanelPosition()\n\n            }\n        }\n    }\n})\n</script>\n\n\n<style lang=\"scss\" scoped>\n\n.sky-button-component {\n    margin-top: 16px;\n    margin-bottom: 14px;\n    width: 268px;\n    height: 38px;\n\n    .sky-show-select-button {\n        width: 268px;\n        height: 38px;\n        border-radius: 4px;\n        text-align: left;\n        font-family: 'PingFang SC';\n        font-style: normal;\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 17px;\n        background-size: cover !important;\n\n        .sky-button-icon {\n            position:sticky;\n            left: 252px;\n        }\n\n        .el-icon-arrow-right{\n            width:16px;\n            margin-right: -12px !important;\n        }\n    }\n\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./id-photo-sky.vue?vue&type=template&id=843b8c8c&scoped=true&\"\nimport script from \"./id-photo-sky.vue?vue&type=script&lang=js&\"\nexport * from \"./id-photo-sky.vue?vue&type=script&lang=js&\"\nimport style0 from \"./id-photo-sky.vue?vue&type=style&index=0&id=843b8c8c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"843b8c8c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <el-collapse-item :name=\"type\" class=\"custom-collapse-item\" ref=\"customCollapseItemRef\">\n        <div slot=\"title\" class=\"params-adjust-group-item-title\" @click=\"$emit('focus')\">\n            <div class=\"title-span\">\n                <div class=\"title\">\n                    {{ data.name }}\n                    <span v-if=\"data.nameDesc\" class=\"desc\">\n                        {{data.nameDesc}}\n                    </span>\n                </div>\n                <template v-if=\"data.tip\">\n                    <el-tooltip content=\"\" placement=\"top\">\n                        <i class=\"ts-icon ts-icon-question-outside\"></i>\n                        <div slot=\"content\">\n                            <template v-if=\"typeof data.tip === 'string'\">\n                                {{ data.tip }}\n                            </template>\n                            <template v-else>\n                                <p v-for=\"(t, i) in data.tip\" :key=\"i\">{{ t }}</p>\n                            </template>\n                        </div>\n                    </el-tooltip>\n                </template>\n\n                <template v-if=\"data.new\">\n                    <i class=\"ts-icon-new\"></i>\n                </template>\n\n                <!--                <span v-if=\"data.nameLabel\" class=\"title-label\">{{ data.nameLabel }}</span>-->\n\n                <!--                <template v-if=\"beta\">-->\n                <!--                    <el-tooltip content=\"尝鲜版\" placement=\"right\" effect=\"dark\">-->\n                <!--                    <i class=\"el-icon-warning icon\"></i>-->\n                <!--                    </el-tooltip>-->\n                <!--                </template>-->\n            </div>\n\n            <div class=\"title-span\">\n                <i\n                    v-if=\"isModify\"\n                    class=\"el-icon-refresh-right reset-btn-icon\"\n                    @click.stop=\"[reset('manual'), $emit('focus')]\">\n                </i>\n\t\t\t\t<slot name=\"title-right\"></slot>\n\t\t\t</div>\n        </div>\n\n        <ComponentCollection\n            class=\"params-adjust-group-component c-text-label\"\n            style=\"margin: 4px 16px\"\n            ref=\"componentCollectionRef\"\n            :parent-tab-name=\"data.name\"\n            :type=\"type\"\n            :disabled=\"disabled || isSkyDisabled\"\n            :data=\"formComponents\"\n            :single-reset-function=\"singleSingleFunction\"\n            v-model=\"allParamValues\"\n            @on-blur=\"onBlur\"\n            @on-focus=\"onFocus\"\n            @on-input=\"onInput\"\n            @on-change=\"onChange\"\n            @on-keys=\"paramsKeys = $event\"\n            @user-behavior=\"$emit('user-behavior', $event)\"\n            @on-change-single=\"(key, value) => $emit('on-change-single', key, value)\"\n        >\n            <template #filter>\n                <filter-component\n                    ref=\"filterRef\"\n                    name=\"filter\"\n                    :initParams=\"initParams\"\n                    @on-focus=\"onFocus\"\n                    @on-blur=\"onBlur\"\n                    @on-modify=\"filterIsModify = $event\"\n                    @on-selection=\"$emit('point-filter', data)\"\n                    @on-input=\"onSlotInput\"\n                    @on-change=\"(params, cParams, opt, ext) => $emit('on-change', cParams, opt, ext)\"\n                />\n            </template>\n\n            <template #idPhoto>\n                <id-photo\n                    ref=\"idPhoto\"\n                    :init-params=\"initParams\"\n                    @on-blur=\"onBlur\"\n                    @on-focus=\"onFocus\"\n                    @on-modify=\"bgIsModify = $event\"\n                    @on-change=\"(params, cParams, opt, ext) => $emit('on-change', cParams, opt, ext)\"\n                />\n            </template>\n\n            <template #idPhotoSky>\n                <id-photo-sky\n                    ref=\"idPhotoSky\"\n                    :init-params=\"initParams\"\n                    :have-sky=\"isSkySelectEnable\"\n                    @on-blur=\"onBlur\"\n                    @on-focus=\"onFocus\"\n                    @on-modify=\"skyIsModify = $event\"\n                    @on-change=\"(params, cParams, opt, ext) => $emit('on-change', cParams, opt, ext)\"\n                />\n            </template>\n\n\n            <template #makeupSuit=\"{ data }\">\n                <SuitParamsGroup\n                    ref=\"suitParamsGroup\"\n                    :data=\"data\"\n                    :init-params=\"initParams\"\n                    @on-modify=\"makeupSuitModify = $event\"\n                    @on-focus=\"onFocus\"\n                    @on-blur=\"onBlur\"\n                    @on-input=\"onSlotInput\"\n                    @on-change=\"(params, cParams, opt, ext) => $emit('on-change', cParams, opt, ext)\"\n                />\n            </template>\n        </ComponentCollection>\n\n        <p class=\"params-adjust-group-item-label\" v-if=\"data.label\">{{ data.label }}</p>\n    </el-collapse-item>\n</template>\n\n<script>\nimport { computed, nextTick, onMounted, ref, watch } from 'vue'\nimport store from '@/store'\n\nimport { cloneDeep, isEqual, throttle } from 'lodash'\nimport { QtEventFilter, QtEventFilterType } from '@/utils/QtEventFilter'\n\n// 参数\nimport { getFormComponents } from './ParamsComponents'\n\n// 组件\nimport { CollapseItem, Tooltip } from 'element-ui'\nimport ComponentCollection from 'components/ComponentCollection'\nimport IdPhoto from './BackgroundReplace/id-photo'\nimport SuitParamsGroup from '@/components/SuitParamsGroup/SuitParamsGroup'\nimport FilterComponent from '@/views/PhotoFinishing/Components/FilterComponent'\nimport FilterParamModel from '@/model/ParamsModel/FilterParamModel'\nimport HistoryRecord from './ParamsComponents/model/HistoryRecord'\nimport IdPhotoSky from './BackgroundReplace/id-photo-sky'\nimport { RealtimeType } from '@/constants/constants'\n\nexport default {\n    name: 'custom-collapse-item',\n    components: {\n        // 'el-button': Button,\n        'el-tooltip': Tooltip,\n        'el-collapse-item': CollapseItem,\n        ComponentCollection,\n        IdPhoto,\n        FilterComponent,\n        SuitParamsGroup,\n        IdPhotoSky\n        // AdjustableComponentBody\n    },\n    props: {\n        showSliderInput: {\n            type: Boolean,\n            default: false\n        },\n        showLabelPercent: {\n            type: Boolean,\n            default: false\n        },\n        active: Boolean,\n        initParams: Object, // 初始参数，子组件重置作用\n        data: {\n            type: Object,\n            default: () => {\n            }\n        },\n        type: String,\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { emit }) {\n        const personType = computed(() => store.getters['refine/personType'])\n        const extendInfo = computed(() => store.getters['refine/extendInfo'])\n        const imageType = computed(() => store.getters['refine/imageType'])\n        const baseValue = computed(() => store.getters['refine/baseValue'])\n        const bgCleanModeDefault = computed(() => store.getters['refine/bgCleanModeDefault'])\n        const bgCleanMooreModeDefault = computed(() => store.getters['refine/bgCleanMooreModeDefault'])\n        const enableRealtime = computed(() => store.getters['refine/enableRealtime'])\n        const symmetryStatusJson = computed(() => store.getters['refine/symmetryStatusJson'])\n\n        const skyExtendInfo = computed(() => store.getters['refine/skyExtendInfo'])\n        const formComponents = computed(() => {\n            let arr = []\n            switch (props.type) {\n                case 'filter':\n                    arr = [\n                        {\n                            cType: 'slot',\n                            slotName: 'filter',\n                            realtime: true,\n                            realtimeKeys: [{ key: FilterParamModel.key, realtime: RealtimeType.AlwaysEnable }],\n                        }\n                    ]\n                    break;\n                case 'replace':\n                    arr = [\n                        {\n                            cType: 'slot',\n                            slotName: 'idPhoto',\n                            line: true\n                        }\n                    ]\n                    break;\n\n                case 'removeDefects':\n                case 'skin':\n                case 'teeth':\n                case 'eye':\n                case 'makeup':\n                    arr = getFormComponents(props.type, { personType: personType.value })\n                    break;\n\n                case 'facialRefine':\n                    arr = getFormComponents(props.type, { personType: personType.value, symmetryStatusJson: symmetryStatusJson.value })\n                    break;\n\n                case 'body':\n                    arr = getFormComponents(props.type, { personType: personType.value, extendInfo: extendInfo.value })\n                    break;\n\n                case 'whiteBalance':\n                    arr = getFormComponents(props.type, { imageType: imageType.value, baseValue: baseValue.value })\n                    break\n\n                case 'backgroundEnhance':\n                    arr = getFormComponents(props.type, { bgCleanModeDefault: bgCleanModeDefault.value, bgCleanMooreModeDefault: bgCleanMooreModeDefault.value })\n                    break\n                case 'sky':\n                    arr = getFormComponents(props.type, {skyExtendInfo: skyExtendInfo.value})\n                    break\n                default:\n                    arr = getFormComponents(props.type)\n                    break\n\n            }\n            return arr\n        })\n\n        const historyRecord = ref(new HistoryRecord(props.data, formComponents.value))\n\n        watch(formComponents, (val) => {\n            historyRecord.value = new HistoryRecord(props.data, val)\n        })\n        console.debug(\"historyRecord: \", historyRecord.value)\n\n        const allParamValues = ref({})\n        const paramsKeys = ref([])\n\n        const initParamsFilter = computed(()=> {\n            const obj = {}\n            for (const key in props.initParams) {\n                if (paramsKeys.value.includes(key)) {\n                    obj[key] = props.initParams[key]\n                }\n            }\n            return obj\n        })\n        const resultFilter = computed(()=> {\n            const obj = {}\n            for (const key in allParamValues.value) {\n                if (paramsKeys.value.includes(key)) {\n                    obj[key] = allParamValues.value[key]\n                }\n            }\n            return obj\n        })\n\n        const makeupSuitModify = ref(false)\n        const bgCropIsModify = ref(false)\n        const skyIsModify = ref(false)\n        const bgIsModify = ref(false)\n        const filterIsModify = ref(false)\n\n\n        // 是否存在修改\n        const isModify = computed(() => {\n            if (makeupSuitModify.value || bgCropIsModify.value || bgIsModify.value || filterIsModify.value || skyIsModify.value) {\n                return true\n            }\n\n            return Object.keys(initParamsFilter.value).length > 0\n                && Object.keys(resultFilter.value).length > 0\n                && !isEqual(resultFilter.value, initParamsFilter.value)\n        })\n\n\n        watch(isModify, (val) => emit('on-modify', val))\n        const isSkyDisabled = computed(() => props.type === 'sky' && !skyIsModify.value)\n        const isSkySelectEnable = computed(() => skyExtendInfo.value.sky)\n\n        const idPhoto = ref()\n        const idPhotoTailorPanel = ref()\n        const filterRef = ref()\n        const suitParamsGroup = ref()\n        const idPhotoSky = ref()\n\n        // 重置数据\n        const componentCollectionRef = ref()\n        const reset = () => {\n            if (componentCollectionRef.value) {\n                const data = componentCollectionRef.value.reset(initParamsFilter.value)\n                if (data && Object.keys(data).length > 0) {\n                    // console.debug('on-reset: ', data)\n                    const ext = historyRecord.value.createResetHistoryRecord(personType.value)\n                    console.debug('history: ', ext)\n                    emit('on-change', data, 'reset', ext)\n                }\n\n                idPhoto.value?.reset()\n                idPhotoTailorPanel.value?.reset()\n                suitParamsGroup.value?.reset()\n                filterRef.value?.reset()\n                idPhotoSky.value?.reset()\n\n                emit('on-reset', props.type)\n            }\n        }\n\n        // 更新插槽组件数据\n        const syncSlotComp = (data) => {\n            nextTick(() => {\n                idPhoto.value?.init(data)\n                idPhotoTailorPanel.value?.init(data)\n                idPhotoSky.value?.init(data)\n                if (suitParamsGroup.value && Object.keys(data).length > 4) {\n                    suitParamsGroup.value?.init(data)\n                }\n\n                if (filterRef.value && Object.keys(data).length > 0) {\n                    filterRef.value?.init(data)\n                }\n            })\n        }\n\n        // 同步参数\n        const sync = (data) => {\n            nextTick(() => {\n                allParamValues.value = cloneDeep(data)\n                syncSlotComp(data)\n            })\n        }\n\n        // 单滑竿重置 前置回调\n        const singleSingleFunction = (data) => {\n            return initParamsFilter.value[data.key]\n                ? initParamsFilter.value[data.key]\n                : data.defaultValue\n        }\n\n\n        const isRealtime = (data) => {\n            const keys = Object.keys(data || {}) || []\n            if (keys.length > 2 || keys.length <= 0) {\n                return false\n            }\n\n            return historyRecord.value.isRealtime(keys, enableRealtime.value)\n        }\n\n\n        const onInput = throttle(function (data) {\n            if (isRealtime(data)) emit('on-input', data)\n        }, 30)\n\n        const onSlotInput = throttle (function (data, changeData, operation) {\n            if (isRealtime(changeData) && operation !== 'init') emit('on-input', changeData, operation)\n        }, 30)\n\n        const result = ref({})\n        const onChange = (data) => {\n            if (isRealtime(data)) {\n                const ext = historyRecord.value.createHistoryRecord(data)\n                emit('on-change', data, 'manual', ext)\n            } else {\n                // 数值修改才触发\n                let isChange = false\n                for (const key in data) {\n                    if (result.value[key] !== data[key]) {\n                        isChange = true\n                    }\n                }\n                if (isChange) {\n                    const ext = historyRecord.value.createHistoryRecord(data)\n                    emit('on-change', data, 'manual', ext)\n                }\n            }\n        }\n\n        const customCollapseItemRef = ref()\n        onMounted(() => {\n            nextTick(() => {\n                const domRef = customCollapseItemRef.value\n                if (domRef) {\n                    domRef.$el.firstChild.firstChild.setAttribute('tabindex', '')\n                }\n            })\n        })\n\n        return {\n            customCollapseItemRef,\n            componentCollectionRef,\n            idPhoto,\n            idPhotoTailorPanel,\n            filterRef,\n            suitParamsGroup,\n            idPhotoSky,\n\n            allParamValues,\n            formComponents,\n\n            paramsKeys,\n            bgIsModify,\n            bgCropIsModify,\n            skyIsModify,\n            makeupSuitModify,\n            filterIsModify,\n            isModify,\n            isSkySelectEnable,\n            isSkyDisabled, //\n\n            reset,\n            sync,\n            syncSlotComp,\n            singleSingleFunction,\n\n            onInput,\n            onSlotInput,\n            onChange,\n\n            onBlur: () => new QtEventFilter().process([QtEventFilterType.KeyBoard], true),\n            onFocus: () => new QtEventFilter().process([QtEventFilterType.KeyBoard], false),\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// 字体颜色\n$smallFontSize: 13px; // 主要文字\n$smallFontColor: #B8B8B8; // 小文案主题色\n$placeholderFontColor: #C0C4CC; // 占位文字\n$primaryColor: #0080FF; // 占位文字\n\n.custom-collapse-item {\n    /deep/ {\n        .el-collapse-item__content {\n            padding-bottom: 8px;\n        }\n    }\n}\n\n.params-adjust-group-item-title {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 16px;\n    font-size: $smallFontSize;\n\n    .ts-icon-new {\n        width: 22px;\n        height: 11px;\n        margin-left: 4px;\n    }\n\n    .title-span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 12px;\n        .title {\n            font-weight: 500;\n        }\n\n        .desc {\n            font-size: 12px;\n            color: #A6A6A6;\n            line-height: 28px;\n            font-weight: 400;\n            padding-left: 4px;\n        }\n    }\n\n    > span {\n\n    }\n\n    .title-label {\n        color: $smallFontColor;\n        font-weight: 500;\n        font-size: 10px;\n    }\n\n    .reset-btn {\n        font-size: $smallFontSize;\n        margin-left: 16px;\n    }\n\n    .reset-btn-icon {\n        margin-left: 10px;\n        font-size: 16px;\n        opacity: 0.8;\n\n\n        &:hover {\n            opacity: 1;\n        }\n    }\n\n    .ts-icon-question-outside {\n        vertical-align: sub;\n        margin-left: 4px;\n    }\n\n    //.badge {\n    //    font-style: normal;\n    //    font-weight: 500;\n    //    font-size: 7px;\n    //    line-height: 7px;\n    //    border-radius: 4px 4px 4px 0;\n    //    position: relative;\n    //    top: -8px;\n    //    padding: 1px 4px;\n    //}\n}\n\n.params-adjust-group-item-label {\n    color: $placeholderFontColor;\n    text-align: center;\n}\n\n.params-adjust-group-component {\n    /deep/ {\n        .divider {\n            width: calc(100% + 32px);\n            position: relative;\n            left: -16px;\n        }\n\n        .params-adjust-group-item {\n            height: 38px;\n            margin-bottom: 0;\n\n            &.title {\n                height: 24px;\n                margin-top: 4px;\n            }\n        }\n\n        .params-adjust-group-button {\n            height: 38px;\n        }\n\n        .el-radio-group {\n            box-shadow: 0 2px 5px 0px rgba(0, 0, 0, 0.3);\n            background: #4D4D4D;\n            border-radius: 4px;\n\n            .el-radio-button__inner {\n                background: #535252;\n                border: 1px solid #535252;\n                padding: 4px 12px;\n                margin: 1px;\n\n                &:hover {\n                    color: #ffffff;\n                }\n            }\n\n            .el-radio-button__orig-radio:checked + .el-radio-button__inner {\n                background: #1E1E1E;\n                border: 1px solid #1E1E1E;\n                color: #EECC28;\n                border-radius: 4px;\n                box-shadow: none;\n            }\n        }\n\n        .el-switch {\n\n            .el-switch__core {\n                background: #535252;\n                border: 1px solid #535252;\n                box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.4);\n                width: 24px !important;\n                height: 8px;\n\n                &:after {\n                    width: 12px;\n                    height: 12px;\n                    background: rgba(255, 255, 255, 0.8);\n                    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.2);\n                    top: -3px;\n                    margin-left: -2px;\n                }\n            }\n\n            &.is-checked .el-switch__core {\n                background: $primaryColor;\n                border: 1px solid $primaryColor;\n                box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.16);\n\n                &:after {\n                    background: rgb(255, 255, 255);\n                    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.2);\n                    margin-left: -11px;\n                }\n            }\n        }\n\n        .el-slider {\n            .el-slider__runway {\n                background: #333333;\n                margin: 2px 0;\n\n                .el-slider__bar {\n                    background: #999999;\n                }\n\n                .el-slider__button {\n                    border: none !important;\n                    background: #EDEDED;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.15);\n                }\n            }\n        }\n\n        .el-checkbox {\n            .el-checkbox__input {\n                border-radius: 3.5px;\n                line-height: 19px;\n                height: 19px;\n                padding-top: 1px;\n                box-sizing: border-box;\n\n                .el-checkbox__inner {\n                    width: 12px;\n                    height: 12px;\n                    background-image: linear-gradient(171deg, #4D4E4E 0%, #5E5D5E 100%);\n                    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.2);\n                    outline: none;\n                    border: 1px solid #4D4E4E;\n\n                    &:after {\n                        height: 5px;\n                        left: 3px;\n                    }\n                }\n\n                &.is-checked {\n                    .el-checkbox__inner {\n                        background: $primaryColor;\n                        border: 1px solid $primaryColor;\n\n                        &:after {\n                            border-color: #fff;\n                        }\n                    }\n                }\n            }\n\n            .el-checkbox__label {\n                font-size: 12px;\n                color: rgba(255, 255, 255, 0.45);\n                padding-left: 6px;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./custom-collapse-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./custom-collapse-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./custom-collapse-item.vue?vue&type=template&id=3fa302f8&scoped=true&\"\nimport script from \"./custom-collapse-item.vue?vue&type=script&lang=js&\"\nexport * from \"./custom-collapse-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./custom-collapse-item.vue?vue&type=style&index=0&id=3fa302f8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fa302f8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <el-collapse\n        class=\"parameter-configuration-collapse\"\n        :class=\"['global__scroll-style']\"\n        :value=\"activeName\"\n        :style=\"{height:`${paramsColsHeight}`}\"\n        @change=\"activeName = $event\"\n    >\n        <template v-for=\"item in intelligentComponents\">\n            <custom-collapse-item\n                ref=\"customCollapseItemRef\"\n                show-label-percent\n                :key=\"item.key\"\n                :type=\"item.key\"\n                :data=\"{ ...item }\"\n                :active=\"activeName.includes(item.key)\"\n                :initParams=\"item.group === 'color' ? oriPaletteParams : oriBeautifyParams\"\n                @user-behavior=\"$emit('user-behavior', $event)\"\n                @on-change=\"(cParams, opt, ext) => item.group === 'color'\n                    ? $emit('on-change-color', cParams, opt, ext)\n                    : $emit('on-change', cParams, opt, ext)\n                \"\n                @on-input=\"(cParams, opt) => item.group === 'color'\n                    ? $emit('on-input-color', cParams, opt)\n                    : $emit('on-input', cParams, opt)\"\n                @keydown.native.space.prevent\n                @on-reset=\"$emit('on-reset', $event)\"\n                @on-modify=\"onModify($event, item.key)\"\n            >\n                <template slot=\"title-right\" v-if=\"item.key === 'removeDefects'\">\n                    <slot name=\"painter\"></slot>\n                </template>\n\n\t\t\t\t<template slot=\"title-right\" v-if=\"item.key === 'replace'\">\n\t\t\t\t\t<slot name=\"import\" :data=\"item\"></slot>\n\t\t\t\t</template>\n\n            </custom-collapse-item>\n        </template>\n    </el-collapse>\n</template>\n\n<script>\nimport { ref, computed, nextTick, watch, reactive } from 'vue'\nimport store from '@/store'\nimport CustomCollapseItem from '@/views/PhotoFinishing/CustomCollapseItem/custom-collapse-item'\nimport {\n    backgroundGroup,\n    beautyGroup, colorGroup, defaultOpenBackgroundCollapse,\n    defaultOpenBeautyCollapse,\n    defaultOpenColorCollapse\n} from '@/views/PhotoFinishing/CustomCollapseItem/ParamsComponents'\nimport { debounce } from 'lodash'\n\nexport default {\n    name: 'ParamsCollapse',\n    components: {\n        'custom-collapse-item': CustomCollapseItem,\n    },\n    props: {\n        type: String,\n        paramsColsHeight: {\n            type: String,\n            default: 'calc(100% - 72px)'\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { emit }) {\n        const activeName = ref([])\n        switch (props.type) {\n            case 'color':\n                activeName.value = defaultOpenColorCollapse\n                break\n\n            case 'beauty':\n                activeName.value = defaultOpenBeautyCollapse\n                break\n\n            case 'background':\n                activeName.value = defaultOpenBackgroundCollapse\n                break\n        }\n\n        const intelligentComponents = computed(() => {\n            if (props.type === 'color') return colorGroup\n            if (props.type === 'beauty') return beautyGroup\n            if (props.type === 'background') return backgroundGroup\n            return ''\n        })\n\n        const colorGroups = computed(() => (intelligentComponents.value.filter(item => item.group === 'color') || []).map(item => item.key))\n\n        const oriBeautifyParams = computed(() => store.getters['refine/oriBeautifyParams'])\n        const oriPaletteParams = computed(() => store.getters['refine/oriPaletteParams'])\n\n        const lastBeautifyParams = computed(() => store.getters['refine/lastBeautifyParams'])\n        const lastPaletteParams = computed(() => store.getters['refine/lastPaletteParams'])\n\n        const currBtUpdateTime = computed(() => store.getters['refine/currBtUpdateTime'])\n        const currPtUpdateTime = computed(() => store.getters['refine/currPtUpdateTime'])\n\n        const personType = computed(() => store.getters['refine/personType'])\n        // 更新插槽组件数据\n\n        const customCollapseItemRef = ref([])\n        const syncSlotComp = debounce(function () {\n            const beautifyParams = lastBeautifyParams.value\n            const paletteParams = lastPaletteParams.value\n\n            nextTick(() => {\n                // 同步通用组件\n                customCollapseItemRef.value.forEach(component => {\n                    if (colorGroups.value.includes(component.type)) {\n                        component.syncSlotComp(paletteParams)\n                    } else {\n                        component.syncSlotComp(beautifyParams)\n                    }\n                })\n            })\n        }, 300)\n        watch(personType, () => syncSlotComp())\n\n        // 所有智能优化通用组件\n        const syncParams = debounce(function () {\n            const beautifyParams = lastBeautifyParams.value\n            const paletteParams = lastPaletteParams.value\n            //\n            nextTick(() => {\n                // 同步通用组件\n                customCollapseItemRef.value.forEach(component => {\n                    if (colorGroups.value.includes(component.type)) {\n                        component.sync(paletteParams)\n                    } else {\n                        component.sync(beautifyParams)\n                    }\n                })\n            })\n        }, 300)\n\n        if (props.type === 'color') {\n            watch(currPtUpdateTime, (val) => {\n                if (val) {\n                    console.log('update params time palette: ', val)\n                    syncParams()\n                }\n            })\n        } else {\n            watch(currBtUpdateTime, (val) => {\n                if (val) {\n                    console.log('update params time beautify: ', val)\n                    syncParams()\n                }\n            })\n        }\n\n        const obj = {}\n        intelligentComponents.value.forEach(item => {\n            obj[item.key] = false\n        })\n        const modifyObj = reactive(obj)\n\n        // 是否修改\n        const onModify = (val, key) => modifyObj[key] = val\n        const isModify = computed(() => {\n            let v = false\n            for (const key in modifyObj) {\n                if (modifyObj[key]) {\n                    v = true\n                }\n            }\n            return v\n        })\n        watch(isModify, (val) => {\n            store.commit('refine/_SetNavbarDots', { [props.type]: val || false })\n        })\n\n        return {\n            customCollapseItemRef,\n\n            activeName,\n            intelligentComponents,\n            oriBeautifyParams,\n            oriPaletteParams,\n\n            onModify\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamsCollapse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamsCollapse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ParamsCollapse.vue?vue&type=template&id=5cb77a4a&\"\nimport script from \"./ParamsCollapse.vue?vue&type=script&lang=js&\"\nexport * from \"./ParamsCollapse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.TsDialog,{attrs:{\"append-to-body\":\"\",\"destroy-on-close\":\"\",\"top\":\"30vh\",\"width\":\"504px\",\"custom-class\":\"common-dialog cover-dialog\",\"visible\":_setup.visible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_setup.visible=$event}}},[_c('div',{staticClass:\"title my_title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(\"新建预设\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"formLine\"},[_c('span',[_vm._v(\"预设名称：\")]),_c('el-input',{ref:\"inputPresetNameRefs\",staticClass:\"input-name\",attrs:{\"show-word-limit\":\"\",\"size\":\"mini\",\"maxlength\":\"20\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.stopPropagation();}},model:{value:(_setup.form.name),callback:function ($$v) {_vm.$set(_setup.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('div',{staticClass:\"formLine\"},[_c('span',[_vm._v(\"分类：\")]),_c(_setup.TsSelectBox,[_c(_setup.ElSelect,{staticClass:\"presetSelect\",attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.stopPropagation();}},model:{value:(_setup.whichPresetClass),callback:function ($$v) {_setup.whichPresetClass=$$v},expression:\"whichPresetClass\"}},[_vm._l((_setup.allPreset),function(item,index){return _c(_setup.ElOption,{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}),_c('div',{staticStyle:{\"padding-left\":\"18px\",\"cursor\":\"pointer\",\"height\":\"30px\",\"display\":\"flex\",\"align-items\":\"center\"},on:{\"click\":_setup.handleAddPresetClass}},[_c('span',{staticClass:\"el-icon-circle-plus-outline\"}),_c('span',{staticStyle:{\"font-size\":\"14px\",\"margin-left\":\"4px\"}},[_vm._v(\"新建分类\")])]),_c('template',{slot:\"empty\"},[_c('p',{staticStyle:{\"font-size\":\"14px\",\"color\":\"#999\",\"margin-left\":\"20px\",\"margin-top\":\"10px\"}},[_vm._v(\"暂无分类\")]),_c('div',{staticStyle:{\"padding-left\":\"18px\",\"cursor\":\"pointer\",\"height\":\"50px\",\"display\":\"flex\",\"align-items\":\"center\"},on:{\"click\":_setup.handleAddPresetClass}},[_c('span',{staticClass:\"el-icon-circle-plus-outline\"}),_c('span',{staticStyle:{\"font-size\":\"14px\",\"margin-left\":\"4px\"}},[_vm._v(\"新建分类\")])])])],2)],1)],1),_c(_setup.ElDivider,{staticClass:\"divider\"}),_c('div',{staticClass:\"formLine\"},[_c('span',{staticStyle:{\"align-self\":\"flex-start\"}},[_vm._v(\"筛选：\")]),_c(_setup.PresetSetting,{staticStyle:{\"height\":\"184px\"},attrs:{\"custom-checkbox-settings\":_setup.customSettings,\"checkbox-object\":_setup.checkboxSettings},on:{\"on-change\":_setup.onPresetSettingChange,\"on-select-input\":function($event){_setup.selectType = $event}}})],1)],1),(_vm.isRecommendPreset)?_c('div',{staticClass:\"footer\"},[_c(_setup.ElButton,{staticClass:\"claBotButton\",attrs:{\"size\":\"mini\",\"type\":\"default\"},on:{\"click\":function($event){_setup.visible = false}}},[_vm._v(\" 取消 \")]),_c(_setup.ElButton,{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"loading\":_setup.loading,\"disabled\":!_setup.form.name || !_setup.visible},on:{\"click\":function($event){return _setup.onSubmit('savePresetBtn')}}},[_vm._v(\" 保存 \")])],1):_c('div',{staticClass:\"footer\"},[_c(_setup.ElButton,{staticClass:\"claBotButton\",attrs:{\"type\":\"default\",\"loading\":_setup.loading,\"disabled\":!_setup.form.name || !_setup.visible},on:{\"click\":function($event){return _setup.onSubmit('CreatedNewPresetBtn')}}},[_vm._v(\" 创建新预设 \")]),_c(_setup.ElButton,{attrs:{\"type\":\"primary\",\"loading\":_setup.coverLoading,\"disabled\":!_setup.form.name || !_setup.visible},on:{\"click\":_setup.onCover}},[_vm._v(\"覆盖旧预设 \")])],1),_c('div',{staticClass:\"tip_container\"},[(_setup.hasMineIdPhoto)?[_c('i',{staticClass:\"el-icon-warning-outline tip_icon\"}),_c('span',{staticClass:\"tip\"},[_vm._v(\"预设中上传的证件照背景仅支持当前电脑使用\")])]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { computed, nextTick, reactive, Ref, ref, watch } from 'vue'\nimport store from '@/store'\n\nimport { IFormatCheckJson } from '@/types/preset'\n\nimport refine from '@/qt-ipc/business/refine'\n\nimport { defaultSyncCheckboxSettings, getCustomCheckboxSettings } from '@/constants/presetParams/presetParamsGroup'\nimport { createPresetSuit } from '@/api/settingApi'\n\nimport moment from 'moment-timezone'\nimport { delay } from '@/universal/utils/common'\nimport { presetCheckHasMineIdPhoto } from '@/utils/preset/PresetSuitManager'\n\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport useToastRepositories from '@/composables/useToastRepositories'\n\nimport {\n    Button as ElButton,\n    Select as ElSelect,\n    Option as ElOption,\n    Divider as ElDivider\n} from 'element-ui'\n\nimport TsDialog from '@/components/TsDialog/ts-dialog'\n// @ts-ignore\nimport PresetSetting from './PresetSetting'\n// @ts-ignore\nimport TsSelectBox from '@/components/TsSelect/TsSelectBox'\nimport BeautifyParamsViewModel from '@/view-model/beautifyParamsViewModel'\nimport PaletteParamsViewModel from '@/view-model/paletteParamsViewModel'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SavePresetDialog',\n  props: {\n    value: {\n        type: Boolean,\n        default: false\n    },\n    getParamsJson: {\n        type: Function\n    },\n    isRecommendPreset: Boolean,\n    preset_label: Object,\n    deletePresetSuitId: [String, Number],\n    refineUUID: {\n        type: String,\n        default: ''\n    }\n},\n  emits: ['input', 'newPresetClass', 'saveSuccess'],\n  setup(__props, { emit: $emit }) {\n\nconst props = __props\n\n\n\n\n\nconst checkboxSettings = ref()\nconst inputPresetNameRefs = ref()\n\nlet visible = ref(props.value)\nwatch(() => props.value, (val) => {\n    visible.value = val\n    if (val) {\n        checkboxSettings.value = defaultSyncCheckboxSettings\n        checkHasMineIdPhoto()\n        getPresetClass()\n        nextTick(() => {\n            inputPresetNameRefs.value.focus()\n            // this.whichPresetClass = null\n            // this.whichPresetClass = this.allPreset[0] ? this.allPreset[0].value : null\n        })\n    } else {\n        checkboxSettings.value = {}\n    }\n})\nwatch(visible, (val) => $emit('input', val))\n\nlet loading = ref(false)\nlet coverLoading = ref(false)\nlet hasMineIdPhoto = ref(false)\nlet whichPresetClass = ref(null)\n\nconst userId = computed(() => store.getters.userId)\n\nconst form = reactive({\n    cover: '',\n    name: '预设1'\n})\n\nconst allPreset = computed(() => {\n    let class_list = JSON.parse(JSON.stringify((store.state as any).presetting.preset_class))\n    class_list = class_list.filter((item: any) => {\n        return item.type !== 1\n    })\n    return class_list\n})\n\nwatch(() => props.preset_label, (val: any) => {\n    if (val === null) {\n        form.name = '预设1'\n        whichPresetClass.value = allPreset.value[0] ? allPreset.value[0].value : null\n    } else {\n        form.name = val.name // 弹窗使用\n        whichPresetClass.value = val.classId\n    }\n})\n\nconst presetIncludeJson: Ref<IFormatCheckJson> = ref({\n    params: [],\n    effects: [],\n    crop: [],\n    algoVersion: []\n})\n\nconst customSettings = ref()\n\nconst initCustomCheckboxSettings = (beautifyJson: any, paletteJson: any) => {\n    const model = new BeautifyParamsViewModel(beautifyJson, null, -1)\n    const paletteModel = new PaletteParamsViewModel({ json: paletteJson, userId: -1 })\n\n    const config = model.getHasEffectConfig()\n    const ptConfig = paletteModel.getHasEffectConfig()\n\n    config.params = [...config.params, ...ptConfig.params]\n    config.effects = [...config.effects, ...ptConfig.effects]\n\n    customSettings.value = getCustomCheckboxSettings(config)\n}\n\nconst checkHasMineIdPhoto = async (): Promise<void> => {\n    const { beautifyJsonStr, paletteJsonStr } = await refine.getPresetSuitJson(props.refineUUID)\n    if (!beautifyJsonStr) {\n        hasMineIdPhoto.value = false\n        return\n    }\n    try {\n        const beautifyJson = JSON.parse(beautifyJsonStr)\n        const paletteJson = JSON.parse(paletteJsonStr)\n        initCustomCheckboxSettings(beautifyJson, paletteJson)\n\n        hasMineIdPhoto.value = presetCheckHasMineIdPhoto(beautifyJson)\n    } catch (e) {\n    }\n}\n\nconst getPresetClass = (): void => {\n    store.dispatch('getPresetClass')\n}\n\nconst handleAddPresetClass = (): void => {\n    $emit('newPresetClass')\n}\n\nconst onPresetSettingChange = (data: IFormatCheckJson) => {\n    presetIncludeJson.value.params = data.params\n    presetIncludeJson.value.effects = data.effects\n    presetIncludeJson.value.crop = data.crop\n    presetIncludeJson.value.algoVersion = data.algoVersion\n}\n\nconst getParamsJson = async () => {\n    const json = await refine.getPresetSuitJson(props.refineUUID, presetIncludeJson.value)\n    let beautifyJson = null\n    let paletteJson = null\n    try {\n        beautifyJson = JSON.parse(json.beautifyJsonStr)\n        paletteJson = JSON.parse(json.paletteJsonStr)\n    } catch (e) {\n    }\n    return { beautifyJson, paletteJson }\n}\n\nconst { tsNotify } = useToastRepositories()\n\nconst onSubmit = async (type: string, createdTime: any = null) => {\n    if (whichPresetClass.value === null || whichPresetClass.value === '') {\n        tsNotify({\n            type: 'error',\n            message: '请先选择分类'\n        })\n        return\n    }\n    let { cover, name } = form\n    name = name.trim().replace(/ +/g, ' ')\n    let isSaveBtnClick = type === 'savePresetBtn' || type === 'CreatedNewPresetBtn'\n    if (isSaveBtnClick) loading.value = true\n\n    const {\n        beautifyJson: fsParams,\n        paletteJson: paletteParams\n    } = await getParamsJson()\n\n    try {\n        const jsonObject = {\n            beautify: { cover, configJson: fsParams },\n            palette: { cover, configJson: paletteParams }\n        }\n        const res: any = await createPresetSuit(jsonObject, name, whichPresetClass.value, createdTime)\n\n        if (res) {\n            try {\n                await store.dispatch('loadAllPresents', { userId: userId.value, loadDb: true })\n                const model = await store.dispatch('getPresetSuitByCache', res.setting_id)\n                $emit('saveSuccess', model)\n            } catch (e) {\n                tsNotify({\n                    type: 'error',\n                    message: e.message\n                })\n            }\n        }\n        let message = type === 'coverOldPreset' ? '预设覆盖成功。您可以在【预设】中查看。' : '预设保存成功。您可以在【预设】中查看。'\n        PointSavePresetEvent(type)\n        tsNotify({\n            type: 'success',\n            message: message\n        })\n        visible.value = false\n        delay(300).then(() => {\n            if (isSaveBtnClick) loading.value = false\n        })\n    } catch (err) {\n        if (err && err.message) {\n            tsNotify({\n                type: 'error',\n                message: err.message\n            })\n        }\n    }\n    if (isSaveBtnClick) loading.value = false\n}\n\n/**\n * 覆盖预设（本质删除旧预设，创建新的预设，对之前应用过的预设不产生影响）\n * @returns {Promise<void>}\n */\nconst onCover = async () => {\n    //1、获取即将删除预设的创建时间\n    let presetItems = (store.state as any).presetting.preItems\n    let deletePresetSuitId = props.deletePresetSuitId\n    let createdAt\n    for (const i of presetItems) {\n        if (Number(i.id) === Number(deletePresetSuitId)) {\n            createdAt = i.created_at\n            if (!createdAt) { //兼容之前没有created_at字段\n                createdAt = i.updated_at\n            }\n            break\n        }\n    }\n    createdAt = moment(createdAt).format('YYYY-MM-DD HH:mm:ss')\n\n    //2、删除原来的预设\n    coverLoading.value = true\n    await store.dispatch('deletePreset', { id: deletePresetSuitId })\n\n    //3、添加新的预设\n    await onSubmit('coverOldPreset', createdAt)\n    coverLoading.value = false\n}\n\nconst selectType = ref(0)\nconst {\n    PointSavePresetSubmit1,\n    PointSavePresetCover,\n    PointSavePresetSubmit2\n} = useRefinePointsRepositories()\n\n//保存预设、创建新预设、覆盖旧预设埋点\nconst PointSavePresetEvent = (type: string): void => {\n    if (type === 'savePresetBtn') {\n        PointSavePresetSubmit1(selectType.value)\n        return\n    }\n    let pointStr = 'name_1_sort_1'\n    if (props.preset_label) {\n        const oldName = props.preset_label.name\n        const oldClassId = props.preset_label.classId\n        const name = form.name\n        const classId = whichPresetClass.value\n        const nameStr = oldName === name ? 'name_1' : 'name_2'\n        const classIdStr = oldClassId === classId ? 'sort_1' : 'sort_2'\n        pointStr = nameStr + '_' + classIdStr\n    }\n\n    if (type === 'coverOldPreset') {\n        PointSavePresetCover(pointStr, selectType.value)\n    } else {\n        PointSavePresetSubmit2(pointStr, selectType.value)\n    }\n}\n\n\nreturn { __sfc: true,props, $emit, checkboxSettings, inputPresetNameRefs, visible, loading, coverLoading, hasMineIdPhoto, whichPresetClass, userId, form, allPreset, presetIncludeJson, customSettings, initCustomCheckboxSettings, checkHasMineIdPhoto, getPresetClass, handleAddPresetClass, onPresetSettingChange, getParamsJson, tsNotify, onSubmit, onCover, selectType, PointSavePresetSubmit1, PointSavePresetCover, PointSavePresetSubmit2, PointSavePresetEvent, ElButton, ElSelect, ElOption, ElDivider, TsDialog, PresetSetting, TsSelectBox }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePresetDialog.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePresetDialog.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./SavePresetDialog.vue?vue&type=template&id=3c4587a6&scoped=true&\"\nimport script from \"./SavePresetDialog.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./SavePresetDialog.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./SavePresetDialog.vue?vue&type=style&index=0&id=3c4587a6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c4587a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('el-dialog',{attrs:{\"append-to-body\":\"\",\"top\":_vm.dialogTop + 'px',\"width\":_vm.dialogWidth + 'px',\"align\":\"center\",\"title\":\"年龄性别修改\",\"custom-class\":\"setting-dialog gpu-switch-dialog\",\"visible\":_vm.visible,\"close-on-click-modal\":false,\"destroy-on-close\":true,\"before-close\":_vm.onClose},on:{\"update:visible\":function($event){_vm.visible=$event}},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.onBodyClick.apply(null, arguments)}}},[_c('div',{staticClass:\"title-container\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('el-button',{staticClass:\"add-face-btn\",attrs:{\"id\":_vm.manualFaceGuidId},on:{\"click\":_vm.onAddFaceFrameClick}},[_c('img',{staticClass:\"btn-icon\",attrs:{\"src\":\"\"}}),_c('span',{staticClass:\"btn-title\"},[_vm._v(\"添加人脸\")])]),_c('span',{staticClass:\"title\"},[_vm._v(\"年龄性别修改\")])],1),_c('ImportAgeSexReviseItem',{ref:\"ImportAgeSexReviseItem\",staticClass:\"container\",attrs:{\"value\":_vm.value},on:{\"toScale\":_vm.toScale}},[_c('div',{ref:\"centerInfo\",staticClass:\"centerInfo\",style:(`height: ${_vm.dialogHeight}px`),attrs:{\"slot\":\"centerInfo\"},slot:\"centerInfo\"},[_c('canvas',{ref:\"popupCanvas\",attrs:{\"id\":\"popupCanvas\"}}),_c('ImportAgeSexReviseBox',{ref:\"ImportAgeSexReviseBox\",attrs:{\"canvasHeight\":_vm.canvasHeight,\"canvasWidth\":_vm.canvasWidth,\"face-data\":_vm.faceData,\"refineUUID\":this.refineUUID,\"scale\":_vm.scale},on:{\"noComplete_toScale\":_vm.noComplete_toScale,\"callBackPersonType\":_vm.callBackPersonType,\"onFaceDeleted\":_vm.onFaceDeleted,\"onStatusChanged\":_vm.onFaceEditStatusChanged}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"centerInfo\"},on:{\"mousedown\":_vm.mousedown,\"mousewheel\":_vm.mousewheel}},[_vm._t(\"centerInfo\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import eventbus from \"@/utils/eventbus\";\n\nexport default class GlobalDocumentEventBus{\n    static addEventListener(eventName:string,func:((event:any)=>void)){\n        let callBack = document[eventName]\n        if (!callBack){\n            callBack = (e:any)=>{\n                eventbus.$emit(eventName,e)\n            }\n            document[eventName] = callBack\n        }\n        eventbus.$on(eventName,func)\n    }\n\n    static removeEventListener(eventName:string,func:((event:any)=>void)){\n        eventbus.$off(eventName,func)\n    }\n}","<template>\n    <div @mousedown=\"mousedown\"\n         @mousewheel=\"mousewheel\"\n         id=\"centerInfo\">\n        <slot name=\"centerInfo\"></slot>\n    </div>\n</template>\n\n<script>\nimport GlobalDocumentEventBus from \"@/utils/GlobalDocumentEventBus\";\nimport { throttle } from 'lodash'\n\nexport default {\n    name: 'ImportAgeSexReviseItem.vue',\n    data() {\n        return {\n            isMove: false,\n            config: {\n                edit: {\n                    width: 0,\n                    height: 0,\n                    left: 0,\n                    top: 0\n                },\n                parentElement: {\n                    width: 0,\n                    height: 0\n                },\n                scaleRadio: 1\n            },\n            isFirst: false\n        }\n    },\n    props: {\n        value: {\n            type: Boolean,\n            default() {\n                return true\n            }\n        }\n    },\n    watch: {\n        value: {\n            handler() {\n                this.clearUpData()\n                //第一次移动位移偏差计算标志\n                this.isFirst = true\n            }\n        }\n    },\n    methods: {\n        clearUpData() {\n            this.config.edit = {\n                width: 0,\n                height: 0,\n                left: 0,\n                top: 0\n            }\n            this.config.scaleRadio = 1\n        },\n\n        mouseAll() {\n\t\t\tGlobalDocumentEventBus.addEventListener('onmousemove',this.documentMove)\n\t\t\tGlobalDocumentEventBus.addEventListener('onmouseup',this.documentUp)\n        },\n        //释放全局移动事件\n        mouseAllUnRegister() {\n\t\t\tGlobalDocumentEventBus.removeEventListener('onmousemove',this.documentMove)\n\t\t\tGlobalDocumentEventBus.removeEventListener('onmouseup',this.documentUp)\n        },\n        //鼠标按住\n        mousedown(ev) {\n            let e = ev\n            let x = e.pageX\n            let y = e.pageY\n            this.isMove = true\n            this.downX = x\n            this.downY = y\n            this.config.parentElement.width = ev.currentTarget.parentElement.offsetWidth\n            this.config.parentElement.height = ev.currentTarget.parentElement.offsetHeight\n            this.mouseAll()\n            //解决一开始把图片放中心，导致位移出现偏差的问题\n            if (this.isFirst) {\n                const centerInfoBox = document.getElementById('centerInfo')\n                this.config.edit.left = parseInt(centerInfoBox.style.left)\n                this.config.edit.top = parseInt(centerInfoBox.style.top)\n                this.isFirst = false\n            }\n        },\n        mousewheel:throttle(function (ev) {\n            // 页面滚动距顶部距离\n            //let direction = e.deltaY > 0 ? 'down' : 'up'\n            const e = ev || window.event\n            let direction = e.deltaY < 0\n            if (direction) {\n                // debugger\n                this.config.scaleRadio = (parseFloat(this.config.scaleRadio) + 0.02).toFixed(2)\n                this.$emit('toScale', this.config.scaleRadio)\n            } else {\n                // debugger\n                if (this.config.scaleRadio < 0.1) {\n                    this.config.scaleRadio = 0.1\n                    return\n                } else {\n                    this.config.scaleRadio = (parseFloat(this.config.scaleRadio) - 0.02).toFixed(2)\n                }\n                this.$emit('toScale', this.config.scaleRadio)\n            }\n            if (ev.preventDefault) {/*FF 和 Chrome*/\n                ev.preventDefault()// 阻止默认事件\n            }\n            return false\n        },10),\n        //\n        changeScaleRadio(scale) {\n            this.config.scaleRadio = scale\n        },\n        documentMove(ev) {\n            let e = ev\n            let ax = e.pageX\n            let ay = e.pageY\n            //平移\n            if (this.isMove) {\n                this.config.edit.left += ax - this.downX\n                this.config.edit.top += ay - this.downY\n                this.downX = ax\n                this.downY = ay\n                let leftMax = Math.abs(this.config.edit.left)\n                let topMax = Math.abs(this.config.edit.top)\n                const leftOriginal = this.config.parentElement.width\n                const topOriginal = this.config.parentElement.height\n                const popupCanvas = document.getElementById('popupCanvas')\n                if (leftMax > leftOriginal / 2 * this.config.scaleRadio) {\n                    if (this.config.edit.left > 0) {\n                        this.config.edit.left = leftOriginal / 2 * this.config.scaleRadio\n                    } else {\n                        this.config.edit.left = -leftOriginal / 2 * this.config.scaleRadio\n                    }\n                }\n                if (topMax > topOriginal / 2 * this.config.scaleRadio) {\n                    if (this.config.edit.top > 0) {\n                        this.config.edit.top = topOriginal / 2 * this.config.scaleRadio\n                    } else {\n                        this.config.edit.top = -topOriginal / 2 * this.config.scaleRadio\n                    }\n                }\n                //操作\n                const centerInfoBox = document.getElementById('centerInfo')\n                centerInfoBox.style.left = this.config.edit.left + 'px'\n                centerInfoBox.style.top = this.config.edit.top + 'px'\n            }\n        },\n        documentUp() {\n            this.isMove = false\n            this.mouseAllUnRegister()\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n","import {PersonBioModel} from \"@/model/PersonBioModel\";\nimport {IFaceBox, IPersonBio} from \"@/qt-ipc/types/refine\";\nexport enum PersonBioItemStatus {\n    None = 0,\n    Init = 1,   // 初始化，添加瞬间的状态(出现框上的提示和打钩、打X)\n    Pending = 2,// 出现打钩、打叉\n    Approved = 3, // 通过\n    Cancelled = 4 // 取消\n}\n\nexport class PersonBioViewModel {\n    _status:PersonBioItemStatus = PersonBioItemStatus.None\n    _isSelected:boolean = false\n    _bioModel:PersonBioModel|null = null\n\n    static Create():PersonBioViewModel{\n        let dataModel = new PersonBioModel(null)\n        let instance = new PersonBioViewModel(dataModel)\n        return instance\n    }\n\n    static CreateFbrFileName(){\n        const { v4: uuidv4 } = require('uuid');\n        const time = (new Date()).getTime()\n        let fileName = `${uuidv4()}_${time}`\n        fileName = fileName.replaceAll('-','')\n        return fileName\n    }\n\n    constructor(bioModel:PersonBioModel) {\n        this._bioModel = bioModel\n    }\n\n    /*\n        新增人脸框，确认时候，返回的数据绑定\n     */\n    bindFromConfirm(faceJson:IPersonBio){\n        this.faceBoxNormalized = faceJson.faceBoxNormalized\n        this.gender = faceJson.gender\n        this.age = faceJson.age\n        this.personType = faceJson.personType\n        this.id = faceJson.id\n    }\n\n    set age(age:number){\n        this._bioModel!.age = age\n    }\n    get age():number{\n        return this._bioModel!.age\n    }\n\n    set faceBox(faceBox:number[]){\n        this._bioModel!.faceBox = faceBox\n    }\n    get faceBox():number[]{\n        return this._bioModel!.faceBox\n    }\n\n    set faceBoxNormalized(faceBoxNormalized:number[]){\n        this._bioModel!.faceBoxNormalized = faceBoxNormalized\n    }\n    get faceBoxNormalized():number[]{\n        return this._bioModel!.faceBoxNormalized\n    }\n\n\n    set gender(gender:number){\n        this._bioModel!.gender = gender\n    }\n    get gender():number{\n        return this._bioModel!.gender\n    }\n\n    set personType(personType:string){\n        this._bioModel!.personType = personType\n    }\n    get personType():string{\n        return this._bioModel!.personType\n    }\n\n    set id(id:number){\n        this._bioModel!.id = id\n    }\n    get id():number{\n        return this._bioModel!.id\n    }\n\n    set status(status:number){\n        this._status = status\n    }\n\n    get status():number{\n        return  this._status\n    }\n\n    set isSelected(isSelected:boolean){\n        this._isSelected = isSelected\n    }\n    get isSelected():boolean{\n        return  this._isSelected\n    }\n\n    getFaceRect():IFaceBox{\n        return this._bioModel!.getFaceRect()\n    }\n\n    getFaceBoxNormalizedRect():IFaceBox{\n        return this._bioModel!.getFaceBoxNormalizedRect()\n    }\n\n    set deleted(deleted:boolean){\n        this._bioModel!.deleted = deleted\n    }\n\n    get deleted():boolean{\n        return this._bioModel!.deleted\n    }\n\n    set isManual(isManual:boolean){\n        this._bioModel!.isManual = isManual\n    }\n\n    get isManual():boolean{\n        return this._bioModel!.isManual\n    }\n\n    set add(isManual:boolean){\n        this._bioModel!.add = isManual\n    }\n\n    get add():boolean{\n        return this._bioModel!.add\n    }\n\n    set changed(changed:boolean){\n        this._bioModel!.changed = changed\n    }\n\n    get changed():boolean{\n        return this._bioModel!.changed\n    }\n\n    set fbrFileName(fbrFileName:string){\n        this._bioModel!.fbrFileName = fbrFileName\n    }\n\n    get fbrFileName():string{\n        return this._bioModel!.fbrFileName\n    }\n\n    toJson(){\n        return {\n            ...this._bioModel,\n            isSelected:this._isSelected,\n            status:this._status\n        }\n    }\n}","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportAgeSexReviseItem.vue?vue&type=template&id=29e91d92&scoped=true&\"\nimport script from \"./ImportAgeSexReviseItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportAgeSexReviseItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29e91d92\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"personBox\",staticClass:\"personBox\",style:({ width: _vm.canvasWidth + 'px', height: _vm.canvasHeight + 'px' }),attrs:{\"id\":\"personBoxId\"}},[_vm._l((_vm.faceDataTemp),function(person,index){return [(person.deleted == false)?_c('div',{key:index,staticClass:\"person-type\",class:'person-' + person.personType,style:({  left : person.faceBoxNormalized[0]*_vm.canvasWidth + 'px', top : person.faceBoxNormalized[1]*_vm.canvasHeight + 'px', width : person.faceBoxNormalized[2]*_vm.canvasWidth + 'px', height : person.faceBoxNormalized[3]*_vm.canvasHeight + 'px',border:`${person.isSelected?_vm.selectedBorderWidth:0}px ${_vm.selectedColor} solid`}),attrs:{\"id\":person.isSelected?_vm.ManualFaceFrameId:'',\"faceId\":person.id},on:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();return _vm.onNormalFaceFrameClick(person)},function($event){if($event.shiftKey||$event.altKey||$event.metaKey)return null;if(!$event.ctrlKey)return null;$event.stopPropagation();return _vm.onNormalFaceFrameMetaClick(person,false)},function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey)return null;if(!$event.metaKey)return null;$event.stopPropagation();return _vm.onNormalFaceFrameMetaClick(person,true)}]}},[_c('el-select',{staticClass:\"change_sex\",style:({width : person.faceBoxNormalized[2]*_vm.canvasWidth + 'px',\n                                    height : person.faceBoxNormalized[3]*_vm.canvasHeight/4 + 'px',\n                                    opacity:_vm.selectedPersons.length > 0 ? (person.isSelected ?1:_vm.InActiveAlpha):1\n                                    }),attrs:{\"popper-class\":\"sex-select\",\"popper-append-to-body\":false,\"disabled\":_vm.isPending},on:{\"change\":function($event){return _vm.refreshPage(person.personType, index,person)},\"visible-change\":function($event){return _vm.isSelect($event,index)}},model:{value:(person.personType),callback:function ($$v) {_vm.$set(person, \"personType\", $$v)},expression:\"person.personType\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(!person.isSelected)?[_vm._l((_vm.borderDiv),function(item,index){return [_c('div',{key:index,staticClass:\"borderDiv\",class:item,style:({opacity:_vm.selectedPersons.length > 0 ? (person.isSelected ?1:_vm.InActiveAlpha):1})})]})]:_vm._e()],2):_vm._e()]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canShowFaceMarkToolTip),expression:\"canShowFaceMarkToolTip\"}],ref:\"myTooltipRef\",staticClass:\"my-tooltip\",style:({background:_vm.tooltipBgColor}),attrs:{\"id\":\"my-tooltip-id\"}},[(_vm.isFaceMarkLoading)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.faceMarkTooltipText)+\" \")]:_vm._e(),(!_vm.isFaceMarkLoading)?[_vm._v(\" \"+_vm._s(_vm.faceMarkTooltipText)+\" \")]:_vm._e(),_c('div',{attrs:{\"id\":\"arrow\",\"data-popper-arrow\":\"\"}})],2),(_vm.newFaceDataViewModel != null)?[_c('face-resize-frame',{ref:\"faceResizeRef\",attrs:{\"frame\":{\n\t\t\t\t\t\t\t\tx:_vm.newFaceDataViewModel.faceBox[0],\n\t\t\t\t\t\t\t\ty:_vm.newFaceDataViewModel.faceBox[1],\n\t\t\t\t\t\t\t\twidth:_vm.newFaceDataViewModel.faceBox[2],\n\t\t\t\t\t\t\t\theight:_vm.newFaceDataViewModel.faceBox[3]\n\t\t\t\t\t},\"inColor\":_vm.newFaceFramePendingBorderColor,\"outColor\":_vm.outColor,\"maxSize\":{width:_vm.canvasWidth,height:_vm.canvasHeight},\"canDragFaceFrame\":_vm.canDragFaceFrame,\"scale\":_vm.scale},on:{\"onChange\":_vm.onNewFaceFrameChanged,\"onFinished\":_vm.onNewFaceChangeFinished}},[(_vm.canShowFaceConfirm && !_vm.isFaceMarkLoading && !_vm.isFaceMarkWarning)?_c('div',{staticClass:\"new-face-frame-confirm\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-check\"},on:{\"click\":_vm.onFaceConfirm}}),_c('el-button',{attrs:{\"icon\":\"el-icon-close\"},on:{\"click\":_vm.onFaceReject}})],1):_vm._e()])]:_vm._e(),_c('div',{ref:\"bottomToolRef\",staticClass:\"face-bottom-tool\"},[(_vm.selectedPersons.length == 1)?[_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();return _vm.onDeleteFaces.apply(null, arguments)}}},[_vm._v(\"删除\")])]:_vm._e(),(_vm.selectedPersons.length > 1)?[_c('el-button',{attrs:{\"disabled\":_vm.isPending,\"icon\":\"\"},nativeOn:{\"click\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();return _vm.onBatchSexClick.apply(null, arguments)}}},[_c('img',{staticClass:\"btn-icon\",attrs:{\"src\":\"\"}}),_c('span',{staticClass:\"btn-title\"},[_vm._v(\"批量修改性别\")]),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-select',{ref:\"sexSelectorRef\",staticClass:\"cla_sex_selector\",attrs:{\"popper-class\":\"batch-sex-select\",\"popper-append-to-body\":true,\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.onBottomGroupSexItemChoosed(_vm.batchSelectSexVal)}},model:{value:(_vm.batchSelectSexVal),callback:function ($$v) {_vm.batchSelectSexVal=$$v},expression:\"batchSelectSexVal\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();return _vm.onDeleteFaces.apply(null, arguments)}}},[_vm._v(\"批量删除\")])]:_vm._e()],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"rootRef\",staticClass:\"resize-container\",style:({left:`${_vm.currentFrame.x}px`,top:_vm.currentFrame.y+'px',width:_vm.currentFrame.width+'px',height:_vm.currentFrame.height+'px'})},[_c('div',{staticClass:\"out-box\",style:({\n\t\tleft:_vm.outBoxFrame.x +'px',\n\t\ttop:_vm.outBoxFrame.y+'px',\n\t\twidth:_vm.outBoxFrame.width+'px',\n\t\theight:_vm.outBoxFrame.height+'px',\n\t\tborder: `${_vm.outerBorderWidth}px solid ${_vm.outColor}`,\n\t\tzIndex:1\n\t}),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.onBodyMousedown($event)}}}),_c('div',{staticClass:\"inner-box\",style:({\n\t\tleft:_vm.innerBoxFrame.x+'px',\n\t\ttop:_vm.innerBoxFrame.y+'px',\n\t\twidth:_vm.innerBoxFrame.width+'px',\n\t\theight:_vm.innerBoxFrame.height+'px',\n\t\tborder: `${_vm.innerBorderWidth}px solid ${_vm.inColor}`\n\t})}),_vm._l((_vm.vectors),function(vec,index){return [_c('div',{key:index,class:'vector',style:({\n\t\t\t\tleft:vec.x+'px',\n\t\t\t\ttop:vec.y+'px',\n\t\t\t\twidth:vec.width+'px',\n\t\t\t\theight:vec.height+'px',\n\t\t\t\tbackground:`${_vm.outColor}`,\n\t\t\t\tpointerEvents: 'none'\n\t\t\t})}),_c('div',{key:`${index}_hot`,staticClass:\"vecHotArea\",class:`vectorHotArea_${vec.tag}`,style:({\n\t\t\t\tleft:(vec.x + vec.width/2) -vec.width +'px',\n\t\t\t\ttop:(vec.y + vec.height/2) -vec.height +'px',\n\t\t\t\twidth:vec.width*2+'px',\n\t\t\t\theight:vec.height*2+'px',\n\t\t\t\tzIndex: 123\n\t\t\t}),on:{\"mousedown\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();return _vm.onMousedown($event,vec.tag)}}})]}),_c('div',{ref:\"floatBoardRef\",class:_vm.floatClass},[_vm._t(\"right\")],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"resize-container\"\n\t\t ref=\"rootRef\"\n\t\t :style=\"{left:`${currentFrame.x}px`,top:currentFrame.y+'px',width:currentFrame.width+'px',height:currentFrame.height+'px'}\">\n\t\t<div class=\"out-box\" :style=\"{\n\t\t\tleft:outBoxFrame.x +'px',\n\t\t\ttop:outBoxFrame.y+'px',\n\t\t\twidth:outBoxFrame.width+'px',\n\t\t\theight:outBoxFrame.height+'px',\n\t\t\tborder: `${outerBorderWidth}px solid ${outColor}`,\n\t\t\tzIndex:1\n\t\t}\"\n\t\t\t @mousedown.stop=\"onBodyMousedown($event)\"\n\t\t>\n\t\t</div>\n\t\t<div class=\"inner-box\" :style=\"{\n\t\t\tleft:innerBoxFrame.x+'px',\n\t\t\ttop:innerBoxFrame.y+'px',\n\t\t\twidth:innerBoxFrame.width+'px',\n\t\t\theight:innerBoxFrame.height+'px',\n\t\t\tborder: `${innerBorderWidth}px solid ${inColor}`\n\t\t}\"\n\t\t>\n\t\t</div>\n\t\t<template v-for=\"(vec,index) in vectors\">\n\t\t\t<div :class=\"'vector'\"\n\t\t\t\t :key=\"index\"\n\t\t\t\t :style=\"{\n\t\t\t\t\tleft:vec.x+'px',\n\t\t\t\t\ttop:vec.y+'px',\n\t\t\t\t\twidth:vec.width+'px',\n\t\t\t\t\theight:vec.height+'px',\n\t\t\t\t\tbackground:`${outColor}`,\n\t\t\t\t\tpointerEvents: 'none'\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t</div>\n\t\t\t<div :class=\"`vectorHotArea_${vec.tag}`\"\n\t\t\t\t class=\"vecHotArea\"\n\t\t\t\t :key=\"`${index}_hot`\"\n\t\t\t\t :style=\"{\n\t\t\t\t\tleft:(vec.x + vec.width/2) -vec.width +'px',\n\t\t\t\t\ttop:(vec.y + vec.height/2) -vec.height +'px',\n\t\t\t\t\twidth:vec.width*2+'px',\n\t\t\t\t\theight:vec.height*2+'px',\n\t\t\t\t\tzIndex: 123\n\t\t\t\t}\"\n\t\t\t\t @mousedown.exact.stop=\"onMousedown($event,vec.tag)\"\n\t\t\t>\n\t\t\t</div>\n\t\t</template>\n\t\t<div :class=\"floatClass\" ref=\"floatBoardRef\">\n\t\t\t<slot name=\"right\"/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nimport { defineComponent } from 'vue'\nimport GlobalDocumentEventBus from \"@/utils/GlobalDocumentEventBus\";\nimport {CGRectGetMaxX, CGRectGetMaxY, CGRectGetMinX, CGRectGetMinY, isRectOverFlow} from \"@/utils/utils\";\n\nfunction hexColorToRgba(hexColor, alphaMaxVal = 1) {\n\thexColor = hexColor.replace(\"#\", \"\");\n\n\t//用于分割16进制色彩通道\n\tlet reg = new RegExp(\"\\\\w{1,2}\", \"g\");\n\t//分割颜色通道\n\tlet rgbaArray255 = hexColor.match(reg);\n\trgbaArray255 = rgbaArray255.map((channel, index) => {\n\t\t//计算每个通道的10进制值\n\t\tlet colorVal = parseInt(channel, 16);\n\t\tif (index === 3) {\n\t\t\t//这是alpha通道\n\t\t\treturn Math.round(colorVal / (255 / alphaMaxVal) * 100) / 100\n\t\t}\n\t\treturn colorVal;\n\t});\n\treturn rgbaArray255;\n}\nconst VectorTag = {\n\ttopLeft : 0,\n\ttopRight : 1,\n\tbottomRight : 2,\n\tbottomLeft : 3,\n}\nexport default {\n\tname: \"\",\n\tprops:{\n\t\tcanDragFaceFrame:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:true\n\t\t},\n\t\tinColor:{\n\t\t\ttype:String,\n\t\t\tdefault:'#D95838'\n\t\t},\n\t\toutColor:{\n\t\t\ttype:String,\n\t\t\tdefault:'#ffffff',\n\t\t},\n\t\tinnerBoxAlpha:{\n\t\t\ttype:Number,\n\t\t\tdefault:0.2\n\t\t},\n\t\tframe:{\n\t\t\ttype:Object,\n\t\t\tdefault:function () {\n\t\t\t\treturn {x:0,y:0,width:0,height:0}\n\t\t\t}\n\t\t},\n\t\tminSize:{\n\t\t\ttype:Object,\n\t\t\tdefault:function () {\n\t\t\t\treturn {width:10,height:10}\n\t\t\t}\n\t\t},\n\t\tmaxSize:{\n\t\t\ttype:Object,\n\t\t\tdefault:function () {\n\t\t\t\treturn {width:200,height:200}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t父容器下的style里面矩阵的设置的缩放比，会影响style的坐标，所以有拖动的时候diff/scale才是真正的偏移\n\t\t*/\n\t\tscale:{\n\t\t\ttype:Number,\n\t\t\tdefault:1\n\t\t},\n\t\t/*\n\t\t\t安全边界，框和父容器的触及边界间距>safeEdge\n\t\t*/\n\t\tsafeEdge:{\n\t\t\ttype:Number,\n\t\t\tdefault:8\n\t\t}\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tvectorWidth:8,\n\t\t\tinnerBorderWidth:1,\n\t\t\touterBorderWidth:1,\n\t\t\tcurrentFrame:this.frame,\n\t\t\tisDown:false,\n\t\t\tisBodyDown:false,\n\t\t\tdownPoint:{x:0,y:0},\n\t\t\tcurVecTag:null,\n\t\t\tfloatBoardSize:{width:0,height:0},\n\t\t\tfloatClass:'right-slot'\n\t\t}\n\t},\n\tcomputed:{\n\t\toutBoxFrame(){\n\t\t\tconst vecBoundWidth = this.vectorWidth + 2 * this.innerBorderWidth\n\t\t\tconst halfVecBoundW = vecBoundWidth/2\n\t\t\treturn {\n\t\t\t\tx:halfVecBoundW - this.outerBorderWidth/2,\n\t\t\t\ty:halfVecBoundW - this.outerBorderWidth/2,\n\t\t\t\twidth:this.currentFrame.width - vecBoundWidth - this.outerBorderWidth ,\n\t\t\t\theight: this.currentFrame.height - vecBoundWidth - this.outerBorderWidth\n\t\t\t}\n\t\t},\n\t\tinnerBoxFrame(){\n\t\t\tconst outFrame = this.outBoxFrame\n\t\t\treturn {\n\t\t\t\tx:outFrame.x + this.innerBorderWidth,\n\t\t\t\ty:outFrame.y + this.innerBorderWidth,\n\t\t\t\twidth:outFrame.width - 2 * this.innerBorderWidth,\n\t\t\t\theight: outFrame.height - 2 * this.innerBorderWidth\n\t\t\t}\n\t\t},\n\t\tvectors(){\n\t\t\tconst borderWidth = this.innerBorderWidth\n\t\t\tconst vecBoundWidth = this.vectorWidth + 2 * this.innerBorderWidth\n\t\t\tconst bottomY = this.currentFrame.height - vecBoundWidth + borderWidth\n\t\t\tconst rightX = this.currentFrame.width-vecBoundWidth + borderWidth\n\t\t\tconst leftX = borderWidth\n\t\t\tconst topY = borderWidth\n\t\t\t//tl,tr,br,bl\n\t\t\treturn [\n\t\t\t\t{x:leftX,y:topY,width:this.vectorWidth,height:this.vectorWidth,tag:VectorTag.topLeft},\n\t\t\t\t{x:rightX,y:topY,width:this.vectorWidth,height:this.vectorWidth,tag:VectorTag.topRight},\n\t\t\t\t{x:rightX,y:bottomY,width:this.vectorWidth,height:this.vectorWidth,tag:VectorTag.bottomRight},\n\t\t\t\t{x:leftX,y:bottomY,width:this.vectorWidth,height:this.vectorWidth,tag:VectorTag.bottomLeft},\n\t\t\t]\n\t\t},\n\t\tedgeFrame(){\n\t\t\treturn {x:0,y:0,width:this.maxSize.width,height:this.maxSize.height}\n\t\t},\n\t\tsafeEdgeFrame(){\n\t\t\treturn {x:this.safeEdge,y:this.safeEdge,width:this.maxSize.width-this.safeEdge*2,height:this.maxSize.height-this.safeEdge*2}\n\t\t}\n\t},\n\twatch:{\n\t\tframe:{\n\t\t\thandler:function (val) {\n\t\t\t\tthis.currentFrame = val\n\t\t\t},\n\t\t\timmediate:true\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.registerEvents(true)\n\t\tthis.$nextTick(()=>{\n\t\t\tconst floatBoardRef = this.$refs['floatBoardRef']\n\t\t\tconst floatBoardRect = floatBoardRef.getBoundingClientRect()\n\t\t\tthis.floatBoardSize = floatBoardRect\n\t\t\tthis.setFloatClass()\n\t\t})\n\t},\n\tbeforeMount() {\n\t\tthis.registerEvents(false)\n\t},\n\tmethods:{\n\t\tmaxRightEdgeX(){\n\t\t\tconst parentElement = this.parentEl()\n\t\t\tconst parentRect = parentElement.getBoundingClientRect()\n\t\t\treturn  CGRectGetMaxX(parentRect) - this.floatBoardSize.width\n\t\t},\n\t\tmaxBottomEdgeY(){\n\t\t\tconst parentElement = this.parentEl()\n\t\t\tconst parentRect = parentElement.getBoundingClientRect()\n\t\t\tconst rootRef = this.$refs['rootRef']\n\t\t\tconst maxHeight = Math.max(rootRef.height,this.floatBoardSize.height)\n\t\t\treturn  CGRectGetMaxY(parentRect)\n\t\t},\n\t\t/*\n\t\t\t浮动扩展坞的容器样式\n\t\t */\n\t\tsetFloatClass(){\n\t\t\tlet strClass = ''\n\t\t\tlet currentFrame = this.currentFrame\n\t\t\tconst edgeFrame = this.safeEdgeFrame\n\t\t\tconst maxEdgeX = CGRectGetMaxX(edgeFrame) - this.floatBoardSize.width\n\t\t\tconst maxCurrentFrame = CGRectGetMaxX(currentFrame)\n\t\t\t// console.log(`setFloatClass...maxEdgeX=${maxEdgeX},maxCurrentFrame=${maxCurrentFrame}`)\n\t\t\tif (maxCurrentFrame >= maxEdgeX){\n\t\t\t\tstrClass = 'left-slot'\n\t\t\t}else{\n\t\t\t\tstrClass = 'right-slot'\n\t\t\t}\n\t\t\tif (CGRectGetMaxY(currentFrame) >= CGRectGetMaxY(edgeFrame)){\n\t\t\t\tstrClass +=' bottom-slot'\n\t\t\t}\n\t\t\tthis.floatClass = strClass\n\t\t},\n\t\tparentEl(){\n\t\t\treturn this.$parent.$el\n\t\t},\n\t\tregisterEvents(keep){\n\t\t\tif (keep){\n\t\t\t\tGlobalDocumentEventBus.addEventListener('onmousemove',this.onMousemove)\n\t\t\t\tGlobalDocumentEventBus.addEventListener('onmouseup',this.onMouseup)\n\t\t\t}else{\n\t\t\t\tGlobalDocumentEventBus.removeEventListener('onmousemove',this.onMousemove)\n\t\t\t\tGlobalDocumentEventBus.removeEventListener('onmouseup',this.onMouseup)\n\t\t\t}\n\t\t},\n\t\trgba(hexColor,alpha) {\n\t\t\tif (hexColor == \"\"){\n\t\t\t\treturn \"rgba(0,0,0,1)\"\n\t\t\t}\n\t\t\tlet ary = hexColorToRgba(hexColor)\n\t\t\tif (ary.length == 3){\n\t\t\t\tary.push(alpha)\n\t\t\t}\n\t\t\tif (ary.length == 4){\n\t\t\t\tary[3] = alpha\n\t\t\t}\n\t\t\treturn \"rgba(\" + ary.join(\",\") + \")\";\n\t\t},\n\t\tonMousedown(event,vecTag){\n\t\t\tif (!this.canDragFaceFrame){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isDown = true\n\t\t\tthis.downPoint = {\n\t\t\t\tx:event.pageX,\n\t\t\t\ty:event.pageY\n\t\t\t}\n\t\t\tthis.curVecTag = vecTag\n\t\t},\n\t\tonMousemove(event){\n\t\t\tconst vecTag = this.curVecTag\n\t\t\tlet x = event.pageX\n\t\t\tlet y = event.pageY\n\t\t\tlet currentFrame = this.currentFrame\n\t\t\tconst edgeFrame = this.safeEdgeFrame\n\t\t\tconst scale = this.scale\n\t\t\tconst diff = {x:(x - this.downPoint.x)/scale,y:(y - this.downPoint.y)/scale}\n\t\t\tif (this.isDown){\n\t\t\t\tthis.$emit('onDragging',null)\n\t\t\t\tthis.downPoint = {x,y}\n\t\t\t\tlet targetX = currentFrame.x\n\t\t\t\tlet targetY = currentFrame.y\n\t\t\t\tlet targetWidth = currentFrame.width\n\t\t\t\tlet targetHeight = currentFrame.height\n\t\t\t\t// right-slot的右边是否将会超出边界\n\t\t\t\tswitch (vecTag) {\n\t\t\t\t\tcase VectorTag.topLeft:{\n\t\t\t\t\t\ttargetX += diff.x\n\t\t\t\t\t\ttargetY += diff.y\n\t\t\t\t\t\ttargetWidth -= diff.x\n\t\t\t\t\t\ttargetHeight -= diff.y\n\n\t\t\t\t\t\tlet isLimitMin = false\n\t\t\t\t\t\tif (targetWidth < this.minSize.width){\n\t\t\t\t\t\t\ttargetWidth = this.minSize.width\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (targetHeight < this.minSize.height){\n\t\t\t\t\t\t\ttargetHeight = this.minSize.height\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isLimitMin){\n\t\t\t\t\t\t\t// 最右下角为固定顶\n\t\t\t\t\t\t\tconst fixPoint = {x:CGRectGetMaxX(currentFrame),y:CGRectGetMaxY(currentFrame)}\n\t\t\t\t\t\t\ttargetX = fixPoint.x - targetWidth\n\t\t\t\t\t\t\ttargetY = fixPoint.y - targetHeight\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst cropRect = {x:targetX,y:targetY,width:targetWidth,height:targetHeight}\n\t\t\t\t\t\tconst isOverflow = isRectOverFlow(cropRect,edgeFrame)\n\t\t\t\t\t\tif (isOverflow){\n\t\t\t\t\t\t\ttargetX = Math.max(targetX,edgeFrame.x)\n\t\t\t\t\t\t\ttargetY = Math.max(targetY,edgeFrame.y)\n\t\t\t\t\t\t\ttargetWidth = Math.min(CGRectGetMaxX(edgeFrame),CGRectGetMaxX(cropRect)) - targetX\n\t\t\t\t\t\t\ttargetHeight = Math.min(CGRectGetMaxY(edgeFrame),CGRectGetMaxY(cropRect)) - targetY\n\t\t\t\t\t\t}\n\t\t\t\t\t}break\n\t\t\t\t\tcase VectorTag.topRight:{\n\t\t\t\t\t\ttargetY += diff.y\n\t\t\t\t\t\ttargetWidth += diff.x\n\t\t\t\t\t\ttargetHeight -= diff.y\n\n\t\t\t\t\t\tlet isLimitMin = false\n\t\t\t\t\t\tif (targetWidth < this.minSize.width){\n\t\t\t\t\t\t\ttargetWidth = this.minSize.width\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (targetHeight < this.minSize.height){\n\t\t\t\t\t\t\ttargetHeight = this.minSize.height\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isLimitMin){\n\t\t\t\t\t\t\t// 最右下角为固定顶\n\t\t\t\t\t\t\tconst fixPoint = {x:CGRectGetMinX(currentFrame),y:CGRectGetMaxY(currentFrame)}\n\t\t\t\t\t\t\ttargetY = fixPoint.y - targetHeight\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst cropRect = {x:targetX,y:targetY,width:targetWidth,height:targetHeight}\n\t\t\t\t\t\tconst isOverflow = isRectOverFlow(cropRect,edgeFrame)\n\t\t\t\t\t\tif (isOverflow) {\n\t\t\t\t\t\t\ttargetX = Math.max(targetX, edgeFrame.x)\n\t\t\t\t\t\t\ttargetY = Math.max(targetY, edgeFrame.y);\n\t\t\t\t\t\t\ttargetWidth = Math.min(CGRectGetMaxX(edgeFrame),CGRectGetMaxX(cropRect)) - targetX;\n\t\t\t\t\t\t\ttargetHeight = Math.min(CGRectGetMaxY(edgeFrame),CGRectGetMaxY(cropRect)) - targetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}break\n\t\t\t\t\tcase VectorTag.bottomRight:{\n\t\t\t\t\t\ttargetWidth += diff.x\n\t\t\t\t\t\ttargetHeight += diff.y\n\t\t\t\t\t\tif (targetWidth < this.minSize.width){\n\t\t\t\t\t\t\ttargetWidth = this.minSize.width\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (targetHeight < this.minSize.height){\n\t\t\t\t\t\t\ttargetHeight = this.minSize.height\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst cropRect = {x:targetX,y:targetY,width:targetWidth,height:targetHeight}\n\t\t\t\t\t\tconst isOverflow = isRectOverFlow(cropRect,edgeFrame)\n\t\t\t\t\t\tif (isOverflow) {\n\t\t\t\t\t\t\ttargetX = Math.max(targetX, edgeFrame.x);\n\t\t\t\t\t\t\ttargetY = Math.max(targetY, edgeFrame.y);\n\t\t\t\t\t\t\ttargetWidth = Math.min(CGRectGetMaxX(edgeFrame),CGRectGetMaxX(cropRect)) - targetX;\n\t\t\t\t\t\t\ttargetHeight = Math.min(CGRectGetMaxY(edgeFrame),CGRectGetMaxY(cropRect)) - targetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}break\n\t\t\t\t\tcase VectorTag.bottomLeft:{\n\t\t\t\t\t\ttargetX += diff.x\n\t\t\t\t\t\ttargetWidth -= diff.x\n\t\t\t\t\t\ttargetHeight += diff.y\n\t\t\t\t\t\tlet isLimitMin = false\n\t\t\t\t\t\tif (targetWidth < this.minSize.width){\n\t\t\t\t\t\t\ttargetWidth = this.minSize.width\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (targetHeight < this.minSize.height){\n\t\t\t\t\t\t\ttargetHeight = this.minSize.height\n\t\t\t\t\t\t\tisLimitMin = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isLimitMin){\n\t\t\t\t\t\t\t// 最右下角为固定顶\n\t\t\t\t\t\t\tconst fixPoint = {x:CGRectGetMaxX(currentFrame),y:CGRectGetMinY(currentFrame)}\n\t\t\t\t\t\t\ttargetX = fixPoint.x - targetWidth\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst cropRect = {x:targetX,y:targetY,width:targetWidth,height:targetHeight}\n\t\t\t\t\t\tconst isOverflow = isRectOverFlow(cropRect,edgeFrame)\n\t\t\t\t\t\tif (isOverflow) {\n\t\t\t\t\t\t\ttargetX = Math.max(targetX, edgeFrame.x);\n\t\t\t\t\t\t\ttargetY = Math.max(targetY, edgeFrame.y);\n\t\t\t\t\t\t\ttargetWidth = Math.min(CGRectGetMaxX(edgeFrame),CGRectGetMaxX(cropRect)) - targetX;\n\t\t\t\t\t\t\ttargetHeight = Math.min(CGRectGetMaxY(edgeFrame),CGRectGetMaxY(cropRect)) - targetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}break\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\tthis.currentFrame = {x:targetX,y:targetY,width:targetWidth,height:targetHeight}\n\t\t\t\tthis.setFloatClass()\n\t\t\t\tthis.$emit('onChange',[this.currentFrame.x,this.currentFrame.y,this.currentFrame.width,this.currentFrame.height])\n\t\t\t}\n\t\t\tif (this.isBodyDown){\n\t\t\t\tthis.$emit('onDragging',null)\n\t\t\t\tlet currentFrame = this.currentFrame\n\t\t\t\tthis.downPoint = {x,y}\n\t\t\t\tcurrentFrame.x += diff.x\n\t\t\t\tcurrentFrame.y += diff.y\n\t\t\t\tif (CGRectGetMinX(currentFrame) <= CGRectGetMinX(edgeFrame)){\n\t\t\t\t\tcurrentFrame.x = edgeFrame.x\n\t\t\t\t}\n\t\t\t\tif (CGRectGetMinY(currentFrame) <= CGRectGetMinY(edgeFrame)){\n\t\t\t\t\tcurrentFrame.y = edgeFrame.y\n\t\t\t\t}\n\t\t\t\tif (CGRectGetMaxY(currentFrame) >= CGRectGetMaxY(edgeFrame)){\n\t\t\t\t\tcurrentFrame.y = CGRectGetMaxY(edgeFrame) - currentFrame.height\n\t\t\t\t}\n\t\t\t\tif (CGRectGetMaxX(currentFrame) >= CGRectGetMaxX(edgeFrame)){\n\t\t\t\t\tcurrentFrame.x = CGRectGetMaxX(edgeFrame) - currentFrame.width\n\t\t\t\t}\n\t\t\t\tthis.currentFrame = currentFrame\n\t\t\t\tthis.setFloatClass()\n\t\t\t\tthis.$emit('onChange',[currentFrame.x,currentFrame.y,currentFrame.width,currentFrame.height])\n\t\t\t}\n\t\t},\n\t\tonMouseup(event){\n\t\t\tif (this.isDown || this.isBodyDown){\n\t\t\t\tthis.$emit(\"onFinished\",null)\n\t\t\t}\n\t\t\tconst vecTag = this.curVecTag\n\t\t\tthis.isDown = false\n\t\t\tthis.isBodyDown = false\n\t\t},\n\t\tonBodyMousedown(event){\n\t\t\tif (!this.canDragFaceFrame){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isBodyDown = true\n\t\t\tthis.downPoint = {\n\t\t\t\tx:event.pageX,\n\t\t\t\ty:event.pageY\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n$marginX:4px;\n$paddingY:4px;\n.resize-container{\n\tposition: absolute;\n\tz-index: 10;\n\t.right-slot{\n\t\tposition: absolute;\n\t\tleft: 100%;\n\t\tpadding: $paddingY 0px 0px $marginX;\n\t}\n\t.left-slot{\n\t\tposition: absolute;\n\t\tright: 100%;\n\t\tpadding: $paddingY $marginX 0px 0px;\n\t}\n\t.bottom-slot{\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tpadding-bottom: $paddingY;\n\t\tpadding-top: 0px;\n\t}\n\t.out-box{\n\t\tposition: absolute;\n\n\t}\n\t.inner-box{\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\toutline: 9999px solid rgba(0,0,0,.5);\n\t}\n\t.vector{\n\t\tposition: absolute;\n\t}\n\t.vectorHotArea_0{\n\t\tcursor: se-resize;\n\t}\n\t.vectorHotArea_1{\n\t\tcursor: sw-resize;\n\t}\n\t.vectorHotArea_2{\n\t\tcursor: se-resize;\n\t}\n\t.vectorHotArea_3{\n\t\tcursor: sw-resize;\n\t}\n\t.vecHotArea{\n\t\tposition: absolute;\n\t}\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceResizeFrame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceResizeFrame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FaceResizeFrame.vue?vue&type=template&id=06163bcc&scoped=true&\"\nimport script from \"./FaceResizeFrame.vue?vue&type=script&lang=js&\"\nexport * from \"./FaceResizeFrame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FaceResizeFrame.vue?vue&type=style&index=0&id=06163bcc&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06163bcc\",\n  null\n  \n)\n\nexport default component.exports","export const OVERLAY_OPACITY = 0.75;\nexport const OVERLAY_PADDING = 10;\n\nexport const SHOULD_ANIMATE_OVERLAY = true;\nexport const SHOULD_OUTSIDE_CLICK_CLOSE = true;\nexport const ALLOW_KEYBOARD_CONTROL = true;\nexport const SHOULD_OUTSIDE_CLICK_NEXT = false;\n\nexport const ESC_KEY_CODE = 27;\nexport const LEFT_KEY_CODE = 37;\nexport const RIGHT_KEY_CODE = 39;\n\nexport const ID_OVERLAY = 'driver-page-overlay';\nexport const ID_STAGE = 'driver-highlighted-element-stage';\nexport const ID_POPOVER = 'driver-popover-item';\n\nexport const CLASS_DRIVER_HIGHLIGHTED_ELEMENT = 'driver-highlighted-element';\nexport const CLASS_POSITION_RELATIVE = 'driver-position-relative';\nexport const CLASS_FIX_STACKING_CONTEXT = 'driver-fix-stacking';\n\nexport const CLASS_STAGE_NO_ANIMATION = 'driver-stage-no-animation';\nexport const CLASS_POPOVER_TIP = 'driver-popover-tip';\nexport const CLASS_POPOVER_TITLE = 'driver-popover-title';\nexport const CLASS_POPOVER_DESCRIPTION = 'driver-popover-description';\nexport const CLASS_POPOVER_FOOTER = 'driver-popover-footer';\nexport const CLASS_CLOSE_BTN = 'driver-close-btn';\nexport const CLASS_NEXT_STEP_BTN = 'driver-next-btn';\nexport const CLASS_PREV_STEP_BTN = 'driver-prev-btn';\nexport const CLASS_BTN_DISABLED = 'driver-disabled';\nexport const CLASS_CLOSE_ONLY_BTN = 'driver-close-only-btn';\nexport const CLASS_NAVIGATION_BTNS = 'driver-navigation-btns';\nexport const CLASS_DRIVER_STEP = 'driver-step'\n\n// NOTE: It must match the one set in the animations in CSS file\nexport const ANIMATION_DURATION_MS = 300;\n\n// language=HTML\nexport const POPOVER_HTML = (className = '') => `\n  <div id=\"${ID_POPOVER}\" class=\"${className}\">\n    <i class=\"driver-close-icon ${CLASS_CLOSE_BTN}\"></i>\n    <div class=\"${CLASS_POPOVER_TIP}\"></div>\n    <div class=\"${CLASS_POPOVER_TITLE}\">Popover Title</div>\n    <div class=\"${CLASS_POPOVER_DESCRIPTION}\">Popover Description</div>\n    <div class=\"driver-clearfix ${CLASS_POPOVER_FOOTER}\">\n      <span class=\"${CLASS_DRIVER_STEP}\">0/0</span>\n      <span class=\"driver-btn-group ${CLASS_NAVIGATION_BTNS}\">\n        <button class=\"${CLASS_PREV_STEP_BTN}\">&larr; Previous</button>\n        <button class=\"${CLASS_NEXT_STEP_BTN}\">Next &rarr;</button>\n      </span>\n    </div>\n  </div>`;\n\nexport const OVERLAY_HTML = `<div id=\"${ID_OVERLAY}\"></div>`;\nexport const STAGE_HTML = `<div id=\"${ID_STAGE}\"></div>`;\n","/**\n * Turn a string into a node\n * @param  {String} htmlString to convert\n * @return {HTMLElement|Node}   Converted node element\n */\nexport const createNodeFromString = (htmlString) => {\n  const div = document.createElement('div');\n  div.innerHTML = htmlString.trim();\n\n  // Change this to div.childNodes to support multiple top-level nodes\n  return div.firstChild;\n};\n\n/**\n * Gets the CSS property from the given element\n * @param {HTMLElement|Node} element\n * @param {string} propertyName\n * @param {boolean} prefixVendor\n * @return {string}\n */\nexport const getStyleProperty = (element, propertyName, prefixVendor = false) => {\n  if (prefixVendor) {\n    const prefixes = ['', '-webkit-', '-ms-', 'moz-', '-o-'];\n    for (let counter = 0; counter < prefixes.length; counter++) {\n      const prefixedProperty = prefixes[counter] + propertyName;\n      const foundValue = getStyleProperty(element, prefixedProperty);\n\n      if (foundValue) {\n        return foundValue;\n      }\n    }\n\n    return '';\n  }\n\n  let propertyValue = '';\n\n  if (element.currentStyle) {\n    propertyValue = element.currentStyle[propertyName];\n  } else if (document.defaultView && document.defaultView.getComputedStyle) {\n    propertyValue = document.defaultView\n      .getComputedStyle(element, null)\n      .getPropertyValue(propertyName);\n  }\n\n  return propertyValue && propertyValue.toLowerCase ? propertyValue.toLowerCase() : propertyValue;\n};\n\n/**\n * Checks if the passed element is dom object or not\n * @param element\n * @returns {boolean}\n */\nexport const isDomElement = function (element) {\n  return element && typeof element === 'object' && 'nodeType' in element;\n};\n","import { ANIMATION_DURATION_MS, ID_OVERLAY, OVERLAY_HTML } from '../common/constants';\nimport { createNodeFromString } from '../common/utils';\n\n/**\n * Responsible for overlay creation and manipulation i.e.\n * cutting out the visible part, animating between the sections etc\n */\nexport default class Overlay {\n  /**\n   * @param {Object} options\n   * @param {Window} window\n   * @param {Document} document\n   */\n  constructor(options, window, document) {\n    this.options = options;\n\n    this.highlightedElement = null;              // currently highlighted dom element (instance of Element)\n    this.lastHighlightedElement = null;          // element that was highlighted before current one\n    this.hideTimer = null;\n\n    this.window = window;\n    this.document = document;\n\n    this.removeNode = this.removeNode.bind(this);\n  }\n\n  /**\n   * Prepares the overlay\n   * @private\n   */\n  attachNode() {\n    let pageOverlay = this.document.getElementById(ID_OVERLAY);\n    if (!pageOverlay) {\n      pageOverlay = createNodeFromString(OVERLAY_HTML);\n      document.body.appendChild(pageOverlay);\n    }\n\n    this.node = pageOverlay;\n    this.node.style.opacity = '0';\n\n    if (!this.options.animate) {\n      // For non-animation cases remove the overlay because we achieve this overlay by having\n      // a higher box-shadow on the stage. Why are we doing it that way? Because the stage that\n      // is shown \"behind\" the highlighted element to make it pop out of the screen, it introduces\n      // some stacking contexts issues. To avoid those issues we just make the stage background\n      // transparent and achieve the overlay using the shadow so to make the element below it visible\n      // through the stage even if there are stacking issues.\n      if (this.node.parentElement) {\n        this.node.parentElement.removeChild(this.node);\n      }\n    }\n  }\n\n  /**\n   * Highlights the dom element on the screen\n   * @param {Element} element\n   * @public\n   */\n  highlight(element) {\n    if (!element || !element.node) {\n      console.warn('Invalid element to highlight. Must be an instance of `Element`');\n      return;\n    }\n\n    // If highlighted element is not changed from last time\n    if (element.isSame(this.highlightedElement)) {\n      return;\n    }\n\n    // There might be hide timer from last time\n    // which might be getting triggered\n    this.window.clearTimeout(this.hideTimer);\n\n    // Trigger the hook for highlight started\n    element.onHighlightStarted();\n\n    // Old element has been deselected\n    if (this.highlightedElement && !this.highlightedElement.isSame(this.lastHighlightedElement)) {\n      this.highlightedElement.onDeselected();\n    }\n\n    // get the position of element around which we need to draw\n    const position = element.getCalculatedPosition();\n    if (!position.canHighlight()) {\n      return;\n    }\n\n    this.lastHighlightedElement = this.highlightedElement;\n    this.highlightedElement = element;\n\n    this.show();\n\n    // Element has been highlighted\n    this.highlightedElement.onHighlighted();\n  }\n\n  /**\n   * Shows the overlay on whole screen\n   * @public\n   */\n  show() {\n    if (this.node && this.node.parentElement) {\n      return;\n    }\n\n    this.attachNode();\n\n    window.setTimeout(() => {\n      this.node.style.opacity = `${this.options.opacity}`;\n      this.node.style.position = 'fixed';\n      this.node.style.left = '0';\n      this.node.style.top = '0';\n      this.node.style.bottom = '0';\n      this.node.style.right = '0';\n    });\n  }\n\n  /**\n   * Returns the currently selected element\n   * @returns {null|*}\n   * @public\n   */\n  getHighlightedElement() {\n    return this.highlightedElement;\n  }\n\n  /**\n   * Gets the element that was highlighted before current element\n   * @returns {null|*}\n   * @public\n   */\n  getLastHighlightedElement() {\n    return this.lastHighlightedElement;\n  }\n\n  /**\n   * Removes the overlay and cancel any listeners\n   * @public\n   */\n  clear(immediate = false) {\n    // Callback for when overlay is about to be reset\n    if (this.options.onReset) {\n      this.options.onReset(this.highlightedElement);\n    }\n\n    // Deselect the highlighted element if any\n    if (this.highlightedElement) {\n      const hideStage = true;\n      this.highlightedElement.onDeselected(hideStage);\n    }\n\n    this.highlightedElement = null;\n    this.lastHighlightedElement = null;\n\n    if (!this.node) {\n      return;\n    }\n\n    // Clear any existing timers and remove node\n    this.window.clearTimeout(this.hideTimer);\n\n    if (this.options.animate && !immediate) {\n      this.node.style.opacity = '0';\n      this.hideTimer = this.window.setTimeout(this.removeNode, ANIMATION_DURATION_MS);\n    } else {\n      this.removeNode();\n    }\n  }\n\n  /**\n   * Removes the overlay node if it exists\n   * @private\n   */\n  removeNode() {\n    if (this.node && this.node.parentElement) {\n      this.node.parentElement.removeChild(this.node);\n    }\n  }\n\n  /**\n   * Refreshes the overlay i.e. sets the size according to current window size\n   * And moves the highlight around if necessary\n   * @public\n   */\n  refresh() {\n    // If no highlighted element, cancel the refresh\n    if (!this.highlightedElement) {\n      return;\n    }\n\n    // Reposition the stage and show popover\n    this.highlightedElement.showPopover();\n    this.highlightedElement.showStage();\n  }\n}\n","/**\n * Responsible for validating positions and is used\n * when manipulating positions across the application\n */\nexport default class Position {\n  /**\n   * @param {number} left\n   * @param {number} top\n   * @param {number} right\n   * @param {number} bottom\n   */\n  constructor({\n    left = 0,\n    top = 0,\n    right = 0,\n    bottom = 0,\n  } = {}) {\n    this.left = left;\n    this.right = right;\n    this.top = top;\n    this.bottom = bottom;\n  }\n\n  /**\n   * Checks if the position is valid to be highlighted\n   * @returns {boolean}\n   * @public\n   */\n  canHighlight() {\n    return this.left < this.right && this.top < this.bottom;\n  }\n}\n","import {\n  ANIMATION_DURATION_MS,\n  CLASS_DRIVER_HIGHLIGHTED_ELEMENT,\n  CLASS_FIX_STACKING_CONTEXT,\n  CLASS_POSITION_RELATIVE,\n} from '../common/constants';\nimport { getStyleProperty } from '../common/utils';\nimport Position from './position';\n\n/**\n * Wrapper around DOMElements to enrich them\n * with the functionality necessary\n */\nexport default class Element {\n  /**\n   * DOM element object\n   * @param {Node|HTMLElement} node\n   * @param {Object} options\n   * @param {Popover} popover\n   * @param {Stage} stage\n   * @param {Overlay} overlay\n   * @param {Window} window\n   * @param {Document} document\n   */\n  constructor({\n    node,\n    options,\n    popover,\n    stage,\n    overlay,\n    window,\n    document,\n  } = {}) {\n    this.node = node;\n    this.document = document;\n    this.window = window;\n    this.options = options;\n    this.overlay = overlay;\n    this.popover = popover;\n    this.stage = stage;\n    this.animationTimeout = null;\n  }\n\n  /**\n   * Checks if the current element is visible in viewport\n   * @returns {boolean}\n   * @public\n   */\n  isInView() {\n    let top = this.node.offsetTop;\n    let left = this.node.offsetLeft;\n    const width = this.node.offsetWidth;\n    const height = this.node.offsetHeight;\n\n    let el = this.node;\n\n    while (el.offsetParent) {\n      el = el.offsetParent;\n      top += el.offsetTop;\n      left += el.offsetLeft;\n    }\n\n    return (\n      top >= this.window.pageYOffset\n      && left >= this.window.pageXOffset\n      && (top + height) <= (this.window.pageYOffset + this.window.innerHeight)\n      && (left + width) <= (this.window.pageXOffset + this.window.innerWidth)\n    );\n  }\n\n  /**\n   * Manually scrolls to the position of element if `scrollIntoView` fails\n   * @private\n   */\n  scrollManually() {\n    const elementRect = this.node.getBoundingClientRect();\n    const absoluteElementTop = elementRect.top + this.window.pageYOffset;\n    const middle = absoluteElementTop - (this.window.innerHeight / 2);\n\n    this.window.scrollTo(0, middle);\n  }\n\n  /**\n   * Brings the element to middle of the view port if not in view\n   * @public\n   */\n  bringInView() {\n    // If the node is not there or already is in view\n    if (!this.node || this.isInView()) {\n      return;\n    }\n\n    // If browser does not support scrollIntoView\n    if (!this.node.scrollIntoView) {\n      this.scrollManually();\n      return;\n    }\n\n    try {\n      this.node.scrollIntoView(this.options.scrollIntoViewOptions || {\n        behavior: 'instant',\n        block: 'center',\n      });\n    } catch (e) {\n      // `block` option is not allowed in older versions of firefox, scroll manually\n      this.scrollManually();\n    }\n  }\n\n  /**\n   * Gets the calculated position on screen, around which\n   * we need to draw\n   * @public\n   * @return {Position}\n   */\n  getCalculatedPosition() {\n    const body = this.document.body;\n    const documentElement = this.document.documentElement;\n    const window = this.window;\n\n    const scrollTop = this.window.pageYOffset || documentElement.scrollTop || body.scrollTop;\n    const scrollLeft = window.pageXOffset || documentElement.scrollLeft || body.scrollLeft;\n    const elementRect = this.node.getBoundingClientRect();\n\n    return new Position({\n      top: elementRect.top + scrollTop,\n      left: elementRect.left + scrollLeft,\n      right: elementRect.left + scrollLeft + elementRect.width,\n      bottom: elementRect.top + scrollTop + elementRect.height,\n    });\n  }\n\n  /**\n   * Gets the popover for the current element if any\n   * @returns {Popover|*}\n   * @public\n   */\n  getPopover() {\n    return this.popover;\n  }\n\n  /**\n   * Is called when element is about to be deselected\n   * i.e. when moving the focus to next element of closing\n   * @public\n   */\n  onDeselected(hideStage = false) {\n    this.hidePopover();\n\n    if (hideStage) {\n      this.hideStage();\n    }\n\n    this.removeHighlightClasses();\n\n    // If there was any animation in progress, cancel that\n    this.window.clearTimeout(this.animationTimeout);\n\n    if (this.options.onDeselected) {\n      this.options.onDeselected(this);\n    }\n  }\n\n  /**\n   * Checks if the given element is same as the current element\n   * @param {Element} element\n   * @returns {boolean}\n   * @public\n   */\n  isSame(element) {\n    if (!element || !element.node) {\n      return false;\n    }\n\n    return element.node === this.node;\n  }\n\n  /**\n   * Is called when the element is about to be highlighted\n   * @public\n   */\n  onHighlightStarted() {\n    if (this.options.onHighlightStarted) {\n      this.options.onHighlightStarted(this);\n    }\n  }\n\n  /**\n   * Is called when the element has been successfully highlighted\n   * @public\n   */\n  onHighlighted() {\n    const highlightedElement = this;\n    if (!highlightedElement.isInView()) {\n      highlightedElement.bringInView();\n    }\n\n    // Show the popover and stage once the item has been\n    // brought in the view, this would allow us to handle\n    // the cases where the container has scroll overflow\n    this.showPopover();\n    this.showStage();\n    this.addHighlightClasses();\n\n    if (this.options.onHighlighted) {\n      this.options.onHighlighted(this);\n    }\n  }\n\n  /**\n   * Removes the stacking context fix classes and the highlighter classes\n   * @private\n   */\n  removeHighlightClasses() {\n    this.node.classList.remove(CLASS_DRIVER_HIGHLIGHTED_ELEMENT);\n    this.node.classList.remove(CLASS_POSITION_RELATIVE);\n\n    const stackFixes = this.document.querySelectorAll(`.${CLASS_FIX_STACKING_CONTEXT}`);\n    for (let counter = 0; counter < stackFixes.length; counter++) {\n      stackFixes[counter].classList.remove(CLASS_FIX_STACKING_CONTEXT);\n    }\n  }\n\n  /**\n   * Adds the highlight class on the current element and \"fixes\"\n   * the parent nodes if they\n   * @private\n   */\n  addHighlightClasses() {\n    this.node.classList.add(CLASS_DRIVER_HIGHLIGHTED_ELEMENT);\n\n    // Don't make relative if element already has some position set\n    if (this.canMakeRelative()) {\n      this.node.classList.add(CLASS_POSITION_RELATIVE);\n    }\n\n    // Check and re-define the stacking context\n    this.fixStackingContext();\n  }\n\n  /**\n   * Walks through the parents of the current element and fixes\n   * the stacking context\n   * @private\n   */\n  fixStackingContext() {\n    let parentNode = this.node.parentNode;\n    while (parentNode) {\n      if (!parentNode.tagName || parentNode.tagName.toLowerCase() === 'body') {\n        break;\n      }\n\n      const zIndex = getStyleProperty(parentNode, 'z-index');\n      const opacity = parseFloat(getStyleProperty(parentNode, 'opacity'));\n      const transform = getStyleProperty(parentNode, 'transform', true);\n      const transformStyle = getStyleProperty(parentNode, 'transform-style', true);\n      const transformBox = getStyleProperty(parentNode, 'transform-box', true);\n      const filter = getStyleProperty(parentNode, 'filter', true);\n      const perspective = getStyleProperty(parentNode, 'perspective', true);\n\n      // Stacking context gets disturbed if\n      // - Parent has z-index\n      // - Opacity is below 0\n      // - Filter/transform or perspective is applied\n      if (\n        /[0-9]+/.test(zIndex)\n        || opacity < 1\n        || (transform && transform !== 'none')\n        || (transformStyle && transformStyle !== 'flat')\n        || (transformBox && transformBox !== 'border-box')\n        || (filter && filter !== 'none')\n        || (perspective && perspective !== 'none')\n      ) {\n        parentNode.classList.add(CLASS_FIX_STACKING_CONTEXT);\n      }\n\n      parentNode = parentNode.parentNode;\n    }\n  }\n\n  /**\n   * Checks if we can make the current element relative or not\n   * @return {boolean}\n   * @private\n   */\n  canMakeRelative() {\n    const currentPosition = this.getStyleProperty('position');\n    const avoidPositionsList = ['absolute', 'fixed', 'relative'];\n\n    // Because if the element has any of these positions, making it\n    // relative will break the UI\n    return avoidPositionsList.indexOf(currentPosition) === -1;\n  }\n\n  /**\n   * Get current element's CSS attribute value\n   * @param {string} property\n   * @returns string\n   * @private\n   */\n  getStyleProperty(property) {\n    return getStyleProperty(this.node, property);\n  }\n\n  /**\n   * Shows the stage behind the element\n   * @public\n   */\n  showStage() {\n    this.stage.show(this.getCalculatedPosition());\n  }\n\n  /**\n   * Gets the DOM Element behind this element\n   * @returns {Node|HTMLElement|*}\n   * @public\n   */\n  getNode() {\n    return this.node;\n  }\n\n  /**\n   * Hides the stage\n   * @public\n   */\n  hideStage() {\n    this.stage.hide();\n  }\n\n  /**\n   * Hides the popover if possible\n   * @public\n   */\n  hidePopover() {\n    if (!this.popover) {\n      return;\n    }\n\n    this.popover.hide();\n  }\n\n  /**\n   * Shows the popover on the current element\n   * @public\n   */\n  showPopover() {\n    if (!this.popover) {\n      return;\n    }\n\n    const showAtPosition = this.getCalculatedPosition();\n\n    // For first highlight, show it immediately because there won't be any animation\n    let showAfterMs = ANIMATION_DURATION_MS;\n    // If animation is disabled or  if it is the first display, show it immediately\n    if (!this.options.animate || !this.overlay.lastHighlightedElement) {\n      showAfterMs = 0;\n    }\n\n    // @todo remove timeout and handle with CSS\n    this.animationTimeout = this.window.setTimeout(() => {\n      this.popover.show(showAtPosition);\n    }, showAfterMs);\n  }\n\n  /**\n   * @returns {{height: number, width: number}}\n   * @public\n   */\n  getFullPageSize() {\n    // eslint-disable-next-line prefer-destructuring\n    const body = this.document.body;\n    const html = this.document.documentElement;\n\n    return {\n      height: Math.max(body.scrollHeight, body.offsetHeight, html.scrollHeight, html.offsetHeight),\n      width: Math.max(body.scrollWidth, body.offsetWidth, html.scrollWidth, html.offsetWidth),\n    };\n  }\n\n  /**\n   * Gets the size for popover\n   * @returns {{height: number, width: number}}\n   * @public\n   */\n  getSize() {\n    return {\n      height: Math.max(this.node.scrollHeight, this.node.offsetHeight),\n      width: Math.max(this.node.scrollWidth, this.node.offsetWidth),\n    };\n  }\n}\n","import Element from './element';\nimport {\n    CLASS_BTN_DISABLED,\n    CLASS_CLOSE_BTN,\n    CLASS_CLOSE_ONLY_BTN, CLASS_DRIVER_STEP,\n    CLASS_NEXT_STEP_BTN,\n    CLASS_POPOVER_DESCRIPTION,\n    CLASS_POPOVER_FOOTER,\n    CLASS_POPOVER_TIP,\n    CLASS_POPOVER_TITLE,\n    CLASS_PREV_STEP_BTN,\n    ID_POPOVER,\n    POPOVER_HTML\n} from '../common/constants'\nimport { createNodeFromString } from '../common/utils';\n\n/**\n * Popover that is displayed on top of the highlighted element\n */\nexport default class Popover extends Element {\n    /**\n     * @param {Object} options\n     * @param {Window} window\n     * @param {Document} document\n     */\n    constructor(options, window, document) {\n        super();\n\n        this.options = {\n            isFirst: true,\n            isLast: true,\n            totalCount: 1,\n            currentIndex: 0,\n            offset: 0,\n            showButtons: true,\n            showPreviewButton: true,\n            doneBtnText: 'Done',\n            startBtnText: 'Next &rarr;',\n            nextBtnText: 'Next &rarr;',\n            prevBtnText: '&larr; Previous',\n            ...options,\n        };\n\n        this.window = window;\n        this.document = document;\n    }\n\n    /**\n     * Prepares the dom element for popover\n     * @private\n     */\n    attachNode() {\n        let popover = this.document.getElementById(ID_POPOVER);\n        if (popover) {\n            popover.parentElement.removeChild(popover);\n        }\n\n        popover = createNodeFromString(POPOVER_HTML(this.options.className));\n        document.body.appendChild(popover);\n\n        this.node = popover;\n        this.tipNode = popover.querySelector(`.${CLASS_POPOVER_TIP}`);\n        this.titleNode = popover.querySelector(`.${CLASS_POPOVER_TITLE}`);\n        this.descriptionNode = popover.querySelector(`.${CLASS_POPOVER_DESCRIPTION}`);\n        this.footerNode = popover.querySelector(`.${CLASS_POPOVER_FOOTER}`);\n        this.nextBtnNode = popover.querySelector(`.${CLASS_NEXT_STEP_BTN}`);\n        this.prevBtnNode = popover.querySelector(`.${CLASS_PREV_STEP_BTN}`);\n        this.closeBtnNode = popover.querySelector(`.${CLASS_CLOSE_BTN}`);\n        this.driverStepNode = popover.querySelector(`.${CLASS_DRIVER_STEP}`);\n    }\n\n    /**\n     * Gets the title node for the popover\n     * @returns {Element | null | *}\n     * @public\n     */\n    getTitleNode() {\n        return this.titleNode;\n    }\n\n    /**\n     * Gets the description node for the popover\n     * @returns {Element | null | *}\n     * @public\n     */\n    getDescriptionNode() {\n        return this.descriptionNode;\n    }\n\n    /**\n     * Hides the popover\n     * @public\n     */\n    hide() {\n        // If hide is called when the node isn't created yet\n        if (!this.node) {\n            return;\n        }\n\n        this.node.style.display = 'none';\n    }\n\n    /**\n     * Sets the default state for the popover\n     * @private\n     */\n    setInitialState() {\n        this.node.style.display = 'block';\n        this.node.style.left = '0';\n        this.node.style.top = '0';\n        this.node.style.bottom = '';\n        this.node.style.right = '';\n\n        // Remove the positional classes from tip\n        this.node\n            .querySelector(`.${CLASS_POPOVER_TIP}`)\n            .className = CLASS_POPOVER_TIP;\n    }\n\n    /**\n     * Shows the popover at the given position\n     * @param {Position} position\n     * @public\n     */\n    show(position) {\n        this.attachNode();\n        this.setInitialState();\n\n        // Set the title and descriptions\n        this.titleNode.innerHTML = this.options.title || ' ';\n        if (!this.options.title.trim()) {\n            this.titleNode.style.display = 'none'\n        }\n\n        this.descriptionNode.innerHTML = this.options.description || '';\n\n        this.renderFooter();\n\n        // Position the popover around the given position\n        switch (this.options.position) {\n            case 'left':\n            case 'left-top':\n                this.positionOnLeft(position);\n                break;\n            case 'left-center':\n                this.positionOnLeftCenter(position);\n                break;\n            case 'left-bottom':\n                this.positionOnLeftBottom(position);\n                break;\n            case 'right':\n            case 'right-top':\n                this.positionOnRight(position);\n                break;\n            case 'right-center':\n                this.positionOnRightCenter(position);\n                break;\n            case 'right-bottom':\n                this.positionOnRightBottom(position);\n                break;\n            case 'top':\n            case 'top-left':\n                this.positionOnTop(position);\n                break;\n            case 'top-center':\n                this.positionOnTopCenter(position);\n                break;\n            case 'top-right':\n                this.positionOnTopRight(position);\n                break;\n            case 'bottom':\n            case 'bottom-left':\n                this.positionOnBottom(position);\n                break;\n            case 'bottom-center':\n                this.positionOnBottomCenter(position);\n                break;\n            case 'bottom-right':\n                this.positionOnBottomRight(position);\n                break;\n            case 'mid-center':\n                this.positionOnMidCenter(position);\n                break;\n            case 'auto':\n            default:\n                this.autoPosition(position);\n                break;\n        }\n\n        // Bring the popover in view port once it is displayed\n        this.bringInView();\n    }\n\n    /**\n     * Enables, disables buttons, sets the text and\n     * decides if to show them or not\n     * @private\n     */\n    renderFooter() {\n        this.nextBtnNode.innerHTML = this.options.nextBtnText;\n        this.prevBtnNode.innerHTML = this.options.prevBtnText;\n        this.driverStepNode.innerHTML = `${this.options.currentIndex + 1}/${this.options.totalCount}`\n\n        const hasSteps = this.options.totalCount && this.options.totalCount !== 1;\n\n        // If there was only one item, hide the buttons\n        if (!this.options.showButtons) {\n            this.footerNode.style.display = 'none';\n            return;\n        }\n\n        // If this is just a single highlighted element i.e. there\n        // are no other steps to go to – just hide the navigation buttons\n        if (!hasSteps) {\n            this.nextBtnNode.style.display = 'none';\n            this.prevBtnNode.style.display = 'none';\n            this.closeBtnNode.classList.add(CLASS_CLOSE_ONLY_BTN);\n        } else {\n            // @todo modify CSS to use block\n            this.nextBtnNode.style.display = 'inline-block';\n            if (this.options.showPreviewButton) {\n                this.prevBtnNode.style.display = 'inline-block';\n            } else {\n                this.prevBtnNode.style.display = 'none';\n            }\n            this.closeBtnNode.classList.remove(CLASS_CLOSE_ONLY_BTN);\n        }\n\n        this.footerNode.style.display = 'block';\n        if (this.options.isFirst) {\n            this.prevBtnNode.classList.add(CLASS_BTN_DISABLED);\n            this.nextBtnNode.innerHTML = this.options.startBtnText;\n        } else {\n            this.prevBtnNode.classList.remove(CLASS_BTN_DISABLED);\n        }\n\n        if (this.options.isLast) {\n            this.nextBtnNode.innerHTML = this.options.doneBtnText;\n        } else {\n            this.nextBtnNode.innerHTML = this.options.nextBtnText;\n        }\n    }\n\n    /**\n     * Shows the popover on the left of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnLeft(elementPosition) {\n        const popoverWidth = this.getSize().width;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.left = `${elementPosition.left - popoverWidth - popoverMargin}px`;\n        this.node.style.top = `${(elementPosition.top + this.options.offset) - this.options.padding}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('right');\n    }\n\n    /**\n     * Shows the popover on the left of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnLeftBottom(elementPosition) {\n        const popoverDimensions = this.getSize();\n\n        const popoverWidth = popoverDimensions.width;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.left = `${elementPosition.left - popoverWidth - popoverMargin}px`;\n        this.node.style.top = `${(elementPosition.bottom + this.options.padding + this.options.offset) - popoverDimensions.height}px`;\n        this.node.style.bottom = '';\n        this.node.style.right = '';\n\n        this.tipNode.classList.add('right', 'position-bottom');\n    }\n\n    /**\n     * Shows the popover on the left center of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnLeftCenter(elementPosition) {\n        const popoverDimensions = this.getSize();\n\n        const popoverWidth = popoverDimensions.width;\n        const popoverHeight = popoverDimensions.height;\n        const popoverCenter = popoverHeight / 2;\n\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n        const elementCenter = (elementPosition.bottom - elementPosition.top) / 2;\n        const topCenterPosition = (elementPosition.top - popoverCenter) + elementCenter + this.options.offset;\n\n        this.node.style.left = `${elementPosition.left - popoverWidth - popoverMargin}px`;\n        this.node.style.top = `${topCenterPosition}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('right', 'position-center');\n    }\n\n    /**\n     * Shows the popover on the right of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnRight(elementPosition) {\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.left = `${elementPosition.right + popoverMargin}px`;\n        this.node.style.top = `${(elementPosition.top + this.options.offset) - this.options.padding}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('left');\n    }\n\n    /**\n     * Shows the popover on the right of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnRightCenter(elementPosition) {\n        const popoverDimensions = this.getSize();\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        const popoverHeight = popoverDimensions.height;\n        const popoverCenter = popoverHeight / 2;\n        const elementCenter = (elementPosition.bottom - elementPosition.top) / 2;\n        const topCenterPosition = (elementPosition.top - popoverCenter) + elementCenter + this.options.offset;\n\n        this.node.style.left = `${elementPosition.right + popoverMargin}px`;\n        this.node.style.top = `${topCenterPosition}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('left', 'position-center');\n    }\n\n    /**\n     * Shows the popover on the right of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnRightBottom(elementPosition) {\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n        const popoverDimensions = this.getSize();\n\n        this.node.style.left = `${elementPosition.right + popoverMargin}px`;\n        this.node.style.top = `${(elementPosition.bottom + this.options.padding + this.options.offset) - popoverDimensions.height}px`;\n        this.node.style.bottom = '';\n        this.node.style.right = '';\n\n        this.tipNode.classList.add('left', 'position-bottom');\n    }\n\n    /**\n     * Shows the popover on the top of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnTop(elementPosition) {\n        const popoverHeight = this.getSize().height;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.top = `${elementPosition.top - popoverHeight - popoverMargin}px`;\n        this.node.style.left = `${(elementPosition.left - this.options.padding) + this.options.offset}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('bottom');\n    }\n\n    /**\n     * Shows the popover on the top center of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnTopCenter(elementPosition) {\n        const dimensions = this.getSize();\n        const popoverHeight = dimensions.height;\n        const popoverWidth = dimensions.width / 2;\n\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n        const nodeCenter = this.options.offset + elementPosition.left + ((elementPosition.right - elementPosition.left) / 2);\n\n        this.node.style.top = `${elementPosition.top - popoverHeight - popoverMargin}px`;\n        this.node.style.left = `${nodeCenter - popoverWidth - this.options.padding}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        // Add the tip at the top center\n        this.tipNode.classList.add('bottom', 'position-center');\n    }\n\n    /**\n     * Shows the popover on the top right of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnTopRight(elementPosition) {\n        const dimensions = this.getSize();\n        const popoverHeight = dimensions.height;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.top = `${elementPosition.top - popoverHeight - popoverMargin}px`;\n        this.node.style.left = `${(elementPosition.right + this.options.padding + this.options.offset) - dimensions.width}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        // Add the tip at the top center\n        this.tipNode.classList.add('bottom', 'position-right');\n    }\n\n    /**\n     * Shows the popover on the bottom of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnBottom(elementPosition) {\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.top = `${elementPosition.bottom + popoverMargin}px`;\n        this.node.style.left = `${(elementPosition.left - this.options.padding) + this.options.offset}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        this.tipNode.classList.add('top');\n    }\n\n    /**\n     * Shows the popover on the bottom-center of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnBottomCenter(elementPosition) {\n        const popoverWidth = this.getSize().width / 2;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n        const nodeCenter = this.options.offset + elementPosition.left + ((elementPosition.right - elementPosition.left) / 2);\n\n        this.node.style.top = `${elementPosition.bottom + popoverMargin}px`;\n        this.node.style.left = `${nodeCenter - popoverWidth - this.options.padding}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        // Add the tip at the top center\n        this.tipNode.classList.add('top', 'position-center');\n    }\n\n    /**\n     * Shows the popover on the bottom-right of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnBottomRight(elementPosition) {\n        const dimensions = this.getSize();\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        this.node.style.top = `${elementPosition.bottom + popoverMargin}px`;\n        this.node.style.left = `${(elementPosition.right + this.options.padding + this.options.offset) - dimensions.width}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        // Add the tip at the top center\n        this.tipNode.classList.add('top', 'position-right');\n    }\n\n    /**\n     * Shows the popover on the mid-center of the given position\n     * @param {Position} elementPosition\n     * @private\n     */\n    positionOnMidCenter(elementPosition) {\n        const popoverDimensions = this.getSize();\n        const popoverHeight = popoverDimensions.height;\n        const popoverWidth = popoverDimensions.width / 2;\n        const popoverCenter = popoverHeight / 2;\n\n        const elementCenter = (elementPosition.bottom - elementPosition.top) / 2;\n        const topCenterPosition = (elementPosition.top - popoverCenter) + elementCenter + this.options.offset;\n        const nodeCenter = this.options.offset + elementPosition.left + ((elementPosition.right - elementPosition.left) / 2);\n\n        this.node.style.top = `${topCenterPosition}px`;\n        this.node.style.left = `${nodeCenter - popoverWidth - this.options.padding}px`;\n        this.node.style.right = '';\n        this.node.style.bottom = '';\n\n        // Add the tip at the top center\n        this.tipNode.classList.add('mid-center');\n    }\n\n    /**\n     * Automatically positions the popover around the given position\n     * such that the element and popover remain in view\n     * @todo add the left and right positioning decisions\n     * @param {Position} elementPosition\n     * @private\n     */\n    autoPosition(elementPosition) {\n        const pageSize = this.getFullPageSize();\n        const popoverSize = this.getSize();\n\n        const pageHeight = pageSize.height;\n        const popoverHeight = popoverSize.height;\n        const popoverMargin = this.options.padding + 10;  // adding 10 to give it a little distance from the element\n\n        const pageHeightAfterPopOver = elementPosition.bottom + popoverHeight + popoverMargin;\n\n        // If adding popover would go out of the window height, then show it to the top\n        if (pageHeightAfterPopOver >= pageHeight) {\n            this.positionOnTop(elementPosition);\n        } else {\n            this.positionOnBottom(elementPosition);\n        }\n    }\n}\n","import { CLASS_STAGE_NO_ANIMATION, ID_STAGE, STAGE_HTML } from '../common/constants';\nimport { createNodeFromString } from '../common/utils';\nimport Element from './element';\n\n/**\n * Stage behind the highlighted element to give it a little\n * highlight from rest of the page\n */\nexport default class Stage extends Element {\n  /**\n   * @param {Object} options\n   * @param {Window} window\n   * @param {Document} document\n   */\n  constructor(options, window, document) {\n    super();\n\n    this.options = options;\n    this.window = window;\n    this.document = document;\n  }\n\n  /**\n   * Prepares the DOM element if not already there\n   * @private\n   */\n  attachNode() {\n    let stage = this.document.getElementById(ID_STAGE);\n    if (!stage) {\n      stage = createNodeFromString(STAGE_HTML);\n      document.body.appendChild(stage);\n    }\n\n    this.node = stage;\n\n    if (!this.options.animate) {\n      this.node.classList.add(CLASS_STAGE_NO_ANIMATION);\n    } else {\n      this.node.classList.remove(CLASS_STAGE_NO_ANIMATION);\n    }\n  }\n\n  /**\n   * Simply hides the stage\n   * @public\n   */\n  hide() {\n    if (!this.node || !this.node.parentElement) {\n      return;\n    }\n\n    this.node.parentElement.removeChild(this.node);\n  }\n\n  /**\n   * Makes it visible and sets the default properties\n   * @private\n   */\n  setInitialStyle() {\n    this.node.style.display = 'block';\n    this.node.style.left = '0';\n    this.node.style.top = '0';\n    this.node.style.bottom = '';\n    this.node.style.right = '';\n  }\n\n  /**\n   * Shows the stage at provided position\n   * @param {Position} position\n   * @public\n   */\n  show(position) {\n    this.attachNode();\n\n    this.setInitialStyle();\n\n    // Make it two times the padding because, half will be given on left and half on right\n    const requiredPadding = this.options.padding * 2;\n\n    const width = (position.right - position.left) + (requiredPadding);\n    const height = (position.bottom - position.top) + (requiredPadding);\n\n    // Show the stage\n    this.node.style.display = 'block';\n    this.node.style.position = 'absolute';\n    this.node.style.width = `${width}px`;\n    this.node.style.height = `${height}px`;\n    this.node.style.top = `${position.top - (requiredPadding / 2)}px`;\n    this.node.style.left = `${position.left - (requiredPadding / 2)}px`;\n    this.node.style.backgroundColor = this.options.stageBackground;\n  }\n}\n","import Overlay from './core/overlay';\nimport Element from './core/element';\nimport Popover from './core/popover';\nimport {\n    CLASS_CLOSE_BTN,\n    CLASS_NEXT_STEP_BTN,\n    CLASS_PREV_STEP_BTN,\n    ESC_KEY_CODE,\n    ID_POPOVER,\n    LEFT_KEY_CODE,\n    OVERLAY_OPACITY,\n    OVERLAY_PADDING,\n    RIGHT_KEY_CODE,\n    SHOULD_ANIMATE_OVERLAY,\n    SHOULD_OUTSIDE_CLICK_CLOSE,\n    SHOULD_OUTSIDE_CLICK_NEXT,\n    ALLOW_KEYBOARD_CONTROL,\n} from './common/constants';\nimport Stage from './core/stage';\nimport { isDomElement } from './common/utils';\n\n/**\n * Plugin class that drives the plugin\n */\nexport default class Driver {\n    /**\n   * @param {Object} options\n   */\n    constructor(options = {}) {\n        this.options = {\n            autoComplete: false, // whether to auto handle next\n            autocompleteWait: 5000, // wait time to auto handle next\n            animate: SHOULD_ANIMATE_OVERLAY, // Whether to animate or not\n            opacity: OVERLAY_OPACITY,    // Overlay opacity\n            padding: OVERLAY_PADDING,    // Spacing around the element from the overlay\n            scrollIntoViewOptions: null, // Options to be passed to `scrollIntoView`\n            allowClose: SHOULD_OUTSIDE_CLICK_CLOSE,      // Whether to close overlay on click outside the element\n            keyboardControl: ALLOW_KEYBOARD_CONTROL,     // Whether to allow controlling through keyboard or not\n            overlayClickNext: SHOULD_OUTSIDE_CLICK_NEXT, // Whether to move next on click outside the element\n            stageBackground: '#4d4d4d',       // Background color for the stage\n            onHighlightStarted: () => null,   // When element is about to be highlighted\n            onHighlighted: () => null,        // When element has been highlighted\n            onDeselected: () => null,         // When the element has been deselected\n            onReset: () => null,              // When overlay is about to be cleared\n            onNext: () => null,               // When next button is clicked\n            onPrevious: () => null,           // When previous button is clicked\n            onCloseClicked: () => null,           // When previous button is clicked\n            onClose: () => null,           // When previous button is clicked\n            ...options,\n        };\n\n        this.document = document;\n        this.window = window;\n        this.isActivated = false;\n        this.steps = [];                    // steps to be presented if any\n        this.currentStep = 0;               // index for the currently highlighted step\n        this.currentMovePrevented = false;  // If the current move was prevented\n\n        // 自动执行下一步任务\n        this.autoCompleteTimer = 0\n\n        this.overlay = new Overlay(this.options, window, document);\n\n        this.onResize = this.onResize.bind(this);\n        this.onKeyUp = this.onKeyUp.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.moveNext = this.moveNext.bind(this);\n        this.movePrevious = this.movePrevious.bind(this);\n        this.preventMove = this.preventMove.bind(this);\n\n        // Event bindings\n        this.bind();\n    }\n\n    /**\n   * Getter for steps property\n   * @readonly\n   * @public\n   */\n    getSteps() {\n        return this.steps;\n    }\n\n    /**\n   * Setter for steps property\n   * @param steps\n   * @public\n   */\n    setSteps(steps) {\n        this.steps = steps;\n    }\n\n    /**\n   * Binds any DOM events listeners\n   * @todo: add throttling in all the listeners\n   * @private\n   */\n    bind() {\n        this.window.addEventListener('resize', this.onResize, false);\n        this.window.addEventListener('keyup', this.onKeyUp, false);\n\n        // Binding both touch and click results in popup getting shown and then immediately get hidden.\n        // Adding the check to not bind the click event if the touch is supported i.e. on mobile devices\n        // Issue: https://github.com/kamranahmedse/driver.js/issues/150\n        // if (!('ontouchstart' in document.documentElement)) {\n        //     this.window.addEventListener('click', this.onClick, false);\n        // } else {\n        //     this.window.addEventListener('touchstart', this.onClick, false);\n        // }\n        this.window.addEventListener('click', this.onClick, false);\n    }\n\n    /**\n   * Removes the popover if clicked outside the highlighted element\n   * or outside the\n   * @param e\n   * @private\n   */\n    onClick(e) {\n        if (!this.isActivated || !this.hasHighlightedElement()) {\n            return;\n        }\n\n        // Stop the event propagation on click/tap. `onClick` handles\n        // both touch and click events – which on some browsers causes\n        // the click to close the tour\n        e.stopPropagation();\n\n        const highlightedElement = this.overlay.getHighlightedElement();\n        const popover = this.document.getElementById(ID_POPOVER);\n\n        const clickedHighlightedElement = highlightedElement.node.contains(e.target);\n        const clickedPopover = popover && popover.contains(e.target);\n\n        // Perform the 'Next' operation when clicked outside the highlighted element\n        if (!clickedHighlightedElement && !clickedPopover && this.options.overlayClickNext) {\n            this.handleNext();\n            return;\n        }\n\n        // Remove the overlay If clicked outside the highlighted element\n        if (!clickedHighlightedElement && !clickedPopover && this.options.allowClose) {\n            this.reset();\n            return;\n        }\n\n        const nextClicked = e.target.classList.contains(CLASS_NEXT_STEP_BTN);\n        const prevClicked = e.target.classList.contains(CLASS_PREV_STEP_BTN);\n        const closeClicked = e.target.classList.contains(CLASS_CLOSE_BTN);\n\n        if (closeClicked) {\n            this.handleCloseClicked()\n            return;\n        }\n\n        if (nextClicked) {\n            this.handleNext();\n        } else if (prevClicked) {\n            this.handlePrevious();\n        }\n    }\n\n    /**\n   * Handler for the onResize DOM event\n   * Makes sure highlighted element stays at valid position\n   * @private\n   */\n    onResize() {\n        if (!this.isActivated) {\n            return;\n        }\n\n        this.refresh();\n    }\n\n    /**\n   * Refreshes and repositions the popover and the overlay\n   */\n    refresh() {\n        this.overlay.refresh();\n    }\n\n    /**\n   * Clears the overlay on escape key process\n   * @param event\n   * @private\n   */\n    onKeyUp(event) {\n    // If driver is not active or keyboard control is disabled\n        if (!this.isActivated || !this.options.keyboardControl) {\n            return;\n        }\n\n        // If escape was pressed and it is allowed to click outside to close\n        if (event.keyCode === ESC_KEY_CODE) {\n            this.reset();\n            return;\n        }\n\n        // If there is no highlighted element or there is a highlighted element\n        // without popover or if the popover does not allow buttons - ignore\n        const highlightedElement = this.getHighlightedElement();\n        if (!highlightedElement || !highlightedElement.popover) {\n            return;\n        }\n\n        if (event.keyCode === RIGHT_KEY_CODE) {\n            this.handleNext();\n        } else if (event.keyCode === LEFT_KEY_CODE) {\n            this.handlePrevious();\n        }\n    }\n\n    /**\n   * Moves to the previous step if possible\n   * otherwise resets the overlay\n   * @public\n   */\n    movePrevious() {\n        const previousStep = this.steps[this.currentStep - 1];\n        if (!previousStep) {\n            this.reset();\n            return;\n        }\n\n        this.overlay.highlight(previousStep);\n        this.currentStep -= 1;\n        this.resetAutoCompleteTimer()\n    }\n\n    /**\n   * Prevents the current move. Useful in `onNext` if you want to\n   * perform some asynchronous task and manually move to next step\n   * @public\n   */\n    preventMove() {\n        this.currentMovePrevented = true;\n    }\n\n    /**\n   * Handles the internal \"move to next\" event\n   * @private\n   */\n    handleNext() {\n        this.currentMovePrevented = false;\n\n        // Call the bound `onNext` handler if available\n        const currentStep = this.steps[this.currentStep];\n        if (currentStep && currentStep.options && currentStep.options.onNext) {\n            currentStep.options.onNext(this.overlay.highlightedElement);\n        }\n\n        if (this.currentMovePrevented) {\n            return;\n        }\n\n        this.moveNext();\n    }\n\n    /**\n   * Handles the internal \"move to previous\" event\n   * @private\n   */\n    handlePrevious() {\n        this.currentMovePrevented = false;\n\n        // Call the bound `onPrevious` handler if available\n        const currentStep = this.steps[this.currentStep];\n        if (currentStep && currentStep.options && currentStep.options.onPrevious) {\n            currentStep.options.onPrevious(this.overlay.highlightedElement);\n        }\n\n        if (this.currentMovePrevented) {\n            return;\n        }\n\n        this.movePrevious();\n    }\n\n    /**\n   * Moves to the next step if possible\n   * otherwise resets the overlay\n   * @public\n   */\n    moveNext() {\n        const nextStep = this.steps[this.currentStep + 1];\n        if (!nextStep) {\n            this.reset();\n            return;\n        }\n\n        this.overlay.highlight(nextStep);\n        this.currentStep += 1;\n        this.resetAutoCompleteTimer()\n    }\n\n    handleCloseClicked() {\n        const currentStep = this.steps[this.currentStep];\n        if (currentStep && currentStep.options && currentStep.options.onCloseClicked) {\n            currentStep.options.onCloseClicked(this.overlay.highlightedElement)\n        }\n        this.reset();\n    }\n\n\n    /**\n   * @returns {boolean}\n   * @public\n   */\n    hasNextStep() {\n        return !!this.steps[this.currentStep + 1];\n    }\n\n    /**\n   * @returns {boolean}\n   * @public\n   */\n    hasPreviousStep() {\n        return !!this.steps[this.currentStep - 1];\n    }\n\n    /**\n   * Resets the steps if any and clears the overlay\n   * @param {boolean} immediate\n   * @public\n   */\n    reset(immediate = false) {\n        this.currentStep = 0;\n        this.isActivated = false;\n        this.overlay.clear(immediate);\n        if (this.options.onClose) {\n            this.options.onClose()\n        }\n\n        this.clearAutoCompleteTimer()\n    }\n\n    /**\n   * Checks if there is any highlighted element or not\n   * @returns {boolean}\n   * @public\n   */\n    hasHighlightedElement() {\n        const highlightedElement = this.overlay.getHighlightedElement();\n        return highlightedElement && highlightedElement.popover;\n    }\n\n    /**\n   * Gets the currently highlighted element in overlay\n   * @returns {Element}\n   * @public\n   */\n    getHighlightedElement() {\n        return this.overlay.getHighlightedElement();\n    }\n\n    /**\n   * Gets the element that was highlighted before currently highlighted element\n   * @returns {Element}\n   * @public\n   */\n    getLastHighlightedElement() {\n        return this.overlay.getLastHighlightedElement();\n    }\n\n    /**\n   * Defines steps to be highlighted\n   * @param {array} steps\n   * @public\n   */\n    defineSteps(steps) {\n        this.steps = [];\n\n        for (let counter = 0; counter < steps.length; counter++) {\n            const element = this.prepareElementFromStep(steps[counter], steps, counter);\n            if (!element) {\n                continue;\n            }\n\n            this.steps.push(element);\n        }\n    }\n\n    /**\n   * Prepares the step received from the user and returns an instance\n   * of Element\n   *\n   * @param currentStep Step that is being prepared\n   * @param allSteps  List of all the steps\n   * @param index Index of the current step\n   * @returns {null|Element}\n   * @private\n   */\n    prepareElementFromStep(currentStep, allSteps = [], index = 0) {\n        let elementOptions = { ...this.options };\n        let querySelector = currentStep;\n\n        // If the `currentStep` is step definition\n        // then grab the options and element from the definition\n        const isStepDefinition = typeof currentStep !== 'string' && !isDomElement(currentStep);\n\n        if (!currentStep || (isStepDefinition && !currentStep.element)) {\n            throw new Error(`Element is required in step ${index}`);\n        }\n\n        if (isStepDefinition) {\n            querySelector = currentStep.element;\n            elementOptions = { ...this.options, ...currentStep };\n        }\n\n        // If the given element is a query selector or a DOM element?\n        const domElement = isDomElement(querySelector) ? querySelector : this.document.querySelector(querySelector);\n        if (!domElement) {\n            console.warn(`Element to highlight ${querySelector} not found`);\n            return null;\n        }\n\n        let popover = null;\n        if (elementOptions.popover) {\n            const mergedClassNames = [\n                this.options.className,\n                elementOptions.popover.className,\n            ].filter(c => c).join(' ');\n\n            const popoverOptions = {\n                ...elementOptions,\n                ...elementOptions.popover,\n                className: mergedClassNames,\n                totalCount: allSteps.length,\n                currentIndex: index,\n                isFirst: index === 0,\n                isLast: allSteps.length === 0 || index === allSteps.length - 1, // Only one item or last item\n            };\n\n            popover = new Popover(popoverOptions, this.window, this.document);\n        }\n\n        const stageOptions = { ...elementOptions };\n        const stage = new Stage(stageOptions, this.window, this.document);\n\n        return new Element({\n            node: domElement,\n            options: elementOptions,\n            popover,\n            stage,\n            overlay: this.overlay,\n            window: this.window,\n            document: this.document,\n        });\n    }\n\n    /**\n   * Initiates highlighting steps from first step\n   * @param {number} index at which highlight is to be started\n   * @public\n   */\n    start(index = 0) {\n        if (!this.steps || this.steps.length === 0) {\n            throw new Error('There are no steps defined to iterate');\n        }\n\n        this.isActivated = true;\n        this.currentStep = index;\n        this.overlay.highlight(this.steps[index]);\n        this.resetAutoCompleteTimer()\n    }\n\n    /**\n   * Highlights the given element\n   * @param {string|{element: string, popover: {}}} selector Query selector or a step definition\n   * @public\n   */\n    highlight(selector) {\n        this.isActivated = true;\n\n        const element = this.prepareElementFromStep(selector);\n        if (!element) {\n            return;\n        }\n\n        this.overlay.highlight(element);\n    }\n\n    clearAutoCompleteTimer() {\n        if (this.autoCompleteTimer) {\n            clearTimeout(this.autoCompleteTimer)\n            this.autoCompleteTimer = 0\n        }\n    }\n\n    resetAutoCompleteTimer() {\n        if (!this.options.autoComplete) {\n            return\n        }\n\n        this.clearAutoCompleteTimer()\n        this.autoCompleteTimer = setTimeout(() => {\n            this.autoCompleteTimer = 0\n            const highlightedElement = this.getHighlightedElement();\n            if (!highlightedElement || !highlightedElement.popover) {\n                return;\n            }\n\n            // todo 根据用户行为，标记是上一步还是下一步\n            this.handleNext();\n        }, this.options.autocompleteWait)\n    }\n}\n","import { nextTick, onUnmounted, Ref, ref } from 'vue'\n// @ts-ignore\nimport Driver from '@/components/TsDriver'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport { GuideStoryKey } from '@/constants/constants'\nimport { APP_VERSION } from '@/constants/config'\nimport QtEventFilter, { QtEventFilterType } from '@/utils/QtEventFilter'\nimport {delay} from \"@/universal/utils/common\";\n\ninterface IUseRefineGuideRepositories {\n    handleGuideStart: () => void\n    destroy: () => void\n}\n\nexport enum GuideId {\n    ManualFaceFrameId = 'guide__manual_face_frame'\n}\n\n//@ts-ignore\nlet isWin32 = `${ process.platform }` === 'win32'\n\nexport default function useRefineFaceUpdateGuide(): IUseRefineGuideRepositories {\n\n    const { PointGuideImgAdjust, PointGuideBackground, PointGuideHistory } = useRefinePointsRepositories()\n\n    const _onFinishGuide = (): void => {\n        localStorage.setItem(GuideStoryKey.Refine_ManualFaceBatchSelect, APP_VERSION)\n    }\n\n    const steps = [\n        {\n            element: `#${ GuideId.ManualFaceFrameId }`,\n            popover: {\n                className: 'first-step-popover-class',\n                title:'',\n                description: `按住  ${isWin32?'ctrl':'command ⌘'} + 鼠标点击，可多选人脸，支持批量修改性别/删除`,\n                position:'bottom-center'\n            },\n            onNext: () => null\n        }\n    ]\n\n    let timer = 0\n\n    const driver: Ref<Driver | null> = ref(null)\n    const handleGuideStart = (): void => {\n        const value = localStorage.getItem(GuideStoryKey.Refine_ManualFaceBatchSelect)\n        if (value) {\n            return\n        }\n\n        timer = setTimeout(() => {\n            driver.value = new Driver({\n                autoComplete: true,\n                nextBtnText: '',\n                doneBtnText: '',\n                padding: 2,\n                opacity: 0.4,\n                allowClose: true,\n                showPreviewButton: false,\n                keyboardControl:false,\n                autocompleteWait:2000000,\n                stageBackground:'#00000000',\n                position:'bottom-center',\n                className: 'refine__face-guide',\n                onCloseClicked: () => _onFinishGuide(),\n                onClose: () => {\n                    QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], true)\n                }\n            })\n            driver.value.defineSteps(steps)\n            nextTick(() => {\n                delay(10).then(()=>{\n                    const footEl:HTMLElement = document.getElementsByClassName('driver-popover-footer')[0] as HTMLElement\n                    footEl.style.display = 'none'\n                })\n                QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], false)\n                driver.value?.start()\n                _onFinishGuide()\n            })\n        }, 300)\n    }\n\n    // onUnmounted(() => {\n    //     if (timer) {\n    //         clearTimeout(timer)\n    //         timer = 0\n    //     }\n    //     driver.value = null\n    // })\n\n    return {\n        handleGuideStart,\n        destroy: () => {\n            if (timer) {\n                clearTimeout(timer)\n                timer = 0\n            }\n            driver.value = null\n        }\n    }\n}\n","<template>\n    <div id=\"personBoxId\" class=\"personBox\" :style=\"{ width: canvasWidth + 'px', height: canvasHeight + 'px' }\" ref=\"personBox\">\n        <template v-for=\"(person, index) in faceDataTemp\">\n            <div\n\t\t\t\tv-if=\"person.deleted == false\"\n\t\t\t\t:id=\"person.isSelected?ManualFaceFrameId:''\"\n\t\t\t\t:faceId=\"person.id\"\n\t\t\t\t:key=\"index\"\n                 :class=\"'person-' + person.personType\"\n                 class=\"person-type\"\n                 :style=\"{  left : person.faceBoxNormalized[0]*canvasWidth + 'px', top : person.faceBoxNormalized[1]*canvasHeight + 'px', width : person.faceBoxNormalized[2]*canvasWidth + 'px', height : person.faceBoxNormalized[3]*canvasHeight + 'px',border:`${person.isSelected?selectedBorderWidth:0}px ${selectedColor} solid`}\"\n\t\t\t\t @click.exact.stop=\"onNormalFaceFrameClick(person)\"\n\t\t\t\t @click.exact.ctrl.stop=\"onNormalFaceFrameMetaClick(person,false)\"\n\t\t\t\t @click.exact.meta.stop=\"onNormalFaceFrameMetaClick(person,true)\"\n\t\t\t>\n\t\t\t\t<el-select v-model=\"person.personType\"\n                           popper-class=\"sex-select\"\n                           class=\"change_sex\"\n                           :popper-append-to-body=\"false\"\n\t\t\t\t\t\t   :disabled=\"isPending\"\n                           :style=\"{width : person.faceBoxNormalized[2]*canvasWidth + 'px',\n                                    height : person.faceBoxNormalized[3]*canvasHeight/4 + 'px',\n                                    opacity:selectedPersons.length > 0 ? (person.isSelected ?1:InActiveAlpha):1\n                                    }\"\n                           @change=\"refreshPage(person.personType, index,person)\"\n                           @visible-change=\"isSelect($event,index)\">\n                    <el-option\n                        v-for=\"item in options\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\">\n                    </el-option>\n                </el-select>\n\t\t\t\t\t<template v-if=\"!person.isSelected\">\n\t\t\t\t\t\t<template v-for=\"(item, index) in borderDiv\">\n                    \t\t<div :key=\"index\"\n                        \t\t :class=\"item\"\n\t\t\t\t\t\t\t\t class=\"borderDiv\"\n\t\t\t\t\t\t\t\t :style=\"{opacity:selectedPersons.length > 0 ? (person.isSelected ?1:InActiveAlpha):1}\"\n\t\t\t\t\t\t\t></div>\n                \t\t</template>\n\t\t\t\t\t</template>\n            </div>\n        </template>\n\t\t<div v-show=\"canShowFaceMarkToolTip\" ref=\"myTooltipRef\" id=\"my-tooltip-id\" class=\"my-tooltip\" :style=\"{background:tooltipBgColor}\">\n\t\t\t<template v-if=\"isFaceMarkLoading\">\n\t\t\t\t<i class=\"el-icon-loading\"></i>\n\t\t\t\t{{faceMarkTooltipText}}\n\t\t\t</template>\n\t\t\t<template v-if=\"!isFaceMarkLoading\">\n\t\t\t\t{{faceMarkTooltipText}}\n\t\t\t</template>\n\n\t\t\t<div id=\"arrow\" data-popper-arrow></div>\n\t\t</div>\n\t\t<template v-if=\"newFaceDataViewModel != null\">\n\t\t\t\t<face-resize-frame  ref=\"faceResizeRef\" :frame=\"{\n\t\t\t\t\t\t\t\tx:newFaceDataViewModel.faceBox[0],\n\t\t\t\t\t\t\t\ty:newFaceDataViewModel.faceBox[1],\n\t\t\t\t\t\t\t\twidth:newFaceDataViewModel.faceBox[2],\n\t\t\t\t\t\t\t\theight:newFaceDataViewModel.faceBox[3]\n\t\t\t\t\t}\"\n\t\t\t\t\t:inColor=\"newFaceFramePendingBorderColor\"\n\t\t\t\t\t:outColor=\"outColor\"\n\t\t\t\t\t:maxSize=\"{width:canvasWidth,height:canvasHeight}\"\n\t\t\t\t\t:canDragFaceFrame=\"canDragFaceFrame\"\n\t\t\t\t\t:scale=\"scale\"\n\t\t\t\t\t@onChange=\"onNewFaceFrameChanged\"\n\t\t\t\t\t@onFinished=\"onNewFaceChangeFinished\"\n\t\t\t\t>\n\t\t\t\t\t<div slot=\"right\" v-if=\"canShowFaceConfirm && !isFaceMarkLoading && !isFaceMarkWarning\" class=\"new-face-frame-confirm\">\n\t\t\t\t\t\t<el-button icon=\"el-icon-check\" @click=\"onFaceConfirm\"></el-button>\n\t\t\t\t\t\t<el-button icon=\"el-icon-close\" @click=\"onFaceReject\"></el-button>\n\t\t\t\t\t</div>\n\t\t\t\t</face-resize-frame>\n\t\t</template>\n\t\t<div class=\"face-bottom-tool\" ref=\"bottomToolRef\">\n\t\t\t<template v-if=\"selectedPersons.length == 1\">\n\t\t\t\t<el-button icon=\"el-icon-delete\" @click.exact.stop=\"onDeleteFaces\">删除</el-button>\n\t\t\t</template>\n\t\t\t<template v-if=\"selectedPersons.length > 1\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\t:disabled=\"isPending\"\n\t\t\t\t\t\ticon=\"\" @click.native.exact.stop=\"onBatchSexClick\">\n\t\t\t\t\t\t<img class=\"btn-icon\" src=\"\"/>\n\t\t\t\t\t\t<span class=\"btn-title\">批量修改性别</span>\n\t\t\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\" />\n\t\t\t\t\t</el-button>\n\t\t\t\t\t<el-select ref=\"sexSelectorRef\"\n\t\t\t\t\t\t\t   popper-class=\"batch-sex-select\"\n\t\t\t\t\t\t\t   :popper-append-to-body=\"true\"\n\t\t\t\t\t\t\t   @change=\"onBottomGroupSexItemChoosed(batchSelectSexVal)\"\n\t\t\t\t\t\t\t   class=\"cla_sex_selector\" v-model=\"batchSelectSexVal\" placeholder=\"请选择\">\n\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\tv-for=\"item in options\"\n\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t:label=\"item.label\"\n\t\t\t\t\t\t\t:value=\"item.value\"\n\t\t\t\t\t\t\t:disabled=\"item.disabled\">\n\t\t\t\t\t\t</el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t<el-button icon=\"el-icon-delete\" @click.exact.stop=\"onDeleteFaces\">批量删除</el-button>\n\t\t\t</template>\n\t\t</div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { Select, Option } from 'element-ui'\nimport {PersonBioItemStatus, PersonBioViewModel} from \"@/view-model/PersonBioViewModel\";\nimport FaceResizeFrame from \"./FaceMark/FaceResizeFrame\"\nimport { Tooltip,Popover,Dropdown,DropdownItem,DropdownMenu } from 'element-ui'\nimport Popper from 'popper.js'\nimport {intersection} from \"#/utils/common\";\nimport refineRpc from \"@/qt-ipc/business/refine\"\nimport imageIOManager from \"qt/imageIOManager\";\nimport FilePathUtils from \"@/utils/tsFilePathUtils\";\nimport store from '@/store'\nimport {PersonBioModel} from \"@/model/PersonBioModel\";\nimport {PersonType} from \"@/constants/constants\";\nimport toast from \"@/mixins/toast\";\nimport useRefineFaceBatchSelectGuide,{GuideId} from \"@/composables/guide/useRefineFaceBatchSelectGuide\";\nimport { cloneDeep, debounce, isEqual } from 'lodash'\nimport useRefinePointsRepositories from \"@/composables/points/useRefinePointsRepositories\";\n\n// 人脸交叉区域超出的范围算是人脸已存在的警告阈值\nconst overFlowRate = 0.5\nconst defaultNewFrameSize = 64\nconst nFaceShowHotKeyGuide = 5\n/*\n\t返回的size{\n\t\twidth:#,\n\t\theight:#\n\t}\n */\nfunction avgOfFaceFrame(faceDataViewModels,canvasWidth,canvasHeight) {\n\tlet width = 0\n\tlet height = 0\n\tlet len = 0\n\tlet totalWidth = 0\n\tlet totalHeight = 0\n\tif (faceDataViewModels.length >0)\n\t{\n\t\tfor (const faceDataViewModel of faceDataViewModels) {\n\t\t\tif (faceDataViewModel.deleted){\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\ttotalWidth += faceDataViewModel.faceBoxNormalized[2]*canvasWidth\n\t\t\ttotalHeight += faceDataViewModel.faceBoxNormalized[3]*canvasHeight\n\t\t\tlen ++\n\t\t}\n\t\tif (len >0 ){\n\t\t\twidth = totalWidth / len\n\t\t\theight = totalHeight / len\n\t\t}\n\t}\n\tif(!width || !height){\n\t\twidth = defaultNewFrameSize\n\t\theight = defaultNewFrameSize\n\t}\n\n\treturn {\n\t\twidth,height\n\t}\n}\n\nfunction newFaceFrame(faceSize, canvasW, canvasH) {\n\tconst x = (canvasW - faceSize.width)/2\n\tconst y = (canvasH - faceSize.height)/2\n\treturn [x,y,faceSize.width,faceSize.height]\n}\n\nexport default defineComponent({\n    name: 'ImportAgeSexReviseFaceBox',\n\tmixins:[toast],\n    components: {\n        'el-select': Select,\n        'el-option': Option,\n\t\t'el-tooltip':Tooltip,\n\t\t'el-popover':Popover,\n\t\t'el-dropdown':Dropdown,\n\t\t'el-dropdown-menu':DropdownMenu,\n\t\t'el-dropdown-item':DropdownItem,\n\t\t'face-resize-frame':FaceResizeFrame\n    },\n    props: {\n        faceData: {\n            type: Array,\n            default: () => []\n        },\n        canvasWidth: {\n            type: Number,\n            default: 0\n\n        },\n        canvasHeight: {\n            type: Number,\n            default: 0\n        },\n\t\trefineUUID:{\n        \ttype:String,\n\t\t\tdefault:\"\"\n\t\t},\n\t\tscale:{\n\t\t\ttype: Number,\n\t\t\tdefault: 1\n\t\t}\n    },\n\tsetup() {\n\t\tconst { PointAddAFace, PointAddAFaceFinish } = useRefinePointsRepositories()\n\n\t\treturn {\n\t\t\tPointAddAFace,\n\t\t\tPointAddAFaceFinish\n\t\t}\n\t},\n    data() {\n\t\tlet  generateGetBoundingClientRect = (x = 0, y = 0) =>{\n\t\t\treturn () => {\n\t\t\t\tlet ref = this.$refs['faceResizeRef']\n\t\t\t\tlet el = ref.$el\n\t\t\t\treturn ({\n\t\t\t\t\twidth: el.clientWidth,\n\t\t\t\t\theight: el.clientHeight,\n\t\t\t\t\ttop: this.newFaceDataViewModel.faceBox[1] -6,\n\t\t\t\t\tright: this.newFaceDataViewModel.faceBox[0]+ el.clientWidth/2,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tleft: this.newFaceDataViewModel.faceBox[0]+ el.clientWidth/2\n\t\t\t\t})\n\t\t\t};\n\t\t}\n        return {\n            options: [{\n                value: 'Male',\n                label: '男'\n            }, {\n                value: 'Female',\n                label: '女'\n\n            }, {\n                value: 'Child',\n                label: '儿童'\n            }, {\n                value: 'Older',\n                label: '长辈'\n            }],\n            noCompleteRatio: 1,\n            borderDiv: ['borderTL', 'borderTR', 'borderBL', 'borderBR'],\n            faceDataTemp:[], // PersonBioViewModel类型的数组对象\n\t\t\tnewFaceDataViewModel:null, // PersonBioViewModel类型的数组对象,新增的\n\t\t\tisFaceMarkLoading :false,\n\t\t\tisFaceMarkWarning:false,\n\t\t\t//faceMarkRef,\n\t\t\tcanShowInitAddTooltip:false,\n\t\t\tcanShowFaceConfirm:true,\n\t\t\tpopperObject:null,\n\t\t\tvirtualTipElement:{\n\t\t\t\tcontextElement:null,\n\t\t\t\tgetBoundingClientRect:generateGetBoundingClientRect()\n\t\t\t},\n\t\t\tselectedColor:'#1677FF',\n\t\t\tselectedBorderWidth:2,\n\t\t\tcanDragFaceFrame:true,\n\t\t\tselectedPersons:[],\n\t\t\tPersonType:{\n            \tMale:PersonType.Male,\n\t\t\t\tFemale:PersonType.Female,\n\t\t\t\tChild:PersonType.Child,\n\t\t\t\tOlder:PersonType.Older\n\t\t\t},\n\t\t\tisFaceChanged:false,\n\t\t\tpendingToSavePersons:{},\n\t\t\tbatchSelectSexVal:'',\n\t\t\tManualFaceFrameId:GuideId.ManualFaceFrameId,\n\t\t\tInActiveAlpha:0.4,\n\t\t\tPersonBioItemStatus:{...PersonBioItemStatus}\n\t\t}\n    },\n    watch: {\n        faceData: {\n            handler(val) {\n                if (val && val.length > 0) {\n                    const results = JSON.parse(JSON.stringify(val))\n\t\t\t\t\tthis.initFaceData(results)\n                }\n            }\n        },\n\t\tisFaceMarkLoading:{\n\t\t\thandler(val) {\n\t\t\t\tthis.canDragFaceFrame = !val\n\t\t\t}\n\t\t},\n\t\tselectedPersons:{\n\t\t\thandler(val) {\n\t\t\t\tif (val.length >= 1 && this.faceDataTemp.length > nFaceShowHotKeyGuide){\n\t\t\t\t\tconst {handleGuideStart } = useRefineFaceBatchSelectGuide()\n\t\t\t\t\thandleGuideStart()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tnewFaceDataViewModel: {\n\t\t\thandler(val) {\n\t\t\t\tthis.$emit(\"onStatusChanged\",this.isPending)\n\t\t\t},\n\t\t\timmediate:true\n\t\t}\n    },\n\tcomputed:{\n    \tisPending(){\n    \t\treturn this.newFaceDataViewModel && (this.newFaceDataViewModel.status == PersonBioItemStatus.Pending || this.newFaceDataViewModel.status == PersonBioItemStatus.Init)\n\t\t},\n\t\tcanShowFaceMarkToolTip(){\n\t\t\tif (!this.newFaceDataViewModel){\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst status = this.newFaceDataViewModel.status\n\t\t\tlet enable = false\n\t\t\tif (status === PersonBioItemStatus.Init){\n\t\t\t\tenable = !this.canShowInitAddTooltip\n\t\t\t}\n\t\t\tif ( status === PersonBioItemStatus.Pending && (this.isFaceMarkLoading || this.isFaceMarkWarning)){\n\t\t\t\tenable = true\n\t\t\t}\n\t\t\treturn enable\n\t\t},\n\t\tfaceMarkTooltipText(){\n\t\t\tif (!this.newFaceDataViewModel){\n\t\t\t\treturn \"\"\n\t\t\t}\n\t\t\tconst status = this.newFaceDataViewModel.status\n\t\t\tswitch (status){\n\t\t\t\tcase PersonBioItemStatus.Init:\n\t\t\t\t\treturn \"移动并缩放人脸至人脸框\"\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (this.isFaceMarkLoading){\n\t\t\t\treturn \"正在识别中...\"\n\t\t\t}\n\t\t\tif (this.isFaceMarkWarning){\n\t\t\t\treturn \"此位置已有人脸\"\n\t\t\t}\n\t\t\treturn \"\"\n\t\t},\n\t\ttooltipBgColor(){\n\t\t\tif (!this.newFaceDataViewModel){\n\t\t\t\treturn \"\"\n\t\t\t}\n\t\t\tconst status = this.newFaceDataViewModel.status\n\t\t\tif (status === PersonBioItemStatus.Init || this.isFaceMarkLoading){\n\t\t\t\treturn \"#232324\"\n\t\t\t}\n\t\t\tif (this.isFaceMarkWarning){\n\t\t\t\treturn \"#D95838\"\n\t\t\t}\n\t\t\treturn \"\"\n\t\t},\n\t\toutColor(){\n\t\t\tconst commonColor = \"#ffffff\"\n\t\t\tconst warnColor = \"#D95838\"\n\t\t\tif (!this.newFaceDataViewModel){\n\t\t\t\treturn commonColor\n\t\t\t}\n\t\t\tif (this.isFaceMarkWarning){\n\t\t\t\treturn warnColor\n\t\t\t}\n\t\t\treturn commonColor\n\t\t},\n\t\tnewFaceFramePendingBorderColor(){\n\t\t\tconst commonColor = \"#00000033\"\n\t\t\treturn commonColor\n\t\t}\n\t},\n    methods: {\n\t\tbottomToolRef(){\n\t\t\treturn this.$refs['bottomToolRef']\n\t\t},\n    \tasync getCurrentImageId(){\n\t\t\tlet imagePath = store.state.thumbnail.activeThumbnail.imgPath\n\t\t\tlet viewModel = await imageIOManager.getViewModel(imagePath)\n\t\t\treturn viewModel.thumbnailModel.id\n\t\t},\n    \tcalcSelects(){\n    \t\tthis.selectedPersons = this.faceDataTemp.filter(it=>{\n    \t\t\tif (it.deleted){\n    \t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn it.isSelected\n\t\t\t})\n\t\t},\n\t\tonBottomGroupSexItemChoosed(item){\n\t\t\tfor (let selectedPerson of this.selectedPersons) {\n\t\t\t\tselectedPerson.personType = item\n\t\t\t\tselectedPerson.changed = true\n\t\t\t\tif (item === PersonType.Male) {\n\t\t\t\t\tselectedPerson.age = 20\n\t\t\t\t\tselectedPerson.gender = 1\n\t\t\t\t}\n\t\t\t\tif (selectedPerson.personType === PersonType.Female) {\n\t\t\t\t\tselectedPerson.age = 20\n\t\t\t\t\tselectedPerson.gender = 2\n\t\t\t\t}\n\t\t\t\tif (selectedPerson.personType === PersonType.Child) {\n\t\t\t\t\tselectedPerson.age = 1\n\t\t\t\t\tselectedPerson.gender = 1\n\t\t\t\t}\n\t\t\t\tif (selectedPerson.personType === PersonType.Older) {\n\t\t\t\t\tselectedPerson.age = 100\n\t\t\t\t\tselectedPerson.gender = 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet faceDataTemp = []\n\t\t\tfor (const faceData of this.faceDataTemp) {\n\t\t\t\tfaceDataTemp.push(faceData.toJson())\n\t\t\t}\n\t\t\tthis.$emit('callBackPersonType', {changedFaceData:this.selectedPersons,faceDataTemp:  faceDataTemp})\n\t\t},\n\t\tonBatchSexClick:debounce(function (event) {\n\t\t\tconst sexSelectorRef = this.$refs.sexSelectorRef\n\t\t\tif (!sexSelectorRef || !sexSelectorRef.$el){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tsexSelectorRef.$el.click()\n\t\t},10),\n\t\tonDeleteFaces(){\n    \t\tconst selectedCount = this.selectedPersons.length\n\t\t\tif (selectedCount == 0){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst title = selectedCount == 1?\"确认删除该人脸\":`确认删除${selectedCount}个人脸`\n\t\t\tconst message = \"删除后，调整效果将不会应用于该人脸上\"\n\t\t\tthis.tsConfirm({\n\t\t\t\ttitle: title,\n\t\t\t\tmessage: message,\n\t\t\t\tcustomMessageStyle: 'textAlign: center'\n\t\t\t}).then(async _ => {\n\t\t\t\tlet faces = {}\n\t\t\t\tfor (const selectedPerson of this.selectedPersons) {\n\t\t\t\t\tfaces[`${selectedPerson.id}`] = selectedPerson.toJson()\n\t\t\t\t\tfor (let i =0;i< this.faceDataTemp.length;i++) {\n\t\t\t\t\t\tconst face = this.faceDataTemp[i]\n\t\t\t\t\t\tif (selectedPerson.id == face.id){\n\t\t\t\t\t\t\tselectedPerson.changed = true\n\t\t\t\t\t\t\tselectedPerson.isManual == false ? selectedPerson.deleted = true : this.faceDataTemp.splice(i,1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst nDelFaces = this.selectedPersons.length\n\t\t\t\tlet faceDataTemp = []\n\t\t\t\tfor (const faceData of this.faceDataTemp) {\n\t\t\t\t\tfaceDataTemp.push(faceData.toJson())\n\t\t\t\t}\n\t\t\t\tthis.isFaceChanged = true\n\t\t\t\tawait refineRpc.removeFace(this.refineUUID,faces,await this.getCurrentImageId())\n\t\t\t\tthis.selectedPersons = []\n\t\t\t\tthis.$emit('onFaceDeleted',{deletedFaces:this.selectedPersons,faceDataTemp:faceDataTemp})\n\t\t\t\t// 上报埋点\n\t\t\t\tthis.PointAddAFaceFinish(`face${nDelFaces}_delete`)\n\t\t\t}).catch(e=>{\n\n\t\t\t})\n\t\t},\n\t\t// 清除选中态\n\t\tclearSelects(){\n\t\t\tthis.selectedPersons = this.faceDataTemp.filter(it=>{\n\t\t\t\tit.isSelected = false\n\t\t\t\tif (it.deleted){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn it.isSelected\n\t\t\t})\n\t\t},\n\t\tasync removePendingManualFacesWhenDialogClosed(){\n\t\t\tawait refineRpc.removeFace(this.refineUUID,this.pendingToSavePersons,await this.getCurrentImageId())\n\t\t},\n\t\tonNormalFaceFrameClick(person){\n\t\t\tif (this.newFaceDataViewModel){\n\t\t\t\treturn\n\t\t\t}\n    \t\tthis.clearSelects()\n\t\t\tperson.isSelected = true\n\t\t\tthis.calcSelects()\n\t\t},\n\t\tonNormalFaceFrameMetaClick(person,isMeta){\n\t\t\tif (this.newFaceDataViewModel){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst canApply = isMeta && this.$isMac || !isMeta && this.$isWin\n\t\t\tif (canApply){\n\t\t\t\tperson.isSelected = !person.isSelected\n\t\t\t}\n\t\t\tthis.calcSelects()\n\t\t},\n    \t/*\n    \t\t获得新增的人脸的归一化的人脸坐标比例\n    \t */\n    \tgetNewFaceFrameNormalized(){\n\t\t\tconst personBoxWidth = this.canvasWidth\n\t\t\tconst personBoxHeight = this.canvasHeight\n\t\t\tconst newFaceFrameRect = this.newFaceDataViewModel.getFaceRect()\n\t\t\tconst retX = newFaceFrameRect.x\n\t\t\tconst retY = newFaceFrameRect.y\n\t\t\tconst retWidth = newFaceFrameRect.width\n\t\t\tconst retHeight = newFaceFrameRect.height\n\t\t\tconst result = [\n\t\t\t\tretX / personBoxWidth,\n\t\t\t\tretY / personBoxHeight,\n\t\t\t\tretWidth /personBoxWidth,\n\t\t\t\tretHeight /personBoxHeight\n\t\t\t]\n\t\t\treturn result\n\t\t},\n\t\tisFaceRectIntersect(){\n\t\t\tlet result = false\n\t\t\tif (!this.newFaceDataViewModel){\n\t\t\t\treturn result\n\t\t\t}\n\t\t\tconst newFaceBox = {\n\t\t\t\tx:this.newFaceDataViewModel.faceBox[0],\n\t\t\t\ty:this.newFaceDataViewModel.faceBox[1],\n\t\t\t\twidth:this.newFaceDataViewModel.faceBox[2],\n\t\t\t\theight:this.newFaceDataViewModel.faceBox[3]\n\t\t\t}\n\t\t\tfor (const it of this.faceDataTemp) {\n\t\t\t\tif (it.deleted){\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tlet curFaceBox = {\n\t\t\t\t\t\t\t\t\tx:it.faceBoxNormalized[0]*this.canvasWidth,\n\t\t\t\t\t        \t  \ty:it.faceBoxNormalized[1]*this.canvasHeight,\n\t\t\t\t\t\t\t\t\twidth:it.faceBoxNormalized[2]*this.canvasWidth,\n\t\t\t\t\t\t\t\t\theight:it.faceBoxNormalized[3]*this.canvasHeight\n\t\t\t\t\t\t\t\t}\n\t\t\t\tconst interRect = intersection(curFaceBox,newFaceBox)\n\t\t\t\tif (interRect){\n\t\t\t\t\tconst curFaceBoxS = curFaceBox.width * curFaceBox.height\n\t\t\t\t\tconst interBoxS = interRect.width * interRect.height\n\t\t\t\t\t// console.log(`ImportAgeSexReviseFaceDialog.isFaceRectIntersect curFaceBoxS:`,curFaceBoxS,' interBoxS:',interBoxS)\n\t\t\t\t\tif (interBoxS/curFaceBoxS > overFlowRate){\n\t\t\t\t\t\tresult = true\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result\n\t\t},\n\t\tonNewFaceFrameChanged(val){\n\t\t\tthis.newFaceDataViewModel.faceBox = val\n\t\t\tthis.canShowInitAddTooltip = true\n\t\t\tthis.canShowFaceConfirm = false\n\t\t\tthis.newFaceDataViewModel.status = PersonBioItemStatus.Pending\n\t\t\tthis.isFaceMarkWarning = this.isFaceRectIntersect()\n\t\t\tif (this.popperObject){\n\t\t\t\tthis.popperObject.update();\n\t\t\t}\n\t\t},\n\t\tonNewFaceChangeFinished(){\n\t\t\tthis.canShowFaceConfirm = true\n\t\t},\n\t\tasync onFaceConfirm(){\n\t\t\tthis.isFaceMarkWarning = this.isFaceRectIntersect()\n\t\t\tthis.newFaceDataViewModel.status = PersonBioItemStatus.Pending\n\t\t\tif (this.isFaceMarkWarning){\n\t\t\t\tthis.resetToolTip()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isFaceMarkLoading = true\n\t\t\tthis.resetToolTip()\n\t\t\tthis.newFaceDataViewModel.faceBoxNormalized = this.getNewFaceFrameNormalized()\n\t\t\tconst refineUUID = this.refineUUID\n\t\t\tconst thumbnailId = await this.getCurrentImageId()\n\t\t\tconst faces = [this.newFaceDataViewModel.toJson()]\n\t\t\tlet filterIds = []\n\t\t\tfor (const face of this.faceDataTemp) {\n\t\t\t\tfilterIds.push(face.id)\n\t\t\t}\n\t\t\tlet ret = await refineRpc.updateFace(refineUUID,faces,filterIds,thumbnailId)\n\t\t\tthis.isFaceMarkLoading = false\n\t\t\tif (ret.length > 0){\n\t\t\t\tthis.isFaceChanged = true\n\t\t\t\tthis.newFaceDataViewModel.status = PersonBioItemStatus.Approved\n\t\t\t\tthis.newFaceDataViewModel.bindFromConfirm(new PersonBioModel(ret[0]))\n\t\t\t\tconst newModel = this.newFaceDataViewModel\n\t\t\t\tthis.faceDataTemp.push(newModel)\n\t\t\t\tthis.saveFace(this.faceDataTemp.length-1)\n\t\t\t\tthis.pendingToSavePersons[newModel.id]=newModel.toJson()\n\t\t\t\tthis.newFaceDataViewModel = null\n\t\t\t\t// 上报埋点\n\t\t\t\tthis.PointAddAFaceFinish(\"face1_add\")\n\t\t\t}\n\t\t\tthis.resetToolTip()\n\t\t\tthis.$nextTick(()=>{\n\t\t\t\tthis.selfAdaptionFaceBox()\n\t\t\t})\n\t\t},\n\t\tonFaceReject(){\n\t\t\tthis.newFaceDataViewModel.status = PersonBioItemStatus.Cancelled\n\t\t\tthis.newFaceDataViewModel = null\n\t\t\tthis.isFaceMarkLoading = false\n\t\t},\n    \tinitFaceData(faceDataModels){\n    \t\tthis.faceDataTemp = []\n\t\t\tthis.selectedPersons = []\n\t\t\tfor (const faceDataModel of faceDataModels) {\n\t\t\t\tlet faceDataViewModel = new PersonBioViewModel(new PersonBioModel(faceDataModel))\n\t\t\t\tif (faceDataModel.hasOwnProperty(\"isSelected\")){\n\t\t\t\t\tfaceDataViewModel.isSelected = faceDataModel.isSelected\n\t\t\t\t}\n\t\t\t\tif (faceDataModel.hasOwnProperty(\"status\")){\n\t\t\t\t\tfaceDataViewModel.status = faceDataModel.status\n\t\t\t\t}\n\t\t\t\tlet bCanPush = !(faceDataViewModel.deleted && faceDataViewModel.isManual)\n\t\t\t\tif (bCanPush){\n\t\t\t\t\tthis.faceDataTemp.push(faceDataViewModel)\n\t\t\t\t}\n\t\t\t\tif (faceDataModel.isSelected && faceDataViewModel.deleted == false){\n\t\t\t\t\tthis.selectedPersons.push(faceDataViewModel)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t人脸框的tooltip在状态动作更改时，需要重置popper的对象\n\t\t */\n\t\tresetToolTip(){\n\t\t\tthis.$nextTick(()=>{\n\t\t\t\tlet ref = this.$refs['faceResizeRef']\n\t\t\t\tlet tooltipRef = this.$refs['myTooltipRef']\n\t\t\t\tif (!ref || !ref.$el){\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.virtualTipElement.contextElement = ref.$el\n\t\t\t\tthis.popperObject = new Popper(this.virtualTipElement, tooltipRef, {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'offset',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\toffset: [0, 0],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t})\n\t\t},\n    \t//标题栏左上角的添加人脸的点击事件触发\n    \tonAddFaceFrameClick() {\n\t\t\tthis.PointAddAFace()\n\t\t\tif (this.newFaceDataViewModel){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.canShowInitAddTooltip = false\n\t\t\tconst faceSize = avgOfFaceFrame(this.faceDataTemp,this.canvasWidth,this.canvasHeight)\n\t\t\tthis.newFaceDataViewModel = PersonBioViewModel.Create()\n\t\t\tthis.newFaceDataViewModel.fbrFileName = PersonBioViewModel.CreateFbrFileName()\n\t\t\tthis.newFaceDataViewModel.status = PersonBioItemStatus.Init\n\t\t\tthis.newFaceDataViewModel.isManual = true\n\t\t\tthis.newFaceDataViewModel.add = true\n\t\t\tthis.newFaceDataViewModel.changed = true\n\t\t\tthis.newFaceDataViewModel.faceBox = newFaceFrame(faceSize,this.canvasWidth,this.canvasHeight)\n\t\t\tthis.resetToolTip()\n\t\t},\n\t\t//下拉框出现的时候，判断需要偏移的数量\n        isSelect(isSelect,index) {\n\t\t\tif (index >= 0){\n\t\t\t\tfor (let i = 0;i<this.faceDataTemp.length;i++) {\n\t\t\t\t\tif (i != index){\n\t\t\t\t\t\tlet face = this.faceDataTemp[i]\n\t\t\t\t\t\tface.isSelected = false\n\t\t\t\t\t}\n\t\t\t\t\tthis.calcSelects()\n\t\t\t\t}\n\t\t\t}\n            if (isSelect) {\n                this.$nextTick(() => {\n                    const select = document.getElementsByClassName('sex-select')\n                    for (let i = 0; i < select.length; i++) {\n                        const personWidth = select[i].parentElement.clientWidth\n                        const sonWidth = select[i].clientWidth\n                        select[i].style.left = personWidth / 2 - sonWidth / 2 + 'px'\n                    }\n                })\n            }\n        },\n\n        //强制刷新页面,且保存数据\n        refreshPage(personType, index,person) {\n\t\t\tperson.changed = true\n            if (personType) {\n                this.saveFace(index)\n            }\n        },\n        //把改变的数据，暂时保存起来\n        saveFace(index) {\n            if (this.faceDataTemp[index].personType === 'Male') {\n                this.faceDataTemp[index].age = 20\n                this.faceDataTemp[index].gender = 1\n                this.faceDataTemp[index].index = index\n            }\n            if (this.faceDataTemp[index].personType === 'Female') {\n                this.faceDataTemp[index].age = 20\n                this.faceDataTemp[index].gender = 2\n                this.faceDataTemp[index].index = index\n            }\n            if (this.faceDataTemp[index].personType === 'Child') {\n                this.faceDataTemp[index].age = 1\n                this.faceDataTemp[index].gender = 1\n                this.faceDataTemp[index].index = index\n            }\n            if (this.faceDataTemp[index].personType === 'Older') {\n                this.faceDataTemp[index].age = 100\n                this.faceDataTemp[index].gender = 1\n                this.faceDataTemp[index].index = index\n            }\n            let faceDataTemp = []\n\t\t\tfor (const faceData of this.faceDataTemp) {\n\t\t\t\tfaceDataTemp.push(faceData.toJson())\n\t\t\t}\n\t\t\tlet changedDataTemp = this.faceDataTemp[index].toJson()\n            this.$emit('callBackPersonType', {isFaceChanged: this.isFaceChanged, changedFaceData:[changedDataTemp], faceDataTemp: faceDataTemp })\n        },\n        //人脸框自适应\n        selfAdaptionFaceBox() {\n            this.$nextTick(() => {\n                // const elinputsuffix = document.getElementsByClassName('el-input--suffix')\n                // const elselectsmall = document.getElementsByClassName('el-select--small')\n                const elselectsmall = document.getElementsByClassName('change_sex')\n                for (let i = 0; i < elselectsmall.length; i++) {\n                    let top = elselectsmall[i].clientHeight\n                    if (top < 30) {\n                        top = top * 1.4\n                    }\n                    elselectsmall[i].style.top = '-' + top + 'px'\n                    this.handle_noComplete_face(top, i)\n                }\n            })\n        },\n\n        //处理不完整人脸\n        handle_noComplete_face(selectTop, faceBoxIndex) {\n            let faceBoxTop = this.faceDataTemp[faceBoxIndex].faceBox[1]\n            if (faceBoxTop - selectTop < 0) {\n                //如果不完整人脸多个，取最小比例\n                let ratio = this.canvasHeight / ((selectTop + Math.abs(faceBoxTop)) * 2 + +this.canvasHeight)\n                if (this.noCompleteRatio > ratio) {\n                    this.noCompleteRatio = ratio\n                    this.$emit('noComplete_toScale', ratio)\n                }\n            }\n        },\n\n        changePersonBoxPosition(args) {\n            const personBox = this.$refs['personBox']\n            personBox.style.position = 'absolute'\n            if (args.left) {\n                personBox.style.left = args.left + 'px'\n            }\n            if (args.top) {\n                personBox.style.top = args.top + 'px'\n            }\n\n        },\n\t\t// 挂载底部工具栏(批量删除、批量修改)\n\t\tattachBottomTool(){\n\t\t\tlet nextEl = this.$el\n\t\t\tlet bodyEl = null\n\t\t\twhile(nextEl = nextEl.parentElement){\n\t\t\t\tconst className = nextEl.className\n\t\t\t\tif (className.indexOf(\"el-dialog__body\") > 0){\n\t\t\t\t\tbodyEl = nextEl\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (bodyEl && this.bottomToolRef()){\n\t\t\t\tbodyEl.appendChild(this.bottomToolRef())\n\t\t\t}\n\t\t}\n    },\n\tmounted() {\n\t\tthis.attachBottomTool()\n\t},\n\tbeforeMount() {\n\t\tconst {destroy } = useRefineFaceBatchSelectGuide()\n\t\tdestroy()\n\t}\n})\n</script>\n\n<style lang=\"scss\">\n$btn_bg_color:#232324;\n$btn_normal_color:rgba(255,255,255,0.65);\n$btn_hover_color:#ffffff;\n.face-bottom-tool{\n\tz-index: 10000;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tbottom: 75px;\n\tleft:0px;\n\tright:0px;\n\t/deep/ .el-button{\n\t\tz-index:1;\n\t\tbackground: $btn_bg_color !important;\n\t\tcolor: $btn_normal_color !important;\n\t\theight: 36px;\n\t\twidth: 132px;\n\t\tfont-size: 12px;\n\t\tborder-radius: 4px;\n\t\tborder: 1px rgba(255, 255, 255, 0.3) solid !important;\n\n\t\t&:hover{\n\t\t\tcolor:$btn_hover_color !important;\n\t\t}\n\t\t&:first-child{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tborder-top-right-radius: 0px;\n\t\t\tborder-bottom-right-radius: 0px;\n\t\t\tpadding: 0;\n\t\t\tspan{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\t//overflow: hidden;\n\t\t\t\timg{\n\t\t\t\t\twidth: 16px;\n\t\t\t\t\theight: 16px;\n\t\t\t\t\tmargin-right: 4px;\n\t\t\t\t\tbackground-size:cover;\n\t\t\t\t\tbackground-image: url(\"../../../assets/icons/face_icon_change@3x.png\");\n\t\t\t\t\tfilter:brightness(65%);\n\t\t\t\t\t/*\n\t\t\t\t\t\t修改图片的前景色\n\t\t\t\t\t */\n\t\t\t\t\t//overflow: hidden;\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t.btn-title{\n\t\t\t\t}\n\t\t\t}\n\t\t\t&:hover{\n\t\t\t\tspan{\n\t\t\t\t\timg{\n\t\t\t\t\t\tbackground-image: url(\"../../../assets/icons/face_icon_change@3x.png\");\n\t\t\t\t\t\tfilter:brightness(100%);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&:last-child{\n\t\t\tmargin-left: -1px;\n\t\t\tborder-top-left-radius: 0px;\n\t\t\tborder-bottom-left-radius: 0px;\n\t\t}\n\t}\n\t.cla_sex_selector{\n\t\tposition: absolute !important;\n\t\tleft: calc(50% - 130px);\n\t\ttop:0px;\n\t\twidth: 132px;\n\t\tbackground: transparent;\n\t\t/deep/ .el-input{\n\t\t\tbackground: transparent;\n\t\t}\n\t\t/deep/ .el-input__inner{\n\t\t\tbackground: transparent;\n\t\t\tborder-width: 0px;\n\t\t}\n\t\t/deep/ .el-select-dropdown__item.selected{\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\t}\n}\n\ndiv#driver-popover-item.refine__face-guide{\n\tpadding: 12px;\n\tbackground: rgba(255, 255, 255, 0.85) !important;\n\tborder-radius: 4px !important;\n\tbox-shadow: none !important;\n\tborder: 0px !important;\n\t.driver-close-icon{\n\t\t&::before{\n\t\t\tbackground-color: rgba(0, 0, 0, 0.85) !important;\n\t\t}\n\t\t&::after{\n\t\t\tbackground-color: rgba(0, 0, 0, 0.85) !important;\n\t\t}\n\t}\n\t.driver-popover-description{\n\t\tfont-style: normal !important;\n\t\tfont-weight: 400 !important;\n\t\tfont-size: 12px !important;\n\t\tline-height: 17px !important;\n\t\tcolor: rgba(0, 0, 0, 0.85) !important;\n\t}\n\t.driver-popover-tip{\n\t\tbackground: rgba(255, 255, 255, 0.72) !important;\n\t\tmargin-top: 2px;\n\t}\n}\n.batch-sex-select.el-select-dropdown {\n\tbackground-color: #333333 !important;\n\t.el-scrollbar {\n\t\t.el-select-dropdown__wrap {\n\t\t\t.el-scrollbar__view {\n\t\t\t\t.el-select-dropdown__item {\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tcolor: rgba(255, 255, 255, 0.65);\n\t\t\t\t\tfont-weight: 400;\n\t\t\t\t}\n\n\t\t\t\t.selected {\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tcolor: #FFFFFF;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.popper__arrow {\n\t\t//display: none !important;\n\t\t&::after{\n\t\t\t//background-color: #333333;\n\t\t\tborder-top-color: #333333 !important;\n\t\t}\n\t}\n}\n</style>\n\n<style lang=\"scss\" scoped>\n$btn_bg_color:#232324;\n$btn_normal_color:rgba(255,255,255,0.65);\n$btn_hover_color:#ffffff;\n$male_color:#32C5FF;\n$female_color:#FA6400;\n$children_color:#FFDA29;\n$old_color:#FFFFFF;\n$age_disable_alpha:0.4;\n.personBox {\n\t.new-face{\n\n\t}\n\t.new-face-frame-confirm{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: flex-start;\n\t\t.el-button{\n\t\t\tfont-size: 13px;\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tpadding: 0px 0px;\n\t\t\tbackground: #232324;\n\t\t\tborder: 0px solid rgba(255, 255, 255, 0.3);\n\t\t\t&:first-child{\n\t\t\t\tborder-radius: 4px 4px 0px 0px;\n\t\t\t\tbackground: #3073FF;\n\t\t\t}\n\t\t\t&:last-child{\n\t\t\t\tborder-radius: 0px 0px 4px 4px;\n\t\t\t\tmargin-top: -1px;\n\t\t\t}\n\t\t}\n\t}\n\t.my-tooltip{\n\t\tbackground: #333;\n\t\tcolor: white;\n\t\tpadding: 6px 12px 6px 12px;\n\t\tborder-radius: 4px;\n\t\tfont-size: 12px;\n\t\tfont-weight: 400;\n\t\tline-height: 17px;\n\t\tletter-spacing: 0px;\n\t\ttext-align: center;\n\t\tcolor: rgba(255, 255, 255, 0.65);\n\t\tz-index: 1000;\n\t\t#arrow,\n\t\t#arrow::before {\n\t\t\tposition: absolute;\n\t\t\tleft: calc(50% - 4px);\n\t\t\twidth: 8px;\n\t\t\theight: 8px;\n\t\t\tbackground: inherit;\n\t\t}\n\n\t\t#arrow {\n\t\t\tvisibility: hidden;\n\t\t}\n\n\t\t#arrow::before {\n\t\t\tvisibility: visible;\n\t\t\tcontent: '';\n\t\t\ttransform: rotate(45deg);\n\t\t}\n\t}\n\t#my-tooltip-id[data-popper-placement^='top'] > #arrow {\n\t\tbottom: -4px;\n\t}\n    .person-type {\n        position: absolute;\n        .borderDiv{\n            position: absolute;\n            width: 20%;\n            height: 20%;\n        }\n        .borderTL{\n            top: 0;\n            left: 0;\n            border-top: 1px solid;\n            border-left: 1px solid;\n        }\n        .borderTR{\n            top: 0;\n            right: 0;\n            border-top: 1px solid;\n            border-right: 1px solid;\n        }\n        .borderBL{\n            bottom: 0;\n            left: 0;\n            border-bottom: 1px solid;\n            border-left: 1px solid;\n        }\n        .borderBR{\n            bottom: 0;\n            right: 0;\n            border-bottom: 1px solid;\n            border-right: 1px solid;\n        }\n\n\n        /deep/ {\n            .el-select,\n            .el-select--small {\n                padding: 0 !important;\n                margin: 0;\n                width: 100% !important;\n                height: 20% !important;\n                position: absolute;\n                top: -10%;\n                min-height: 20px;\n                display: flex;\n                justify-content: center;\n                pointer-events: none;\n                .el-input--small,\n                .el-input,\n                .el-input--suffix {\n                    pointer-events: auto;\n                    width: 70% !important;\n                    height: 100% !important;\n                    display: flex;\n                    //min-width: 50px;\n                    //min-height: 14px;\n                    min-width: 45px;\n                    min-height: 12.8px;\n                    max-width: 70px;\n                    max-height: 20px;\n                    font-size: smaller;\n\n                    .el-input__inner {\n                        display: block;\n                        text-align: center;\n                        font-family: PingFangSC-Regular;\n                        font-size: 12px;\n                        font-weight: 400;\n                        border: none;\n                        padding: 0;\n                        width: 75%;\n                        //min-width: 2rem;\n                        height: 100%;\n                        border-radius: 0;\n                        border-top-left-radius: 4px;\n                        border-bottom-left-radius: 4px;\n                    }\n\n                    .el-input__suffix {\n                        display: none;\n                    }\n                }\n\n                .el-input--suffix:after {\n                    content: \" \";\n                    display: block;\n                    //width: 25%;\n                    //height:100%;\n                    width: 17.5px;\n                    height: 20px;\n                    position: absolute;\n                    left: calc(75%);\n                    border: none;\n                    border-radius: 0;\n                    border-top-right-radius: 4px;\n                    border-bottom-right-radius: 4px;\n                    //background-image: url(\"../../../assets/icons/pop_icon_right_dark @3x.png\");\n                    background-size: 7px;\n                    background-repeat: no-repeat;\n                    background-position: center;\n                }\n\n                .el-input--suffix:before {\n                    content: \" \";\n                    display: block;\n                    position: absolute;\n                    left: calc(75%);\n                    width: 1px;\n                    height: 100%;\n                    z-index: 5;\n                    opacity: 0.5;\n                }\n            }\n        }\n    }\n\n    .person-Older {\n        .borderDiv{\n            border-color: $old_color;\n        }\n\n        /deep/ .el-input__inner {\n            background-color: $old_color;\n            color: #333333;\n        }\n\n        /deep/ .el-input--suffix:after {\n            background-color: $old_color;\n            background-image: url(\"../../../assets/icons/pop_icon_right_dark @3x.png\");\n        }\n\n        /deep/ .el-input--suffix:before {\n            background-color: #B8B8B8;\n        }\n\t\t/deep/ .is-disabled{\n\t\t\topacity: $age_disable_alpha;\n\t\t\t.el-input__inner{\n\t\t\t\tbackground-color: $old_color;\n\t\t\t}\n\t\t\t&.el-input--suffix:after{\n\t\t\t\tbackground-color: $old_color;\n\t\t\t}\n\t\t}\n    }\n\n    .person-Child {\n        .borderDiv{\n            border-color: $children_color;\n        }\n\n        /deep/ .el-input__inner {\n            background-color: $children_color;\n            color: #333333;\n        }\n\n        /deep/ .el-input--suffix:after {\n            background-color: $children_color;\n            background-image: url(\"../../../assets/icons/pop_icon_right_dark @3x.png\");\n        }\n\n        /deep/ .el-input--suffix:before {\n            background-color: #FFFFFF;\n        }\n\t\t/deep/ .is-disabled{\n\t\t\topacity: $age_disable_alpha;\n\t\t\t.el-input__inner{\n\t\t\t\tbackground-color: $children_color;\n\t\t\t}\n\t\t\t&.el-input--suffix:after{\n\t\t\t\tbackground-color: $children_color;\n\t\t\t}\n\t\t}\n\t}\n\n    .person-Male {\n        .borderDiv{\n            border-color: $male_color;\n        }\n\n        /deep/ .el-input__inner {\n            background-color: $male_color;\n            //opacity: 0.8;\n            color: #FFFFFF;\n        }\n\n        /deep/ .el-input--suffix:after {\n            background-color: $male_color;\n            background-image: url(\"../../../assets/icons/pop_icon_right_white@3x.png\");\n        }\n\n        /deep/ .el-input--suffix:before {\n            background-color: #FFFFFF;\n        }\n\t\t/deep/ .is-disabled{\n\t\t\topacity: $age_disable_alpha;\n\t\t\t.el-input__inner{\n\t\t\t\tbackground-color: $male_color;\n\t\t\t}\n\t\t\t&.el-input--suffix:after{\n\t\t\t\tbackground-color: $male_color;\n\t\t\t}\n\t\t}\n    }\n\n    .person-Female {\n        .borderDiv{\n            border-color: $female_color;\n        }\n\n        /deep/ .el-input__inner {\n            background-color: $female_color;\n            //opacity: 0.8;\n            color: #FFFFFF;\n        }\n\n        /deep/ .el-input--suffix:after {\n            background-color: $female_color;\n            background-image: url(\"../../../assets/icons/pop_icon_right_white@3x.png\");\n        }\n\n        /deep/ .el-input--suffix:before {\n            background-color: #FFFFFF;\n        }\n\t\t/deep/ .is-disabled{\n\t\t\topacity: $age_disable_alpha;\n\t\t\t.el-input__inner{\n\t\t\t\tbackground-color: $female_color;\n\t\t\t}\n\t\t\t&.el-input--suffix:after{\n\t\t\t\tbackground-color: $female_color;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n\n/deep/ .el-select {\n    .el-select-dropdown {\n        width: 100% !important;\n        min-width: 70px !important;\n        max-width: 100px !important;\n        background-color: #333333 !important;\n        position: absolute !important;\n        top: 50% !important;\n        pointer-events: auto;\n        //left: 200px;\n\n        .el-scrollbar {\n            .el-select-dropdown__wrap {\n                .el-scrollbar__view {\n                    .el-select-dropdown__item {\n                        font-size: 12px;\n                        color: rgba(255, 255, 255, 0.65);\n                        font-weight: 400;\n                    }\n\n                    .selected {\n                        font-size: 12px;\n                        color: #FFFFFF;\n                        font-weight: 600;\n                    }\n                }\n            }\n        }\n\n        .popper__arrow {\n            display: none;\n        }\n    }\n}\n\n</style>\n","import { nextTick, onUnmounted, Ref, ref } from 'vue'\n// @ts-ignore\nimport Driver from '@/components/TsDriver'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport { GuideStoryKey } from '@/constants/constants'\nimport { APP_VERSION } from '@/constants/config'\nimport QtEventFilter, { QtEventFilterType } from '@/utils/QtEventFilter'\nimport {delay} from \"@/universal/utils/common\";\n\ninterface IUseRefineGuideRepositories {\n    handleGuideStart: () => void\n    destroy: () => void\n}\n\nexport enum GuideId {\n    ManualFaceId = 'guide__manual_face'\n}\n\nexport default function useRefineFaceUpdateGuide(): IUseRefineGuideRepositories {\n\n    const { PointGuideImgAdjust, PointGuideBackground, PointGuideHistory } = useRefinePointsRepositories()\n\n    const _onFinishGuide = (): void => {\n        localStorage.setItem(GuideStoryKey.Refine_ManualFace, APP_VERSION)\n    }\n\n    const steps = [\n        {\n            element: `#${ GuideId.ManualFaceId }`,\n            popover: {\n                className: 'first-step-popover-class',\n                title:'',\n                description: '未识别的人脸支持手动选择了',\n                position:'bottom-center'\n            },\n            onNext: () => null\n        }\n    ]\n\n    let timer = 0\n\n    const driver: Ref<Driver | null> = ref(null)\n    const handleGuideStart = (): void => {\n        const value = localStorage.getItem(GuideStoryKey.Refine_ManualFace)\n        if (value) {\n            return\n        }\n\n        timer = setTimeout(() => {\n            driver.value = new Driver({\n                autoComplete: true,\n                nextBtnText: '',\n                doneBtnText: '',\n                padding: 2,\n                opacity: 0.4,\n                allowClose: true,\n                showPreviewButton: false,\n                keyboardControl:false,\n                autocompleteWait:2000000,\n                stageBackground:'#00000000',\n                position:'bottom-center',\n                className: 'refine__face-guide',\n                onCloseClicked: () => _onFinishGuide(),\n                onClose: () => {\n                    QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], true)\n                }\n            })\n            driver.value.defineSteps(steps)\n            nextTick(() => {\n                delay(10).then(()=>{\n                    const footEl:HTMLElement = document.getElementsByClassName('driver-popover-footer')[0] as HTMLElement\n                    footEl.style.display = 'none'\n                })\n                QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], false)\n                driver.value?.start()\n                _onFinishGuide()\n            })\n        }, 300)\n    }\n\n    // onUnmounted(() => {\n    //     if (timer) {\n    //         clearTimeout(timer)\n    //         timer = 0\n    //     }\n    //     driver.value = null\n    // })\n\n    return {\n        handleGuideStart,\n        destroy: () => {\n            if (timer) {\n                clearTimeout(timer)\n                timer = 0\n            }\n            driver.value = null\n        }\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseFaceBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseFaceBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportAgeSexReviseFaceBox.vue?vue&type=template&id=98c4f034&scoped=true&\"\nimport script from \"./ImportAgeSexReviseFaceBox.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportAgeSexReviseFaceBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportAgeSexReviseFaceBox.vue?vue&type=style&index=0&id=98c4f034&prod&lang=scss&\"\nimport style1 from \"./ImportAgeSexReviseFaceBox.vue?vue&type=style&index=1&id=98c4f034&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98c4f034\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <el-dialog\n        append-to-body\n        :top=\"dialogTop + 'px'\"\n        :width=\"dialogWidth + 'px'\"\n        align=\"center\"\n        title=\"年龄性别修改\"\n        custom-class=\"setting-dialog gpu-switch-dialog\"\n        :visible.sync=\"visible\"\n        :close-on-click-modal=\"false\"\n        :destroy-on-close=\"true\"\n        :before-close=\"onClose\"\n\t\t@click.native.stop=\"onBodyClick\"\n    >\n        <div slot=\"title\" class=\"title-container\">\n\t\t\t<el-button class=\"add-face-btn\" @click=\"onAddFaceFrameClick\" :id=\"manualFaceGuidId\">\n\t\t\t\t<img class=\"btn-icon\" src=\"\"/>\n\t\t\t\t<span class=\"btn-title\">添加人脸</span>\n\t\t\t</el-button>\n\t\t\t<span class=\"title\">年龄性别修改</span>\n        </div>\n        <ImportAgeSexReviseItem class=\"container\"\n                                ref=\"ImportAgeSexReviseItem\"\n                                @toScale=\"toScale\"\n                                :value=\"value\">\n            <div slot=\"centerInfo\" ref=\"centerInfo\" class=\"centerInfo\" :style=\"`height: ${dialogHeight}px`\">\n                <canvas ref=\"popupCanvas\" id=\"popupCanvas\"></canvas>\n                <ImportAgeSexReviseBox @noComplete_toScale=\"noComplete_toScale\"\n                                       ref=\"ImportAgeSexReviseBox\"\n                                       :canvasHeight=\"canvasHeight\"\n                                       :canvasWidth=\"canvasWidth\"\n                                       :face-data=\"faceData\"\n\t\t\t\t\t\t\t\t\t   :refineUUID=\"this.refineUUID\"\n\t\t\t\t\t\t\t\t\t   :scale=\"scale\"\n                                       @callBackPersonType=\"callBackPersonType\"\n\t\t\t\t\t\t\t\t\t   @onFaceDeleted=\"onFaceDeleted\"\n\t\t\t\t\t\t\t\t\t   @onStatusChanged=\"onFaceEditStatusChanged\"\n\t\t\t\t/>\n            </div>\n        </ImportAgeSexReviseItem>\n    </el-dialog>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { Button } from 'element-ui'\nimport ImportAgeSexReviseItem from '@/views/PhotoFinishing/Components/ImportAgeSexReviseItem'\nimport ImportAgeSexReviseBox from '@/views/PhotoFinishing/Components/ImportAgeSexReviseFaceBox'\nimport { mapActions } from 'vuex'\nimport toast from '@/mixins/toast'\nimport TsDialog from '@/components/TsDialog/ts-dialog'\nimport refine from '@/qt-ipc/business/refine'\nimport {PersonType} from \"@/constants/constants\";\nimport useRefineFaceUpdateGuide, {GuideId} from \"@/composables/guide/useRefineFaceUpdateGuide\";\nimport {PersonBioModel} from \"@/model/PersonBioModel\";\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\n\nexport default defineComponent({\n    components: {\n        'el-dialog': TsDialog,\n        'el-button': Button,\n        ImportAgeSexReviseItem,\n        ImportAgeSexReviseBox\n    },\n    props: {\n        value: {\n            type: Boolean,\n            default: false\n        },\n        personTypeTab: {\n            type: String,\n            default: ''\n        },\n        refineUUID:{\n            type: String,\n            default: ''\n        }\n    },\n    setup() {\n        const { PointAddAFace, PointAddAFaceFinish } = useRefinePointsRepositories()\n\n        return {\n            PointAddAFace,\n            PointAddAFaceFinish\n        }\n    },\n    data() {\n        return {\n            faceData: null,\n            canvasWidth:0,\n            canvasHeight:0,\n            dialogWidth: 0,\n            dialogHeight: 0,\n\n            dialogTop: 0,\n            headHeight: 51,\n            footHeight: 55,\n\n            visible: false,\n            personType: null,\n            isPersonBioChanged: false,\n            newPersonType:null,\n            ageSexReviseImageData: null,\n            scaleRatioWidth: null,\n            scaleRatioHeight: null,\n            isUpdateType: false,\n            imageData: null,\n            isLoadSuccess: false,\n            manualFaceGuidId:GuideId.ManualFaceId,\n            isConfirm:false, // 是否已经点击了确定按钮\n            isFacePending:false, // 人脸是否在等待中\n            scale:1,\n            oldFaceData:null //\t旧人脸数据\n        }\n    },\n    computed: {},\n    mixins: [toast],\n\n    watch: {\n        value: {\n            handler(val) {\n                // let isLoadDataError = store.getters['isLoadDataError']\n                this.visible = val\n                if (val) {\n                    //@ts-ignore\n                    this.oldFaceData = this.$store.state.ageSexRevise.originFaceData\n                    // this.isLoadSuccess ? this.render() : this.initData(true)\n                    const {handleGuideStart } = useRefineFaceUpdateGuide()\n                    handleGuideStart()\n                    this.initData(true)\n                    refine.handleEnableUndoRedo(false);\n                } else {\n                    refine.handleEnableUndoRedo(true);\n                }\n            },\n            immediate: true\n        }\n    },\n    methods: {\n        ...mapActions([\n            'saveFaceData',\n            'callDeleteImage',\n            'sexReport',\n            'getImageData',\n            'getImageSize'\n        ]),\n        //初始化数据\n        async initData(isRender) {\n            try {\n                //获取canvas以及dialog的大小\n                let sizeData = await this.getImageSize()\n                this.dialogWidth = sizeData?.dialogWidth\n                this.dialogHeight = sizeData?.dialogHeight\n                this.canvasWidth = sizeData?.canvasWidth\n                this.canvasHeight = sizeData?.canvasHeight\n\n                //获取图片数据（base64、width、height、face）\n                this.ageSexReviseImageData = await this.getImageData()\n                //弹窗的高度\n                let dialogHeight = this.headHeight + this.dialogHeight + this.footHeight\n                this.dialogTop = (document.documentElement.clientHeight - dialogHeight) / 2\n                this.isLoadSuccess = true\n                if (isRender) this.render()\n                // store.commit('isLoadDataError', false)\n\n            } catch (e) {\n                // store.commit('isLoadDataError', true)\n                if (isRender) {\n                    this.tsNotify('年龄数据加载失败或识别不出来,后续处理')\n                    this.onClose()\n                }\n                //todo\n                console.log('年龄数据加载失败', e)\n            }\n        },\n\n        //渲染弹窗\n        render() {\n            this.$nextTick(async () => {\n                this.clearUpData()\n                await this.drawCanvas()\n                this.faceData = this.ageSexReviseImageData.face\n                this.$refs['ImportAgeSexReviseBox'].selfAdaptionFaceBox() //人脸框选择栏位置自适应\n            })\n        },\n\n        //将数据保存到本地\n        async onSubmit() {\n        \tthis.isConfirm = true\n            if (this.isPersonBioChanged) {\n                //保存数据\n                let jsonArySaveToFile = []\n                for (const face of this.faceData) {\n                    jsonArySaveToFile.push(new PersonBioModel(face))\n                }\n                await this.saveFaceData(jsonArySaveToFile).then(() => {\n                    //删除本地缓存图片(为了刷新processImage)\n                    // this.callDeleteImage()\n                    this.$emit('changeFaceData')\n                })\n                if (this.newPersonType){\n                    this.$emit('update:personTypeTab', this.newPersonType) //更新tab栏中的性别\n                    this.newPersonType = null\n                }\n            }\n        },\n\n        onBodyClick(){\n            this.$refs['ImportAgeSexReviseBox'].clearSelects()\n        },\n        //关闭弹窗，并反向更新value数据\n        onClose() {\n            const canvas = document.getElementById('popupCanvas')\n            if (canvas) {\n                const cxt = canvas.getContext('2d')\n                if (cxt) {\n                    cxt.clearRect(0, 0, canvas.width, canvas.height)\n                }\n            }\n            this.visible = false\n            this.$emit('update:value', false)\n            this.ageSexReviseImageData = null\n            this.faceData = null\n            // 不是确定按钮点击后触发的关闭，需要移除掉等待状态的人脸框及缓存\n            if (!this.isConfirm){\n                this.$refs['ImportAgeSexReviseBox'].removePendingManualFacesWhenDialogClosed()\n            }\n            if (!this.isPersonBioChanged){\n                return\n            }\n            this.sexReport(this.oldFaceData)\n        },\n\n        //清空布局残留\n        clearUpData() {\n            //每次重新画图，清空上次偏移数据\n            const centerInfo = document.getElementById('centerInfo')\n            centerInfo.style.left = '0'\n            centerInfo.style.top = '0'\n            //每次重新画图，清空上次缩放的比例\n            this.$refs.centerInfo.style.transform = 'scale(1)'\n            this.$refs.centerInfo.style.transformOrigin = '0 0'\n            //清空上次的缩放比例\n            this.scaleRatioHeight = 1\n            this.scaleRatioWidth = 1\n        },\n\n\n        //画出canvas，并对其进行缩放和平移到中心点位置\n        async drawCanvas() {\n            let canvas = this.$refs.popupCanvas\n            let imgData = this.imageData = this.ageSexReviseImageData.data\n            let originWidth = this.ageSexReviseImageData.width\n            let originHeight = this.ageSexReviseImageData.height\n\n            let ctx = canvas.getContext('2d')\n            let ratio = window.devicePixelRatio || 1 //做清晰处理\n            let img = new Image()\n            img.src = imgData\n            img.onload = () => {\n                canvas.width = this.canvasWidth * ratio\n                canvas.height = this.canvasHeight * ratio\n                ctx.drawImage(img, 0, 0, originWidth, originHeight, 0, 0, this.canvasWidth * ratio, this.canvasHeight * ratio)\n                let scaleRatio = 1 / ratio\n                canvas.style.transform = 'scale(' + scaleRatio + ',' + scaleRatio + ')'\n                canvas.style.transformOrigin = '0 0'\n                //居中显示canvas和人脸框\n                if (this.canvasWidth !== this.dialogWidth) {\n                    let left = -this.canvasWidth / 2 + this.dialogWidth / 2\n                    canvas.style.position = 'absolute'\n                    canvas.style.left = left + 'px'\n                    this.$refs['ImportAgeSexReviseBox'].changePersonBoxPosition({ left })\n                }\n                if (this.canvasHeight !== this.dialogHeight) {\n                    let top = -this.canvasHeight / 2 + this.dialogHeight / 2\n                    canvas.style.position = 'absolute'\n                    canvas.style.top = top + 'px'\n                    this.$refs['ImportAgeSexReviseBox'].changePersonBoxPosition({ top })\n                }\n            }\n        },\n\n        //不完整人脸的缩放\n        noComplete_toScale(scale) {\n            this.toScale(scale)\n            //保存鼠标与不完整人脸缩放比例一致\n            this.$refs.ImportAgeSexReviseItem.changeScaleRadio(scale)\n        },\n        //自定义事件，用户滚动鼠标，开始缩放\n        toScale(scale) {\n        \tlet needConvert = true\n        \tif (scale<=1){\n        \t\tscale = 1\n                needConvert = false\n            }\n        \tif (scale>=2){\n                scale = 2\n                needConvert = false\n            }\n        \tthis.scale = needConvert ? parseFloat(scale):scale\n            //缩放中心点设置\n            const centerInfo = this.$refs.centerInfo\n            centerInfo.style.transform = 'scale(' + scale + ')'\n            centerInfo.style.transformOrigin = this.dialogWidth / 2 + 'px' + ' ' + this.dialogHeight / 2 + 'px'\n        },\n\n        async onFaceDeleted(args){\n            let {deletedFaces, faceDataTemp } = args\n            this.isUpdateType = true\n            this.faceData = faceDataTemp\n            this.isPersonBioChanged = true\n            await this.onSubmit()\n        },\n        onFaceEditStatusChanged(pending){\n        \tthis.isFacePending = pending\n        },\n        //返回确定后，改变的人脸类型,\n        //并判断用户的改变是否与系统判断不同\n        async callBackPersonType(args) {\n            let {isFaceChanged, changedFaceData, faceDataTemp } = args\n            this.faceData = faceDataTemp\n            let oldFaceDatas = this.$store.state.ageSexRevise.originFaceData\n            let isIdentical = false//personType === oldPersonType\n\n            const isPersonTypeChanged = (faceItem,oldFaceDatas)=>{\n            \tlet isChanged = false\n            \tconst {id,personType} = faceItem\n                for (const oldFace of oldFaceDatas) {\n                    let age = oldFace.age\n                    let gender = oldFace.gender\n                    let oldFaceId = oldFace.id\n                    let oldPersonType = \"\"\n                    if (age > 12 && age < 55 && gender === 1) {\n                        oldPersonType = PersonType.Male\n                    } else if (age > 12 && age < 55 && gender === 2) {\n                        oldPersonType = PersonType.Female\n                    } else if (age <= 12) {\n                        oldPersonType = PersonType.Child\n                    } else if (age >= 55) {\n                        oldPersonType = PersonType.Older\n                    }\n                    if (id == oldFaceId){\n                        isChanged = oldPersonType != personType\n                        break\n                    }\n                }\n                return isChanged\n            }\n\n            let changedPersonType = null\n            for (const changedFace of changedFaceData) {\n                if (isPersonTypeChanged(changedFace,oldFaceDatas)){\n                    isIdentical = true\n                    changedPersonType = changedFace.personType\n                    break\n                }\n            }\n            this.newPersonType = changedPersonType\n            this.isUpdateType = isIdentical\n            console.log('人物类型是否发生变化 : ', this.isUpdateType)\n            this.isPersonBioChanged = true\n            await this.onSubmit()\n        },\n\n        onAddFaceFrameClick(){\n            this.$refs['ImportAgeSexReviseBox'].onAddFaceFrameClick()\n        }\n    },\n    beforeMount() {\n        const {destroy } = useRefineFaceUpdateGuide()\n        destroy()\n    }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n$btn_bg_color:#232324;\n/deep/ .gpu-switch-dialog.el-dialog {\n\tposition: relative;\n\t.title-container{\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\t.add-face-btn{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tposition: absolute;\n\t\t\tleft: 0px;\n\t\t\tborder: 1px rgba(255, 255, 255, 0.3) solid;\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 4px 12px 4px 12px;\n\t\t\theight: 28px;\n\t\t\tbackground: $btn_bg_color;\n\t\t\t&:hover{\n\t\t\t\tspan{\n\t\t\t\t\tcolor: #FFFFFF;\n\t\t\t\t\timg{\n\t\t\t\t\t\tbackground-image: url(\"../../../assets/icons/face_icon_add@3x.png\");\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t修改图片的前景色\n\t\t\t\t\t\t */\n\t\t\t\t\t\tfilter:brightness(100%);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tspan{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tcolor: rgba(255,255,255,0.65);\n\t\t\t\timg{\n\t\t\t\t\twidth: 16px;\n\t\t\t\t\theight: 16px;\n\t\t\t\t\tmargin-right: 4px;\n\t\t\t\t\tbackground-size:cover;\n\t\t\t\t\tbackground-image: url(\"../../../assets/icons/face_icon_add@3x.png\");\n\t\t\t\t\tfilter:brightness(65%);\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\t\t.btn-title{\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\t.title{\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 16px;\n\t\t\topacity: 0.85;\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\t}\n    .el-dialog__body {\n        padding: 0 !important;\n        overflow: hidden;\n\t\tpadding-bottom: 16px !important;\n    }\n\t.footer{\n\t\t/deep/.is-disabled{\n\t\t\topacity: 0.3;\n\t\t}\n\t}\n}\n\n.tip-info {\n    font-size: 12px;\n    line-height: 18px;\n    margin: 4px;\n}\n\n.gpu-switch-dialog {\n\tborder-radius: 12px;\n    .container {\n        position: relative;\n        text-align: left;\n\n        img {\n            width: 100%;\n            height: 100%;\n        }\n\n        .popupCanvas {\n            position: absolute;\n            top: 100px;\n            left: 0;\n        }\n    }\n}\n\n/deep/ {\n    .el-select-dropdown,\n    .el-popper {\n        background-color: red !important;\n\n        .popper__arrow {\n            display: none;\n        }\n    }\n}\n\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportAgeSexReviseDialog.vue?vue&type=template&id=7d48e9d9&scoped=true&\"\nimport script from \"./ImportAgeSexReviseDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportAgeSexReviseDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportAgeSexReviseDialog.vue?vue&type=style&index=0&id=7d48e9d9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d48e9d9\",\n  null\n  \n)\n\nexport default component.exports","/*\n    用户偏好设置\n */\n\nconst localStorage = window.localStorage\n\nexport class UserPreferenceSettingModel {\n    async getRefineParamsSplitValue(): Promise<string | null> {\n        let ret = await localStorage.getItem('refineRightParamsSplitValue')\n        if (ret !== 'undefined' && ret !== null) {\n            // @ts-ignore\n            ret = parseFloat(ret)\n        }\n        return ret\n    }\n\n    async setRefineParamsSplitValue(val: number) {\n        await localStorage.setItem('refineRightParamsSplitValue', val + '')\n    }\n\n    async getBatchRetouchParamsSplitValue(): Promise<number | null> {\n        let ret = await localStorage.getItem('batchRetouchParamsSplitValue')\n        if (ret !== 'undefined' && ret !== null) {\n            // @ts-ignore\n            ret = parseFloat(ret)\n        }\n        // @ts-ignore\n        return ret\n    }\n\n    async setBatchRetouchParamsSplitValue(val: number) {\n        await localStorage.setItem('batchRetouchParamsSplitValue', val + '')\n    }\n}\n","import {\n    ref,\n    watch,\n    Ref,\n    onMounted,\n    computed, nextTick, onUnmounted\n} from 'vue'\nimport store from '@/store'\n\nimport { UserPreferenceSettingModel } from '@/universal/model/UserPreferenceSettingModel'\n\ninterface IUseSplitRepositories {\n    splitValue: Ref<number>,\n    splitManualVal: Ref<number>\n    presetHeight: Ref<number>,\n    histogramHeight: Ref<number>,\n\n    updateParamsComRefHeight: () => void\n}\n\nconst chartTitleHeight = 38.5\nconst presetTitleHeight = 38.5\n\nexport default function useSplitRepositories(data: any): IUseSplitRepositories {\n    const isRaw = computed(() => store.getters['refine/isRaw'])\n\n    const paramsComRefHeight = ref(0)\n\n    const splitValue = ref(0.3)\n    const splitManualVal = ref(0.3)\n    const cacheHeight = ref(0)\n\n    // 计算预设高度\n    const presetHeight = computed(() => {\n        if (cacheHeight.value) {\n            return cacheHeight.value\n        }\n\n        const height = paramsComRefHeight.value * splitValue.value - presetTitleHeight\n\n        if (height < 0) {\n            return 0\n        }\n\n        return height\n    })\n\n    watch(data.activeNames, (keys: string[]) => {\n        if (!keys.includes('preset')) {\n            cacheHeight.value = presetHeight.value\n            splitValue.value = presetTitleHeight / paramsComRefHeight.value\n        } else {\n            splitValue.value = splitManualVal.value\n            cacheHeight.value = 0\n        }\n    })\n\n    // 只记手动拖拽的\n    watch(splitManualVal, (val) => {\n        let userPreferModel = new UserPreferenceSettingModel()\n        userPreferModel.setRefineParamsSplitValue(val)\n    })\n\n    const initSplitVal = () => {\n        let userPreferModel = new UserPreferenceSettingModel()\n        userPreferModel.getRefineParamsSplitValue().then((v) => {\n            if (v) {\n                const value = Number(v)\n                splitValue.value = data.activeNames.value.includes('preset')\n                    ? value\n                    : (presetTitleHeight / paramsComRefHeight.value)\n                splitManualVal.value = value\n            }\n        })\n    }\n    onMounted(initSplitVal)\n\n    // 更新直方图区块高度\n    const histogramHeight = ref(chartTitleHeight)\n    const updateHistogramHeight = (): void => {\n        const domRef = data.getHistogramRef()\n        if (!domRef) {\n            return\n        }\n        const tsHistogramH = domRef.$children[0].getHeight(isRaw.value)\n        if (!tsHistogramH) {\n            return\n        }\n\n        if (data.activeNames.value.includes('histogram')) {\n            histogramHeight.value = tsHistogramH + chartTitleHeight\n        } else {\n            histogramHeight.value = chartTitleHeight\n        }\n    }\n    onMounted(updateHistogramHeight)\n    watch(isRaw, updateHistogramHeight)\n    watch(data.activeNames, updateHistogramHeight)\n\n    // 更新右侧面板容器高度\n    const updateParamsComRefHeight = (): void => {\n        nextTick(() => {\n            let domRef = data.getParamsComRef()\n            if (!domRef || !domRef.getBoundingClientRect().height) {\n                return\n            }\n            console.log(\"domRef.getBoundingClientRect().height: \", domRef.getBoundingClientRect().height)\n            paramsComRefHeight.value = domRef.getBoundingClientRect().height\n        })\n    }\n    onMounted(updateParamsComRefHeight)\n\n    // 监听窗口大小变更\n    const listenResizeEvent = (isDestroy: boolean = false) => {\n        if (isDestroy) {\n            window.addEventListener('resize', updateParamsComRefHeight)\n        } else {\n            window.removeEventListener('resize', updateParamsComRefHeight)\n        }\n    }\n\n    onMounted(() => listenResizeEvent(true))\n    onUnmounted(() => listenResizeEvent(false))\n\n    return {\n        splitValue,\n        splitManualVal,\n        presetHeight,\n        histogramHeight,\n\n        updateParamsComRefHeight\n    }\n}\n","/**\n * 工具列表\n */\nexport enum Tool {\n    Eraser = 'eraser',   // 橡皮擦工具\n    Brush = 'brush',     // 画笔工具\n    Liquefy = 'liquefy'  // 液化工具\n}\n\nexport const ToolRecordName: { [key: string]: string } = {\n    'eraser': '橡笔擦涂抹',\n    'brush': '画笔涂抹',\n    'liquefy': '液化',\n    'reset': '重置'\n}\n","<template>\n    <div class=\"params-bar global__params-bar border-line-style\">\n        <div class=\"params-components\" ref=\"paramsComRef\">\n            <!--            :min=\"`${splitMinVal}px`\"-->\n            <!--            :max=\"`${splitMaxVal}px`\"-->\n            <split\n                :min=\"`${activeNames.includes('preset') ? splitMinVal : 40}px`\"\n                :disabled=\"!activeNames.includes('preset')\"\n                mode=\"vertical\"\n                v-model=\"splitValue\"\n                @on-move-end=\"[splitManualVal = splitValue, PointDragPanel()]\"\n            >\n                <div slot=\"trigger\" class=\"splitTriggle\">\n                    <div class=\"triggleContent\"></div>\n                </div>\n\n                <el-collapse\n                    slot=\"top\"\n                    ref=\"removeTabindex\"\n                    class=\"collapse preset-collapse\"\n                    v-model=\"activeNames\">\n                    <el-collapse-item title=\"预设\" name=\"preset\" ref=\"preset\">\n                        <template slot=\"title\">\n                            <div class=\"claWtBlanceTitle\" @keydown.prevent>\n                                <span class=\"claTitle\">预设</span>\n                                <div>\n                                    <el-button\n                                        circle\n                                        class=\"addBtnCla\"\n                                        icon=\"el-icon-refresh-right\"\n                                        @click.stop=\"[handlResetPreset(), cancelBlur($event)]\">\n                                    </el-button>\n                                    <el-button\n                                        circle\n                                        class=\"addBtnCla\"\n                                        style=\"margin-right:10px\"\n                                        icon=\"el-icon-circle-plus-outline\"\n                                        v-gtag-event=\"PointAddPresetIcon\"\n                                        @click.stop=\"[handleAddPreset(), cancelBlur($event)]\">\n                                    </el-button>\n                                </div>\n                            </div>\n                        </template>\n                        <div class=\"guideClass2\">\n                            <TSPresetTree\n                                ref=\"tSPresetTreeRefs\"\n                                :height=\"`${presetHeight}px`\"\n                                @onItemClick=\"onApplyPresetClick\"\n                            />\n                        </div>\n                    </el-collapse-item>\n                </el-collapse>\n\n                <template slot=\"bottom\">\n                    <div class=\"splitBottom guideClass3\">\n<!--                        <div class=\"collapse-title\" v-show=\"activeNavName === 'beauty'\">-->\n<!--                            人像美化-->\n<!--                        </div>-->\n\n                        <ul class=\"person-menu\" v-show=\"activeNavName === RefineNavName.Beauty\">\n                            <template v-for=\"person in personList\">\n                                <li\n                                    :key=\"person.type\"\n                                    class=\"person-menu-item\"\n                                    :class=\"{ active: currPersonType === person.type }\"\n                                    v-gtag-event=\"PointSwitchGender\"\n                                    @click=\"currPersonType = person.type\">\n                                    {{ person.label }}\n                                </li>\n                            </template>\n                            <el-button\n                                type=\"primary\"\n                                class=\"ageSexChange\"\n                                :class=\"{'active': isFaceLoadSuccess }\"\n                                :disabled=\"!isFaceLoadSuccess\"\n                                v-gtag-event=\"PointModifyGender\"\n                                @click=\"[setSexAdjustHasRedDotValue(),sexAdjustButtonHasNewDot=sexAdjustHasRedDotValue(),showImportAgeSexRevise = !showImportAgeSexRevise]\"\n                            >\n\t\t\t\t\t\t\t\t<div v-if=\"!sexAdjustButtonHasNewDot\" class=\"has_new\">\n\t\t\t\t\t\t\t\t</div>\n                            </el-button>\n                        </ul>\n\n                        <params-collapse\n                            v-show=\"activeNavName === RefineNavName.Beauty\"\n                            type=\"beauty\"\n                            :params-cols-height=\"paramsColsHeight\"\n                            @user-behavior=\"onUserBehavior\"\n                            @on-change=\"onChangeSliders\"\n                            @on-change-color=\"onChangeColorSliders\"\n                            @on-input=\"onInputSliders\"\n                            @on-input-color=\"onInputColorSliders\"\n\n                            @on-reset=\"[$emit('on-reset-params',$event),PointParameterAdjustmentReset()]\"\n                        >\n                            <template slot=\"painter\">\n                                <slot name=\"painter\"></slot>\n                            </template>\n                        </params-collapse>\n\n                        <el-collapse\n                            v-show=\"activeNavName === RefineNavName.Palette\"\n                            ref=\"removeTabindex\"\n                            v-model=\"activeNames\"\n                        >\n                            <el-collapse-item class=\"histogram-collapse\" title=\"直方图\" name=\"histogram\" ref=\"histogram\">\n                                <slot name=\"histogram\"></slot>\n                            </el-collapse-item>\n                        </el-collapse>\n\n                        <params-collapse\n                            v-show=\"activeNavName === RefineNavName.Palette\"\n                            type=\"color\"\n                            :params-cols-height=\"paramsColsHeight\"\n                            @user-behavior=\"onUserBehavior\"\n                            @point-filter=\"PointSelectFilter\"\n                            @on-change=\"onChangeSliders\"\n                            @on-change-color=\"onChangeColorSliders\"\n                            @on-input=\"onInputSliders\"\n                            @on-input-color=\"onInputColorSliders\"\n                            @on-reset=\"[$emit('on-reset-params',$event),PointParameterAdjustmentReset()]\"\n                        />\n\n                        <params-collapse\n                            v-show=\"activeNavName === RefineNavName.Background\"\n                            type=\"background\"\n                            :params-cols-height=\"paramsColsHeight\"\n                            @user-behavior=\"onUserBehavior\"\n                            @on-change=\"onChangeSliders\"\n                            @on-change-color=\"onChangeColorSliders\"\n                            @on-input=\"onInputSliders\"\n                            @on-input-color=\"onInputColorSliders\"\n                            @on-reset=\"[$emit('on-reset-params',$event),PointParameterAdjustmentReset()]\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-slot:import=\"data\">\n\t\t\t\t\t\t\t\t<slot name=\"import\" :data=\"data.data\"></slot>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</params-collapse>\n                    </div>\n                </template>\n            </split>\n\n            <div class=\"bottom-btn\" @keydown.prevent>\n                <el-button\n                    class=\"save-btn\"\n                    size=\"mini\"\n                    :disabled=\"isOriParams\"\n                    v-gtag-event=\"PointAddPresetButton\"\n                    @click=\"onSaveNewPresetClick\">\n                    保存新预设\n                </el-button>\n\n                <el-button-group class=\"save-btn\" size=\"mini\" style=\"display: flex\">\n                    <el-button\n                        size=\"mini\"\n                        title=\"同步效果\"\n                        style=\"width: 110px\"\n                        :loading=\"isApplyLoading\"\n                        :disabled=\"isSyncPresetDisabled\"\n                        v-gtag-event=\"PointAddApplyButton\"\n                        @click=\"onApplyPresetToOther\">\n                        同步到选中图片\n<!--                        <i class=\"el-icon-setting\" @click.stop=\"showSyncPresetSettings = true\"></i>-->\n                    </el-button>\n                    <el-button\n                        size=\"mini\"\n                        class=\"preset-settings\"\n                        id=\"guide__refine-preset-settings\"\n                        @click.stop=\"changeSyncSetting\">\n                        <i class=\"ts-icon-setting\"></i>\n                    </el-button>\n                </el-button-group>\n\n            </div>\n        </div>\n\n        <SavePresetDialog\n            v-if=\"!isDestroy\"\n            ref=\"savePresetDialogRefs\"\n            :refineUUID=\"refineUUID\"\n            :get-params-json=\"getParamsJson\"\n            :isRecommendPreset=\"isRecommendPreset\"\n            :deletePresetSuitId=\"deletePresetSuitId\"\n            :preset_label=\"preset_label\"\n            v-model=\"showSavePresetDialog\"\n            @newPresetClass=\"showNewPresetTypeDialog = true\"\n            @saveSuccess=\"onSaveSuccess\"\n        />\n\n        <ImportPresetDialog v-model=\"showImportPresetDialog\"></ImportPresetDialog>\n        <NewPresetTypeDialog @loadPreset=\"loadPreset\" v-model=\"showNewPresetTypeDialog\"></NewPresetTypeDialog>\n\n        <ImportAgeSexRevise\n            ref=\"import-age-sex-revise\"\n            :value.sync=\"showImportAgeSexRevise\"\n            :personTypeTab.sync=\"currPersonType\"\n            :isDestroy=\"isDestroy\"\n\t\t\t:refineUUID=\"refineUUID\"\n            @changeFaceData=\"$emit('onChangeFaceDataCallback')\"\n        />\n\n        <SyncPresetSettings\n            :refineUUID=\"refineUUID\"\n            v-model=\"showSyncPresetSettings\"\n            @on-apply=\"onApplyPresetToOther\">\n        </SyncPresetSettings>\n    </div>\n</template>\n\n<script>\nimport { computed, getCurrentInstance, nextTick, onMounted, ref, watch, defineEmits } from 'vue'\nimport store from '@/store'\n\nimport { debounce, throttle } from 'lodash'\n\nimport { BatchActiveMode } from '@/constants/batchRetouchDef'\nimport { PersonList } from './CustomCollapseItem/ParamsComponents'\n\nimport button from '@/mixins/button'\nimport presetManager from '@/mixins/presetManager.js'\nimport PointsMixin from '@/mixins/pointsMixin'\n\nimport ParamsCollapse from './Components/ParamsCollapse'\nimport TSPresetTree from '@/components/PresetTree/TSPresetTree'\n\nimport SavePresetDialog from '@/views/PhotoFinishing/Components/SavePreset/SavePresetDialog'\nimport ImportAgeSexRevise from '@/views/PhotoFinishing/Components/ImportAgeSexReviseDialog'\nimport { MAX_SUPPORT_PRESET_VERSION } from '@/constants/preset-def'\nimport Split from '@/components/SplitView/split'\nimport { delay } from '#/utils/common'\nimport Menu from '@/qt-ipc/utils/menu'\n\nimport useSplitRepositories from '@/views/PhotoFinishing/Composables/useSplitRepositories'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\nimport { RefineNavName } from '@/constants/refine'\nimport { NewFeatureRedDot, PresetSuitIdType } from '@/constants/constants'\nimport {APP_VERSION} from \"#/types/config\";\nimport SyncPresetSettings from './Components/SavePreset/SyncPresetSettings'\nimport refine from 'qt/business/refine'\nimport useToastRepositories from '@/composables/useToastRepositories'\n\nimport { ButtonGroup as ElButtonGroup } from 'element-ui'\n\n// const $emit = defineEmits([\n//     'onApplyPresetCallback',\n//     'onChangeFaceDataCallback',\n//     'on-change-color-slider',\n//     'on-change-beautify-change',\n//     'on-reset-params'\n// ])\n\nexport default {\n    components: {\n        Split,\n        ParamsCollapse,\n        SavePresetDialog,\n        TSPresetTree,\n        ImportAgeSexRevise,\n        SyncPresetSettings,\n        ElButtonGroup,\n    },\n    mixins: [\n        button,\n        presetManager,\n        PointsMixin\n    ],\n    props: {\n        activeNavName: {\n            type: String,\n            default: ''\n        },\n        isDestroy: {\n            type: Boolean,\n            default: false\n        },\n        refineUUID: {\n            type: String,\n            default: ''\n        },\n        getParamsJson: {\n            type: Function\n        }\n    },\n\n    setup(props, { emit: $emit }) {\n        // 初始化及缓存激活面板展开状态\n        const activeNames = ref(['preset', 'histogram'])\n        watch(activeNames, (active) => {\n            nextTick(() => {\n                const actives = []\n                if (active.includes('preset')) actives.push('photoFinishing_preset')\n                if (active.includes('histogram')) actives.push('photoFinishing_histogram')\n                store.commit('changeActionStatus_photoFinishing', actives)\n            })\n        })\n        const initActiveNames = () => {\n            const defaultActives = store.getters.actionStatus\n            const actives = []\n            if (defaultActives.includes('photoFinishing_histogram')) actives.push('histogram')\n            if (defaultActives.includes('photoFinishing_preset')) actives.push('preset')\n            activeNames.value = actives\n        }\n        onMounted(initActiveNames)\n        // ————————————————\n\n        const paramsComRef = ref()\n        const histogram = ref()\n        const tSPresetTreeRefs = ref()\n        // 参数面板拖拽组件及高度控制逻辑\n        const { splitValue, splitManualVal, presetHeight, histogramHeight, updateParamsComRefHeight } = useSplitRepositories({\n            getParamsComRef: () => paramsComRef.value,\n            getHistogramRef: () => histogram.value,\n            activeNames\n        })\n\n        // 参数面板高度\n        const paramsColsHeight = ref('calc(100% - 72px)')\n        const reloadColsHeight = (curr) => {\n            if ([RefineNavName.Palette].includes(curr)) {\n                paramsColsHeight.value = `calc(100% - ${histogramHeight.value}px)`\n            } else if ([RefineNavName.Beauty].includes(curr)) {\n                paramsColsHeight.value = 'calc(100% - 33px)'\n            } else if ([RefineNavName.Background].includes(curr)) {\n                paramsColsHeight.value = '100%'\n            }\n        }\n        watch(() => props.activeNavName, (val) => {\n            reloadColsHeight(val)\n            updateParamsComRefHeight()\n        }, { immediate: true })\n        watch(histogramHeight, () => [RefineNavName.Palette].includes(props.activeNavName) && reloadColsHeight(RefineNavName.Palette))\n        // ————————————————\n\n        const isFaceLoadSuccess = computed(() => store.getters.isFaceLoadSuccess)\n        const activeThumbnail = computed(() => store.getters['thumbnail/activeThumbnail'])\n        const thumbnailSelection = computed(() => store.getters['thumbnail/thumbnailSelection'])\n        const syncPresetSettingCache = computed(() => store.getters['refine/syncPresetSettingCache'])\n        const isSaveSyncSetting = computed(() => store.getters['refine/isSaveSyncSetting'])\n        const isSyncPresetDisabled = computed(() => {\n            if (thumbnailSelection.value.length === 0) return true\n            return thumbnailSelection.value.length === 1 && thumbnailSelection.value[0].id === activeThumbnail.value.id\n        })\n\n        const showSyncPresetSettings = ref(false)\n        const isApplyLoading = ref(false)\n\n        const { tsNotify, tsConfirm } = useToastRepositories()\n        const onApplyPresetToOther = async () => {\n            if (!isSaveSyncSetting.value) {\n                showSyncPresetSettings.value = true\n                return\n            }\n\n            if (isSyncPresetDisabled.value || activeThumbnail.value.id <= 0) {\n                tsNotify('请先在左侧加选要应用的图片哦~')\n                return\n            }\n\n            isApplyLoading.value = true\n            const data = await refine.applyPresetToOther(props.refineUUID, syncPresetSettingCache.value)\n            await delay(300)\n            isApplyLoading.value = false\n            tsNotify({ message: data.length ? `${data.length}张照片效果已同步` : '效果已同步' })\n        }\n\n        const changeSyncSetting = () => {\n            store.commit('refine/_SetIsSaveSyncSetting')\n            showSyncPresetSettings.value = true\n        }\n\n        const currPersonType = computed({\n            get: () => store.getters['refine/personType'],\n            set: (val) => store.commit('refine/_SetPersonType', val)\n        })\n\n        // 埋点\n        const { batchSendGtag, PointRightParams, PointRightPreset, PointAddPresetSort, PointAddPresetIcon } = useParamsPointsRepositories()\n\n\n        const activePresetSuitId = computed(() => store.getters['thumbnail/activePresetSuitId'])\n        watch(activePresetSuitId, (id) => reloadPresetSuitSelect(id))\n\n        const reloadPresetSuitSelect = debounce(() => {\n            nextTick(() => {\n                const domRef = tSPresetTreeRefs.value\n                if (!domRef) {\n                    return\n                }\n                const activeId = activePresetSuitId.value\n                domRef.handleSetCheckedNodes(activeId === 0 ? null : activeId)\n            })\n        }, 500)\n\n        const onApplyPresetClick = debounce((data) => {\n            const presetSuitModel = data[0]\n            if (!presetSuitModel) {\n                tsNotify('预设不存在')\n                return\n            }\n\n            const { presetSuitId } = activeThumbnail.value\n            if (presetSuitModel.id === presetSuitId) {\n                return\n            }\n\n            // reloadPresetSuitSelect(0)\n\n            PointRightPreset(presetSuitModel)\n\n            if (presetSuitModel.version && presetSuitModel.version > MAX_SUPPORT_PRESET_VERSION) {\n                tsConfirm({\n                    title: '系统提示',\n                    message: '需要升级最新版本才能使用该预设哦~',\n                    showCancelButton: false\n                }).then(_ => {\n                }).catch(_ => {\n                })\n                return\n            }\n\n            $emit('onApplyPresetCallback', presetSuitModel)\n            store.commit('project/_SetLastProjectUpdateTime', new Date())\n        }, 300)\n\n        const onSaveSuccess = (model) => {\n            if (model) {\n                nextTick(() => {\n                    const domRef = tSPresetTreeRefs.value\n                    if (!domRef) {\n                        return\n                    }\n                    domRef.addExpandNodeByPresetId(model.id)\n                    delay(100).then(() => {\n                        nextTick(() => {\n                            domRef.addExpandNodeByPresetId(null)\n                        })\n                    })\n                })\n            }\n        }\n\n        const isOriParams = computed(() => store.getters['refine/isOriParams'])\n        const lastBeautifyParams = computed(() => store.getters['refine/lastBeautifyParams'])\n\n        // 获取直方图和预设的展开状态\n        const savePresetDialogRefs = ref()\n        const loadPreset = (data) => {\n            nextTick(() => {\n                if (savePresetDialogRefs.value) {\n                    savePresetDialogRefs.value.whichPresetClass = data\n                }\n            })\n        }\n\n\n        const handlResetPreset = () => {\n            const oriPreset = new Array(store.state.presetting.oriPreset)\n            onApplyPresetClick(oriPreset)\n            if (tSPresetTreeRefs.value) {\n                tSPresetTreeRefs.value.handleSetCheckedNodes(-1)\n            }\n        }\n\n        const onUserBehavior = (event) => {\n            if (event === 'double-click-label') {\n                PointRightParams('double_click_title')\n            } else if (event === 'double-click-slider') {\n                PointRightParams('double_click_dot')\n            } else if (event === 'input-modify') {\n                PointRightParams('click_effect_value')\n            }\n        }\n\n        /**\n         * 获取预设为推荐预设还是普通预设\n         */\n        const preset_label = ref({})\n        const getIsRecommendPreset = (presetSuitId) =>{\n            //'-1': 无效果, '0': 未进行修改\n            if (presetSuitId === '-1' || presetSuitId === '0') {\n                preset_label.value = null\n                return true\n            }\n\n            let isRecommendPreset = false\n            let isPresetSuitDelete = true\n            let classId, name\n\n            //如果是普通预设，获取名字\n            let presetTree = store.getters['presetTree']\n            presetTree.forEach(item => {\n                item.children.forEach(i => {\n                    if (presetSuitId == i.id) {\n                        isRecommendPreset = item.type === 1\n                        isPresetSuitDelete = false\n                        name = i.label\n                        classId = i.class_id\n                    }\n                })\n            })\n            if (isPresetSuitDelete || isRecommendPreset) { //预设已经删除掉了,或者为推荐预设\n                preset_label.value = null\n                return true\n            }\n            if (!isRecommendPreset) { //为普通预设\n                preset_label.value = { name, classId }\n                return false\n            }\n        }\n\n        /**\n         * 点击保存预设，判断是否为推荐预设\n         */\n        let isRecommendPreset = ref(false) //是否为推荐预设\n        let deletePresetSuitId = ref('0')\n        let showSavePresetDialog = ref(false)\n        const onSaveNewPresetClick = () => {\n            let { presetSuitId, lastPresetSuitId } = activeThumbnail.value\n            if (activePresetSuitId.value === PresetSuitIdType.UnSet) {\n                deletePresetSuitId.value = lastPresetSuitId\n                isRecommendPreset.value = getIsRecommendPreset(lastPresetSuitId)\n            } else {\n                deletePresetSuitId.value = activePresetSuitId.value\n                isRecommendPreset.value = getIsRecommendPreset(activePresetSuitId.value)\n            }\n\n            //显示预设保存弹窗\n            showSavePresetDialog.value = true\n        }\n\n        const that = getCurrentInstance().proxy\n        const handleAddPreset = () => {\n            new Menu().push({\n                label: '导入预设',\n                action: 'batchretouch-my-preset-import',\n                disabled: false,\n                data: null,\n                callback: () => {\n                    that.showImportPresetDialog = true\n                }\n            }).push({\n                label: '新建分类',\n                action: 'batchretouch-my-preset-newType',\n                disabled: false,\n                data: null,\n                callback: () => {\n                    that.showNewPresetTypeDialog = true\n                    PointAddPresetSort()\n                }\n            }).show()\n        }\n\n        const sexAdjustHasRedDotValue = () => localStorage.getItem(NewFeatureRedDot.ManualFace)\n        // 性别按钮是否带小红点\n        const sexAdjustButtonHasNewDot = ref(sexAdjustHasRedDotValue())\n        const showImportAgeSexRevise = ref(false)\n        const setSexAdjustHasRedDotValue = () => {\n            let item = localStorage.getItem(NewFeatureRedDot.ManualFace)\n            if (!item){\n                item = APP_VERSION\n            }\n            localStorage.setItem(NewFeatureRedDot.ManualFace,item)\n        }\n\n\n        /**\n         * 人像美化更新\n         * @param data\n         * @param opt\n         * @returns {Promise<void>}\n         */\n        const onChangeSliders = (data, opt, ext) => {\n            // 过滤初始化数据回调\n            if (opt === 'init') return\n            if (Object.keys(data).length === 0) return\n\n            console.log('data value is: ',data)\n            const params = []\n            for (const key in data) {\n                const value = data[key]\n                params.push({ key, value })\n                store.commit('refine/_UpdateBeautifyParams', { key, value })\n            }\n\n            if (opt === 'manual') {\n                batchSendGtag(params, 'beautify', { beautifyParams: lastBeautifyParams.value })\n            }\n\n            $emit('on-change-beautify-change', params, false, ext)\n            store.commit('project/_SetLastProjectUpdateTime', new Date())\n        }\n\n        const onInputSliders = throttle(function (data) {\n            if (Object.keys(data).length === 0) {\n                return\n            }\n\n            const params = []\n            for (const key in data) {\n                const value = data[key]\n                params.push({ key, value })\n            }\n            $emit('on-change-beautify-change', params, true, 'manual')\n        }, 30)\n\n        /**\n         * 调色更新\n         * @param data\n         * @param opt\n         * @returns {Promise<void>}\n         */\n        const onChangeColorSliders = (data, opt, ext) => {\n            if (opt === 'init') return\n            if (Object.keys(data).length === 0) return\n\n            const params = []\n            for (const key in data) {\n                const value = data[key]\n                params.push({ key, value })\n                store.commit('refine/_UpdatePaletteParams', { key, value })\n            }\n\n            // 手动操作 上报埋点\n            if (opt === 'manual') {\n                batchSendGtag(params, 'color', { beautifyParams: lastBeautifyParams.value })\n            }\n\n            $emit('on-change-color-slider', params, false, ext)\n            store.commit('project/_SetLastProjectUpdateTime', new Date())\n        }\n\n        const onInputColorSliders = throttle(function (data) {\n            if (Object.keys(data).length === 0) {\n                return\n            }\n\n            const params = []\n            for (const key in data) {\n                const value = data[key]\n                params.push({ key, value })\n            }\n\n            $emit('on-change-color-slider', params, true)\n        }, 30)\n\n        onMounted(async () => {\n            nextTick(() => that.removeCollapseTabindex(that.$refs.removeTabindex))\n            try {\n                await store.dispatch('loadAllPresents', {\n                    userId: store.state.user.userId,\n                    presetType: BatchActiveMode.RETOUCH\n                })\n                reloadPresetSuitSelect()\n            } catch(e) {\n                tsNotify(e.message)\n            }\n        })\n\n        return {\n            RefineNavName,\n\n            paramsComRef,\n            histogram,\n            tSPresetTreeRefs,\n            savePresetDialogRefs,\n\n            splitValue,\n            splitManualVal,\n\n            splitMinVal: 135,\n            splitMaxVal: 72,\n\n            activeNames,\n\n            presetHeight,\n            paramsColsHeight,\n\n            batchSendGtag,\n            PointAddPresetIcon,\n            onUserBehavior,\n\n            isOriParams,\n            isApplyLoading,\n            activeThumbnail,\n            thumbnailSelection,\n            isSyncPresetDisabled,\n            showSyncPresetSettings,\n\n            onApplyPresetToOther,\n            changeSyncSetting,\n            onApplyPresetClick,\n            reloadPresetSuitSelect,\n            onSaveSuccess,\n            onSaveNewPresetClick,\n            handleAddPreset,\n            loadPreset,\n            handlResetPreset,\n\n            //ui视图分割参数\n            showSavePresetDialog,\n            isRecommendPreset, //是否为推荐预设\n            deletePresetSuitId,\n            preset_label, //如果不是推荐预设，保存name, type\n            isFaceLoadSuccess,\n\n            currPersonType,\n            personList: ref(PersonList),\n            showImportAgeSexRevise,\n            sexAdjustButtonHasNewDot,\n            sexAdjustHasRedDotValue,\n            setSexAdjustHasRedDotValue,\n\n            onInputSliders,\n            onChangeSliders,\n            onChangeColorSliders,\n            onInputColorSliders\n        }\n    }\n}\n\n</script>\n\n<style scoped lang=\"scss\">\n$myBackgroundColor: #28282A;\n.params-bar {\n    flex-shrink: 0;\n    position: relative;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    border-left-width: 1px;\n    border-style: solid;\n\n    .params-components {\n        flex: 1 0 auto;\n        position: relative;\n        margin-bottom: 51px;\n        width: 300px;\n        display: flex;\n        flex-direction: column;\n\n        .splitTriggle {\n            height: 10px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            margin-top: -5px;\n\n            .triggleContent {\n                width: 100%;\n                height: 1px;\n                background-color: #333;\n            }\n\n            &:hover {\n                cursor: row-resize;\n\n                .triggleContent {\n                    height: 2px;\n                    background-color: #ffffff20;\n                }\n            }\n        }\n\n        .collapse {\n\n            &.preset-collapse {\n                height: 100%;\n            }\n\n            /deep/ {\n                .el-collapse-item__header {\n                    padding-left: 16px;\n                    padding-right: 0px;\n                    border-bottom: solid 1px #333;\n                }\n\n                .el-collapse-item:last-child {\n                    .el-collapse-item__wrap {\n                        border-bottom: none;\n                    }\n                }\n\n                .el-collapse-item__content {\n                    padding-bottom: 0;\n                }\n\n                .el-collapse-item__arrow {\n                    margin-right: 17px;\n                }\n            }\n\n            .claWtBlanceTitle {\n                width: 100%;\n                display: flex;\n                justify-content: space-between;\n                font-size: 12px;\n\n                .claTitle {\n                    font-weight: 500;\n                }\n\n                .addBtnCla {\n                    align-self: center;\n                    background: transparent;\n                    border-color: transparent;\n                    font-size: 16px;\n                    width: 30px;\n\t\t\t\t\t.is-loading{\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t}\n                }\n            }\n        }\n\n        .histogram-collapse {\n            /deep/ {\n                .el-collapse-item__header {\n                    padding-left: 16px;\n                    padding-right: 0;\n                    border-bottom: solid 1px #333;\n                    font-size: 12px;\n                }\n\n                .el-collapse-item__content {\n                    padding-bottom: 0;\n                }\n\n                .el-collapse-item__arrow {\n                    margin-right: 17px;\n                }\n            }\n        }\n\n        .collapse {\n            .claCarouselNoneIndicator {\n                /deep/ .el-carousel__indicators {\n                    visibility: hidden;\n                }\n            }\n\n            .claCarouselIndicator {\n                /deep/ .el-carousel__indicators {\n                    visibility: visible;\n                }\n            }\n\n            /deep/ .el-carousel__indicators--outside {\n                background: #282828;\n            }\n\n            // .presetHeaderCla {\n            //     display: flex;\n            //     flex-direction: row;\n            //     justify-content: space-between;\n\n            //     .addBtnCla {\n            //         align-self: center;\n            //         background: transparent;\n            //         border-color: transparent;\n            //         font-size: 16px;\n            //     }\n            // }\n        }\n\n        /deep/ .el-collapse {\n            border-top: none;\n        }\n\n        .collapse-title {\n            height: 38px;\n            line-height: 38px;\n            padding-left: 16px;\n            font-size: 13px;\n            font-weight: 500;\n            border-bottom: 1px solid #333;\n        }\n\n        .group-title {\n            flex-shrink: 0;\n            height: 24px;\n            font-size: 14px;\n            line-height: 24px;\n            font-weight: 500;\n            padding: 4px 16px;\n            border-bottom-width: 1px;\n            border-top: solid 1px #333;\n            background: $myBackgroundColor;\n\n            .group-btn {\n                position: relative;\n\n                .ts-icon-new-right {\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    width: 23px;\n                    height: 10px;\n                }\n\n                /deep/ {\n\n                    .el-radio-button {\n                        &.is-active {\n                            .el-radio-button__inner {\n                                border-top-color: #4D4D4D !important;\n                                border-bottom-color: #4D4D4D !important;\n                            }\n\n                            &:last-child {\n                                .el-radio-button__inner {\n                                    border-right-color: #4D4D4D !important;\n                                }\n                            }\n\n                            &:first-child {\n                                .el-radio-button__inner {\n                                    border-left-color: #4D4D4D !important;\n                                }\n                            }\n                        }\n                    }\n\n                    .betaBtn {\n                        .el-radio-button__inner {\n                            width: 134px;\n                            padding: 5px;\n                            text-align: left;\n                            padding-left: 36px;\n                        }\n                    }\n\n                    .el-radio-button__inner {\n                        width: 134px;\n                        padding: 5px;\n                    }\n                }\n\n                .betaStyle {\n                    display: inline-block;\n                    width: 38px;\n                    height: 14px;\n                    border-radius: 2px;\n                    background: rgba(255, 255, 255, 0.70);\n                    border: 0.5px solid #9A9494;\n                    font-size: 9px;\n                    color: #333333;\n                    text-align: center;\n                    line-height: 12px;\n                    position: absolute;\n                    right: 32px;\n                    box-sizing: border-box;\n                    top: 5px;\n                }\n            }\n        }\n\n        .parameter-configuration-collapse {\n            flex: 1;\n            flex-shrink: 0;\n            overflow-y: overlay;\n            overflow-x: hidden;\n\n            /deep/ {\n                .el-icon-arrow-right {\n                    margin-right: 17px;\n                }\n\n                .params-adjust-group {\n                    padding: 0 16px;\n                }\n            }\n        }\n\n        .person-menu {\n            display: flex;\n            justify-content: space-around;\n            height: 38px;\n            align-items: center;\n            border-bottom: 1px solid #333333;\n            font-size: 12px;\n            padding: 0 30px;\n            background: $myBackgroundColor;\n\n            /deep/ .el-button, {\n                border: none;\n                width: 18px;\n                height: 18px;\n                background-color: $myBackgroundColor;\n                background-size: 18px, 18px;\n                background-repeat: no-repeat;\n                padding: 0;\n            }\n\n            .ageSexChange {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground-image: url(\"../../assets/icons/all_icon_change-age_disabled@3x.png\");\n                &.active {\n                    background-image: url(\"../../assets/icons/all_icon_change-age@3x.png\");\n                }\n\t\t\t\t.has_new{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbackground: #D95838;\n\t\t\t\t\twidth: 5px;\n\t\t\t\t\theight: 5px;\n\t\t\t\t\tborder-radius: 2.5px;\n\t\t\t\t\ttop:-2px;\n\t\t\t\t\tright: -2px;\n\t\t\t\t}\n            }\n\n            &-item {\n                text-align: center;\n                height: 37px;\n                line-height: 37px;\n                padding: 0 8.5px;\n                transition: border-color .3s;\n                position: relative;\n                color: rgba(255, 255, 255, 0.45);\n\n                &.active {\n                    color: #FFFFFF;\n\n                    &::after {\n                        border-bottom: 2px solid #EECC28;\n                        position: absolute;\n                        bottom: 0;\n                        left: 0;\n                        right: 0;\n                        width: 100%;\n                        display: block;\n                        content: ' ';\n                    }\n                }\n            }\n        }\n    }\n\n    .filters-container {\n        margin: 7.5px 12px;\n\n        .filter-item {\n            position: relative;\n            aspect-ratio: 1 / 1;\n            margin: 4px;\n            width: 80px;\n            height: 80px;\n            border-radius: 4px;\n            background: #F0F0F0;\n            border: 2px solid transparent;\n            overflow: hidden;\n\n            &:hover {\n                border: 2px solid #0080FF;\n            }\n\n            &-active {\n                border: 2px solid #0080FF;\n            }\n\n            .claImg {\n                object-fit: cover;\n                width: 100%;\n                height: 100%;\n            }\n\n            .claName {\n                position: absolute;\n                bottom: 0px;\n                height: 20px;\n                font-size: 11px;\n                color: rgba(255, 255, 255, 0.85);\n                text-align: center;\n                line-height: 20px;\n                font-weight: 400;\n                width: 100%;\n                background: rgba(0, 0, 0, 0.4);\n            }\n\n            .middle-name {\n                font-size: 12px;\n                color: #666666;\n                text-align: center;\n                font-weight: 400;\n                position: absolute;\n                bottom: 0;\n                top: 0;\n                left: 0;\n                right: 0;\n                margin: auto;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n        }\n    }\n\n    .add-btn-box {\n        height: 48px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-bottom-width: 1px;\n\n        .save-btn {\n            width: 268px;\n        }\n    }\n\n    .bottom-btn {\n        position: absolute;\n        bottom: -52px;\n        height: 52px;\n        left: 0;\n        right: 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        z-index: 999;\n        padding: 0 12px;\n        background-color: $myBackgroundColor;\n\n        .save-btn {\n            flex: 1;\n            height: 28px;\n            margin: 0 4px;\n            border-radius: 4px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n            ::v-deep(.el-button.is-disabled) {\n                border-color: #444;\n            }\n\n            .img {\n                height: 15px;\n            }\n\n            .span {\n                color: #d9d9d9;\n            }\n\n            .preset-settings {\n                padding: 4px 4px;\n                width: 24px;\n                height: 28px;\n                box-sizing: border-box;\n\n                background: rgba(71, 71, 71, 1);\n            }\n        }\n    }\n}\n\n.splitBottom {\n    height: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightParamsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightParamsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RightParamsView.vue?vue&type=template&id=bccde09e&scoped=true&\"\nimport script from \"./RightParamsView.vue?vue&type=script&lang=js&\"\nexport * from \"./RightParamsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RightParamsView.vue?vue&type=style&index=0&id=bccde09e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bccde09e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"append-to-body\":\"\",\"top\":\"20vh\",\"width\":\"380px\",\"height\":\"337px\",\"align\":\"center\",\"title\":\"问题上报\",\"custom-class\":\"setting-dialog gpu-switch-dialog feedback-dialog\",\"visible\":_vm.showFeedbackDialog,\"close-on-click-modal\":false,\"destroy-on-close\":true,\"before-close\":_vm.updateShowFeedbackDialog}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"问题反馈\")]),_c('div',{staticClass:\"claFeedback\"},[_c('div',{staticClass:\"claFeedback_type\"},[_c('el-select',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointFeedbackChoose),expression:\"PointFeedbackChoose\"}],attrs:{\"popper-class\":\"feedback_select\",\"placeholder\":\"*选择问题的分类\"},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}},_vm._l((_vm.feedback_type),function(item){return _c('el-option',{key:item.id,staticClass:\"feedback_option\",attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('span',{staticClass:\"right_icon\"},[_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_up.png'),\"alt\":\"\"}}),_c('img',{attrs:{\"src\":_vm.$getIconPath('icon_arrow_down.png'),\"alt\":\"\"}})])],1),_c('div',{staticClass:\"claFeedback_content\"},[_c('el-input',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointFeedbackInputContent),expression:\"PointFeedbackInputContent\"}],attrs:{\"placeholder\":_vm.inputDefault,\"maxlength\":\"500\",\"show-word-limit\":\"\",\"type\":\"textarea\",\"rows\":\"7\"},on:{\"focus\":_vm.inputFocus},model:{value:(_vm.feedback_content),callback:function ($$v) {_vm.feedback_content=$$v},expression:\"feedback_content\"}})],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.onCancelBtn}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmitBtn}},[_vm._v(\" 提交 \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-dialog\n        append-to-body\n        top=\"20vh\"\n        width=\"380px\"\n        height=\"337px\"\n        align=\"center\"\n        title=\"问题上报\"\n        custom-class=\"setting-dialog gpu-switch-dialog feedback-dialog\"\n        :visible=\"showFeedbackDialog\"\n        :close-on-click-modal=\"false\"\n        :destroy-on-close=\"true\"\n        :before-close=\"updateShowFeedbackDialog\"\n    >\n        <div slot=\"title\">问题反馈</div>\n        <div class=\"claFeedback\">\n            <div class=\"claFeedback_type\">\n                <el-select\n                    popper-class=\"feedback_select\"\n                    v-model=\"id\"\n                    placeholder=\"*选择问题的分类\"\n                    v-gtag-event=\"PointFeedbackChoose\">\n                    <el-option\n                        class=\"feedback_option\"\n                        v-for=\"item in feedback_type\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                    </el-option>\n                </el-select>\n                <span class=\"right_icon\">\n            <img :src=\"$getIconPath('icon_arrow_up.png')\" alt=\"\">\n            <img :src=\"$getIconPath('icon_arrow_down.png')\" alt=\"\">\n        </span>\n            </div>\n\n            <div class=\"claFeedback_content\">\n                <el-input\n                    v-gtag-event=\"PointFeedbackInputContent\"\n                    v-model=\"feedback_content\"\n                    :placeholder=\"inputDefault\"\n                    maxlength=\"500\"\n                    show-word-limit\n                    type=\"textarea\"\n                    @focus=\"inputFocus\"\n                    rows=\"7\"\n                />\n            </div>\n        </div>\n\n        <div slot=\"footer\">\n            <el-button\n                size=\"mini\"\n                @click=\"onCancelBtn\">\n                取消\n            </el-button>\n            <el-button\n                size=\"mini\"\n                type=\"primary\"\n                @click=\"onSubmitBtn\">\n                提交\n            </el-button>\n        </div>\n    </el-dialog>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport { feedbackType } from '@/api/commonApi'\n\nimport toast from '@/mixins/toast'\nimport pointsMixin from '@/mixins/pointsMixin'\n\nimport { Select, Option, Input, Button } from 'element-ui'\nimport TsDialog from '@/components/TsDialog/ts-dialog'\n\nexport default {\n    name: 'feedbackDialog',\n    mixins: [toast, pointsMixin],\n    components: {\n        'el-select': Select,\n        'el-option': Option,\n        'el-input': Input,\n        'el-button': Button,\n        'el-dialog': TsDialog\n    },\n    props: {\n        showFeedbackDialog: Boolean,\n        feedbackDialog_viewModel: Object\n    },\n    watch: {\n        //弹窗开启或关闭\n        showFeedbackDialog: {\n            handler(val) {\n                if (val) {//获取问题上报枚举类型\n                    this.getFeedbackType()\n                } else {\n                    if (!this.isSubmitClick && !this.isCancelClick) {\n                        this.pointFeedbackCancel()\n                    }\n                    this.isCancelClick = false\n                    this.isSubmitClick = false\n                }\n            }\n        }\n\n    },\n\n    data() {\n        return {\n            feedback_type: null,\n            id: '', //枚举id\n            feedback_content: null,\n            inputDefault: '*请描述该图片遇到的问题（例如：侧脸无法识别）并点击【提交】。\\n' +\n                '以便我们尽快迭代解决您的问题。',\n            isCancelClick: false,\n            isSubmitClick: false\n        }\n    },\n    methods: {\n        ...mapMutations([\n            'setCancelSpace'\n        ]),\n        async getFeedbackType() {\n            if (this.feedback_type) {\n                return\n            }\n            this.feedback_type = await feedbackType()\n        },\n        //输入框获取焦点，关闭全局快捷键\n        inputFocus() {\n            this.$emit('callChangeShortcutHelper', false)\n            this.setCancelSpace(true)\n        },\n\n        //点击取消\n        onCancelBtn() {\n            this.isCancelClick = true\n            this.updateShowFeedbackDialog()\n            this.pointFeedbackCancel()\n        },\n        //点击提交\n        async onSubmitBtn() {\n            if (!this.id) {\n                this.tsNotify('请选择一个问题分类')\n                return\n            }\n            if (!this.feedback_content) {\n                this.tsNotify('请描述该图片遇到的问题')\n                return\n            }\n            this.isSubmitClick = true\n            let feedbackData = {}\n            feedbackData = {\n                type_id: this.id,\n                feedback_type: this.feedback_type[this.id - 1].name,\n                feedback_content: this.feedback_content\n            }\n            let viewModel = { ...this.feedbackDialog_viewModel }\n\n            this.pointFeedbackConfirm(viewModel, feedbackData.feedback_type)//问题提交埋点\n\n            this.updateShowFeedbackDialog()\n            this.tsNotify('问题已提交～')\n            this.FeedbackReport(feedbackData, viewModel)\n        },\n\n        FeedbackReport(feedbackData, viewModel) {\n            //获取缓存图片的名字\n            let projectId = viewModel.thumbnailModel.projectId\n            let args = {\n                projectId: projectId,\n                imgPath: viewModel.imgPath,\n                feedbackData: feedbackData\n            }\n\n            window.$export.asyncReportFeedBack(args)\n            // window.$export.asyncReportCrash()\n        },\n\n        updateShowFeedbackDialog() {\n            this.id = null\n            this.feedback_content = null\n            this.$emit('update:showFeedbackDialog', false)\n            this.$emit('update:feedbackDialog_viewModel', null)\n            //关闭弹窗，开启全局快捷键\n            this.$emit('callChangeShortcutHelper', true)\n            this.setCancelSpace(false)\n        },\n\n\n        //问题提交埋点\n        pointFeedbackConfirm(viewModel, feedback_type) {\n            //埋点\n            let imgFormat  //图片类型\n            // Jpeg = 1,\n            // Png = 2,\n            // Raw = 3\n            if (viewModel.imgFormat === 1) {\n                imgFormat = 'Jpeg'\n            }\n            if (viewModel.imgFormat === 2) {\n                imgFormat = 'Png'\n            }\n            if (viewModel.imgFormat === 3) {\n                imgFormat = 'Raw'\n            }\n            let data = feedback_type + '_' + imgFormat\n            this.PointFeedbackConfirm(data)\n        },\n\n        //问题取消埋点\n        pointFeedbackCancel() {\n            this.PointFeedbackCancel()\n        }\n\n\n    }\n}\n</script>\n<style>\n/*去除下拉框小角*/\n.feedback_select > .popper__arrow {\n    display: none !important;\n}\n\n/*设置输入框中的提示内容*/\n.feedback-dialog textarea::-webkit-input-placeholder {\n    color: #737373;\n    font-face: PingFang SC;\n    font-size: 14px;\n}\n\n/*输入框去除边框*/\n.feedback-dialog textarea {\n    border: none !important;\n}\n\n</style>\n\n<style lang=\"scss\" scoped>\n\n//下拉字体样式\n.feedback_option {\n    font-size: 12px;\n    font-weight: 400;\n}\n\n//下拉选择hover样式\n.el-select-dropdown__item.hover {\n    background: #1D1D1D;;\n}\n\n.claFeedback {\n    width: 320px;\n    height: 235px;\n    /**\n      选择器\n     */\n    .claFeedback_type {\n        width: 320px;\n        padding-top: 12px;\n        padding-bottom: 8px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        position: relative;\n\n        /deep/ .el-input {\n            width: 320px;\n            height: 28px;\n        }\n\n        /deep/ .el-input--small .el-input__inner {\n            background: rgba(255, 255, 255, 0.10);\n            height: 28px;\n            font-family: PingFangSC-Regular;\n            font-size: 14px;\n            color: #D9D9D9;\n            letter-spacing: 0;\n            line-height: 14px;\n            font-weight: 400;\n        }\n\n        .right_icon {\n            display: inline-block;\n            position: absolute;\n            width: 22px;\n            height: 22px;\n            border-radius: 4px;\n            background: #3073FF;\n            top: 15px;\n            right: 5px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            pointer-events: none;\n\n            img:nth-of-type(1) {\n                width: 10px;\n                margin-bottom: -2px;\n            }\n\n            img:nth-of-type(2) {\n                width: 8px;\n            }\n        }\n    }\n\n    /**\n      文本框\n     */\n    .claFeedback_content {\n        width: 320px;\n        height: 175px;\n        padding-bottom: 12px;\n        //输入框\n        /deep/ .el-textarea__inner {\n            height: 175px;\n            padding: 8px 16px 8px 16px;\n            font-family: PingFangSC-Regular;\n            font-size: 14px;\n            color: #D9D9D9;\n            line-height: 24px;\n            font-weight: 400;\n            background: #1D1D1D;\n\n            /deep/ .claFeedback .claFeedback_content[data-v-206a2118] .el-textarea__inner {\n            }\n        }\n\n        //右下角计数\n        /deep/ .el-input__count {\n            background-color: #1d1d1d;\n            right: 2px;\n            bottom: 1px;\n        }\n\n    }\n\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feedbackDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feedbackDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./feedbackDialog.vue?vue&type=template&id=d7c9afbc&scoped=true&\"\nimport script from \"./feedbackDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./feedbackDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./feedbackDialog.vue?vue&type=style&index=0&id=d7c9afbc&prod&lang=css&\"\nimport style1 from \"./feedbackDialog.vue?vue&type=style&index=1&id=d7c9afbc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7c9afbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"ts-spin-loading\",class:{\n        'hidden-background': _vm.hiddenBackground,\n        'fixed': _vm.fixed,\n        [_vm.position]: _vm.fixed,\n        fullscreen: _vm.fullscreen,\n        column: _vm.column\n    }},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"ts-loading-spinner\"},[_c('span',{staticClass:\"ts-loading-spinner-text\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"el-icon-circle-check\"}),_vm._v(\" \"+_vm._s(_vm.text)+\" \")])]),_c('div',{staticClass:\"ts-loading-mask\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        v-show=\"show\"\n        class=\"ts-spin-loading\"\n        :class=\"{\n            'hidden-background': hiddenBackground,\n            'fixed': fixed,\n            [position]: fixed,\n            fullscreen,\n            column\n        }\">\n        <div\n            v-loading=\"loading\"\n            class=\"ts-loading-spinner\">\n            <span class=\"ts-loading-spinner-text\">\n                <i class=\"el-icon-circle-check\" v-show=\"!loading\"></i>\n                {{ text }}\n            </span>\n        </div>\n\n        <div class=\"ts-loading-mask\"></div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n    name: 'TsSpinLoading',\n    props: {\n        text: {\n            type: String,\n            default: '处理中...'\n        },\n\n        show: {\n            type: Boolean,\n            default: false\n        },\n\n        hiddenBackground: {\n            type: Boolean,\n            default: false\n        },\n\n        fullscreen: {\n            type: Boolean,\n            default: false\n        },\n\n        placement: {\n            type: String,\n            default: 'left-bottom'\n        },\n\n        column: {\n            type: Boolean,\n            default: false\n        },\n\n        loading: {\n            type: Boolean,\n            default: true\n        },\n\n        fixed: {\n            type: Boolean,\n            default: false\n        }\n    },\n\n    computed: {\n        position() {\n            if (!this.fixed) {\n                return ''\n            }\n\n            const options = [\n                'top', 'bottom', 'left', 'right',\n                'left-top', 'left-bottom', 'right-top', 'right-bottom',\n                'center'\n            ]\n\n            if (options.includes(this.placement)) {\n                return this.placement\n            }\n\n            return 'bottom-left'\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-spin-loading {\n    position: relative;\n    overflow: hidden;\n    z-index: 10000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &.fixed {\n        position: absolute;\n    }\n\n    &.column {\n        padding: 5px 4px;\n\n        .ts-loading-spinner {\n            flex-direction: column-reverse;\n\n            /deep/ {\n                .el-loading-mask {\n                    margin: 2px 0;\n                }\n            }\n        }\n    }\n\n    &.hidden-background {\n        padding: 0;\n    }\n\n    &:not(.hidden-background) {\n        border-radius: 4px;\n        padding: 5px 4px 5px 6px;\n\n        .ts-loading-mask {\n            position: absolute;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            background: rgba(30, 30, 30, .3);\n\n        }\n    }\n\n    &.fullscreen {\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n    }\n\n    &:not(.fullscreen) {\n        &.left {\n            left: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n        &.top {\n            left: 50%;\n            transform: translateX(-50%);\n            top: 10.5px\n        }\n\n        &.right {\n            right: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n        &.bottom {\n            left: 50%;\n            transform: translateX(-50%);\n            bottom: 10.5px;\n        }\n\n        &.left-top {\n            left: 16px;\n            top: 10.5px\n        }\n\n        &.right-top {\n            right: 16px;\n            top: 10.5px\n        }\n\n        &.left-bottom {\n            left: 16px;\n            bottom: 10.5px;\n        }\n\n        &.right-bottom {\n            right: 16px;\n            bottom: 10.5px;\n        }\n\n        &.center {\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n    }\n\n    .ts-loading-spinner {\n        position: relative;\n        overflow: visible;\n        display: flex;\n        flex-direction: row-reverse;\n        align-items: center;\n\n        &-text {\n            position: relative;\n            z-index: 9999;\n            color: #FFFFFF80;\n            text-shadow: 0 0 4px rgba(0, 0, 0, 0.40);\n            font-size: 12px;\n            font-weight: 400;\n            white-space: nowrap;\n            margin: 0 2px;\n        }\n\n        /deep/ {\n            .el-loading-mask {\n                position: relative;\n                background-color: transparent;\n                margin: 0 2px;\n            }\n\n            .el-loading-spinner {\n                position: relative;\n                top: unset;\n                left: 0;\n                bottom: 0;\n                width: 8px;\n                height: 8px;\n                border-radius: 50%;\n                border: 2px solid #ffffff40;\n                margin-top: 0;\n\n                .circular {\n                    width: 12px;\n                    height: 12px;\n                    position: absolute;\n                    left: -2px;\n                    top: -2px;\n\n                    .path {\n                        stroke: #FFFFFF;\n                        stroke-width: 4;\n                    }\n                }\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpinLoading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpinLoading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpinLoading.vue?vue&type=template&id=0a62b5be&scoped=true&\"\nimport script from \"./SpinLoading.vue?vue&type=script&lang=js&\"\nexport * from \"./SpinLoading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SpinLoading.vue?vue&type=style&index=0&id=0a62b5be&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a62b5be\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"zoom-button-group\"},[_c('div',{staticClass:\"zoom-panel-box\"},[_c('i',{staticClass:\"el-icon-minus icon\",on:{\"click\":function($event){return _vm.imageResize('out')}}}),_c('ts-slider',{ref:\"slider\",staticClass:\"slider\",attrs:{\"min\":5,\"max\":200,\"show-tooltip\":false,\"value\":_vm.zoom},on:{\"mousedown\":function($event){_vm.isMousedown = true},\"mouseup\":function($event){_vm.isMousedown = false},\"input\":_vm.onZoomSlider,\"change\":_vm.handleSliderChange}}),_c('i',{staticClass:\"el-icon-plus icon\",on:{\"click\":function($event){return _vm.imageResize('in')}}}),_vm._v(\" \"+_vm._s(_vm.transformUseValue(_vm.zoom))+\" % \")],1),_c('el-radio-group',{attrs:{\"disabled\":_vm.disabledQuickButton,\"fill\":\"#1E1E1E\",\"text-color\":\"#EECC28\"},model:{value:(_vm.fitPosition),callback:function ($$v) {_vm.fitPosition=$$v},expression:\"fitPosition\"}},[_c('el-radio-button',{directives:[{name:\"blur\",rawName:\"v-blur\"},{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickFit),expression:\"PointClickFit\"}],attrs:{\"label\":\"fit\"},nativeOn:{\"click\":function($event){_vm.disabledQuickButton ? () => {} : _vm.imageResize('fit')}}},[_vm._v(_vm._s(_vm.$t('pagePhotoFinishing.fitBtn'))+\" \")]),_c('el-radio-button',{directives:[{name:\"blur\",rawName:\"v-blur\"},{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickOriginal),expression:\"PointClickOriginal\"}],attrs:{\"label\":\"one2one\"},nativeOn:{\"click\":function($event){_vm.disabledQuickButton ? () => {} : _vm.imageResize('one2one')}}},[_vm._v(\" 1:1 \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"zoom-button-group\">\n        <div class=\"zoom-panel-box\">\n            <i class=\"el-icon-minus icon\" @click=\"imageResize('out')\"></i>\n\n            <ts-slider\n                ref=\"slider\"\n                class=\"slider\"\n                :min=\"5\"\n                :max=\"200\"\n                :show-tooltip=\"false\"\n                :value=\"zoom\"\n                @mousedown=\"isMousedown = true\"\n                @mouseup=\"isMousedown = false\"\n                @input=\"onZoomSlider\"\n                @change=\"handleSliderChange\">\n            </ts-slider>\n\n            <i class=\"el-icon-plus icon\" @click=\"imageResize('in')\"></i>\n\n            {{ transformUseValue(zoom) }} %\n        </div>\n\n        <el-radio-group\n            v-model=\"fitPosition\"\n            :disabled=\"disabledQuickButton\"\n            fill=\"#1E1E1E\"\n            text-color=\"#EECC28\"\n        >\n            <el-radio-button\n                v-blur\n                label=\"fit\"\n                v-gtag-event=\"PointClickFit\"\n                @click.native=\"disabledQuickButton ? () => {} : imageResize('fit')\"\n            >{{ $t('pagePhotoFinishing.fitBtn') }}\n            </el-radio-button>\n            <el-radio-button\n                v-blur\n                label=\"one2one\"\n                v-gtag-event=\"PointClickOriginal\"\n                @click.native=\"disabledQuickButton ? () => {} : imageResize('one2one')\">\n                1:1\n            </el-radio-button>\n        </el-radio-group>\n    </div>\n</template>\n\n<script>\nimport { watch, ref, getCurrentInstance } from 'vue'\nimport { RadioButton, RadioGroup } from 'element-ui'\nimport TsSlider from '@/components/TsSlider'\nimport pointsMixin from '@/mixins/pointsMixin'\n\nexport default {\n    name: 'ZoomButtonGroup',\n    components: {\n        'el-radio-group': RadioGroup,\n        'el-radio-button': RadioButton,\n        TsSlider\n    },\n    mixins: [pointsMixin],\n    props: {\n        value: {\n            type: Number\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        showAllScale: {\n            type: Number,\n            default: -1\n        },\n        disabledQuickButton: {\n            type: Boolean,\n            default: false\n        }\n    },\n    setup(props, { emit }) {\n        const that = getCurrentInstance().proxy\n\n        const fitPosition = ref('none')\n        const zoom = ref(100)\n        const isMousedown = ref(false)\n        const zoomOutList = [20, 30, 40, 50, 60, 70, 80, 90, 100]\n        const zoomInList = [100, 120, 140, 160, 180, 200, 250, 300, 350, 400, 450, 500, 600, 700, 800, 900, 1000, 1200]\n\n        function getRatio(type = 'in', value = 0) {\n            console.log('getRatio: ', value)\n            const ratioList = Array.from([...zoomOutList, ...zoomInList])\n            let ratio = value.toStrip(4)\n            if (type === 'out') {\n                const reverseRatio = ratioList.reverse()\n                for (const i of reverseRatio) {\n                    if (i < ratio) {\n                        ratio = i\n                        return ratio\n                    }\n                }\n            } else if (type === 'in') {\n                for (const i of ratioList) {\n                    if (i > ratio) {\n                        ratio = i\n                        return ratio\n                    }\n                }\n            }\n\n            return ratio\n        }\n\n        function transformInsideValue(ratio) {\n            let value = ratio / 100\n            if (value > 1) {\n                const min = zoomInList[0]\n                const max = zoomInList[zoomInList.length - 1]\n                value = ((value - 1) * 100 / (max - min) + 1)\n            }\n            return (value * 100)//.toRound(1)\n        }\n\n        function transformUseValue(value) {\n            let ratio = 1\n            if (value < 100) {\n                ratio = value / 100\n            } else if (value > 100) {\n                const min = zoomInList[0]\n                const max = zoomInList[zoomInList.length - 1]\n                ratio = ((value - 100) / 100 * (max - min) + min) / 100\n            }\n\n            return ((ratio + 0.00001) * 100).toRound(1)\n        }\n\n\n        // slider 拖拽\n        function onZoomSliderWrap(value) {\n            if (isMousedown.value) {\n                zoom.value = value\n                emit('on-slider', transformUseValue(value))\n            }\n        }\n\n        watch(() => props.value, (val) => {\n            zoom.value = transformInsideValue(val)\n\n            fitPosition.value = 'none'\n            if (zoom.value === 100) {\n                fitPosition.value = 'one2one'\n            }\n\n            if (props.showAllScale !== -1) {\n                if (transformUseValue(zoom.value) === transformUseValue(transformInsideValue(props.showAllScale))) {\n                    fitPosition.value = 'fit'\n                }\n            }\n        })\n\n        watch(zoom, (val) => {\n            emit('input', transformUseValue(val))\n        })\n\n        return {\n            zoom,\n            isMousedown,\n            fitPosition,\n            transformUseValue,\n            onZoomSlider: (value) => onZoomSliderWrap(value),\n            imageResize: (mode) => {\n                if (['in', 'out'].includes(mode)) {\n                    const value = getRatio(mode, transformUseValue(zoom.value))\n                    zoom.value = transformInsideValue(value)\n                    emit('on-slider', value)\n                } else {\n                    emit('on-resize', mode)\n                }\n            },\n            handleSliderChange: () => {\n                that?.$tsStat.event('cake_refine', {\n                    cake_operate: 'slide_zoom_rod'\n                })\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.zoom-button-group {\n    display: flex;\n\n    &:hover {\n        cursor: default;\n    }\n\n    .zoom-panel-box {\n        transform: scale(.9);\n        display: flex;\n        justify-content: left;\n        align-items: center;\n        width: 155px;\n        font-size: 12px;\n        color: #D9D9D9;\n        font-weight: 400;\n        white-space: nowrap;\n\n        .slider {\n            flex: 1;\n            margin: 0 8px;\n            min-width: 61px;\n            max-width: 61px;\n\n            /deep/ {\n                .el-slider__runway {\n                    background: #6E6E6E;\n\n                    .el-slider__bar {\n                        background: #D9D9D9;\n                    }\n                }\n            }\n        }\n\n        .icon {\n            font-size: 12px;\n\n            &:last-child {\n                margin-right: 4px;\n            }\n        }\n    }\n\n    /deep/ {\n        .el-radio-button {\n            &.is-active {\n                .el-radio-button__inner {\n                    border-top-color: #4D4D4D !important;\n                    border-bottom-color: #4D4D4D !important;\n                }\n\n                &:last-child {\n                    .el-radio-button__inner {\n                        border-right-color: #4D4D4D !important;\n                        border-right-width: 1px;\n                    }\n                }\n\n                &:first-child {\n                    .el-radio-button__inner {\n                        border-left-color: #4D4D4D !important;\n                    }\n                }\n            }\n        }\n\n        .el-radio-button__inner {\n            width: 40px;\n            padding: 7px 5px !important;\n        }\n    }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zoom-button-group.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zoom-button-group.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./zoom-button-group.vue?vue&type=template&id=1501511e&scoped=true&\"\nimport script from \"./zoom-button-group.vue?vue&type=script&lang=js&\"\nexport * from \"./zoom-button-group.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zoom-button-group.vue?vue&type=style&index=0&id=1501511e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1501511e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.disabled)?_c('el-progress',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"px__el-progress\",attrs:{\"stroke-width\":4,\"show-text\":false,\"percentage\":_vm.loadingPercent}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-progress\n        class=\"px__el-progress\"\n        v-if=\"!disabled\"\n        v-show=\"visible\"\n        :stroke-width=\"4\"\n        :show-text=\"false\"\n        :percentage=\"loadingPercent\">\n    </el-progress>\n</template>\n\n<script>\nimport Vue, { ref, watch, onUnmounted, nextTick } from 'vue'\nimport { Progress } from 'element-ui'\n\nexport default Vue.extend({\n    name: 'TsProgress',\n    components: {\n        'el-progress': Progress\n    },\n\n    props: {\n        value: {\n            type: Boolean,\n            default: false\n        },\n\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n\n    setup(props, { emit }) {\n        let loadingPercent = ref(0)\n        let visible = ref(props.value)\n\n        let loadingTimer = ref(null)\n        let showProgressTimer = ref(null)\n\n        function autoAddPercentage() {\n            if (loadingTimer.value) {\n                clearTimeout(loadingTimer.value)\n                loadingTimer.value = null\n            }\n            loadingTimer.value = setTimeout(() => {\n                if (loadingPercent.value < 99) {\n                    loadingPercent.value += 1\n                    autoAddPercentage()\n                }\n            }, 33)\n        }\n\n        watch(() => props.value, (val) => {\n            if (val) {\n                visible.value = val\n                loadingPercent.value = 0\n                if (showProgressTimer.value) {\n                    clearTimeout(showProgressTimer.value)\n                    showProgressTimer.value = null\n                }\n                autoAddPercentage()\n            } else {\n                loadingPercent.value = 100\n                clearTimeout(loadingTimer.value)\n                showProgressTimer.value = setTimeout(() => {\n                    nextTick(() => {\n                        visible.value = false\n                    })\n                }, 300)\n            }\n        })\n\n        watch(visible, (val) => emit('input', val))\n\n        onUnmounted(() => {\n            if (loadingTimer.value) {\n                clearTimeout(loadingTimer.value)\n                loadingTimer.value = null\n            }\n\n            if (showProgressTimer.value) {\n                clearTimeout(showProgressTimer.value)\n                showProgressTimer.value = null\n            }\n        })\n\n        return {\n            loadingPercent,\n            visible\n        }\n    }\n})\n\n</script>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=421f9166&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"421f9166\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"ts-drawer\",style:({\n        width: _vm.width ? _vm.width : '100%'\n    })},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        v-show=\"visible\"\n        class=\"ts-drawer\"\n        :style=\"{\n            width: width ? width : '100%'\n        }\">\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport Vue, { ref, watch } from 'vue'\n\nexport default Vue.extend({\n    name: 'TsDrawer',\n    props: {\n        value: {\n            type: Boolean,\n            default: false\n        },\n        width: {\n            type: String,\n            default: ''\n        },\n        direction: {\n            type: String,\n            default: 'rtl'\n        }\n    },\n    setup(props, { emit }) {\n        const visible = ref(props.value || false)\n\n        watch(() => props.value, (val) => {\n            visible.value = val\n        })\n        watch(visible, (val) => emit('input', val))\n\n        return {\n            visible\n        }\n    }\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.ts-drawer {\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 1999;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2a4d04ac&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2a4d04ac&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a4d04ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"painter-sidebar\"},[_c('div',{staticClass:\"nav\"},[_c('span',{staticClass:\"nav-item\",class:{ 'active': _vm.activeNav === 'tool' },on:{\"click\":function($event){_vm.activeNav = 'tool'}}},[_c('i',{staticClass:\"ts-icon ts-icon-blemishes\"})]),_c('span',{staticClass:\"nav-item\",class:{ 'active': _vm.activeNav === 'history' },on:{\"click\":function($event){_vm.activeNav = 'history'}}},[_c('i',{staticClass:\"ts-icon ts-icon-history\"})])]),(_vm.activeNav === 'tool')?_c('div',{staticClass:\"tool\"},[_c('div',{staticClass:\"tool-title\"},[_c('span',[_vm._v(\"祛除瑕疵\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showResetMaskBtn),expression:\"showResetMaskBtn\"}],staticClass:\"btn\"},[_c('i',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickSmearReset),expression:\"PointClickSmearReset\"}],staticClass:\"el-icon-refresh-right reset-btn-icon\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('on-reset-painter')}}})])]),_c('div',{staticClass:\"tool-content\"},[_c('div',{staticClass:\"tool-group\"},[_c('el-radio-group',{attrs:{\"value\":_vm.toolKey,\"text-color\":\"#EECC28\",\"size\":\"mini\"}},[_c('el-radio-button',{directives:[{name:\"blur\",rawName:\"v-blur\"}],attrs:{\"label\":\"brush\"},nativeOn:{\"click\":function($event){return _vm.changeTool('brush')}}},[_c('i',{staticClass:\"ts-icon ts-icon-brush\",class:[ _vm.toolKey === 'brush' ? 'ts-icon-brush-active': 'ts-icon-brush']})]),_c('el-radio-button',{directives:[{name:\"blur\",rawName:\"v-blur\"}],attrs:{\"label\":\"eraser\"},nativeOn:{\"click\":function($event){return _vm.changeTool('eraser')}}},[_c('i',{staticClass:\"ts-icon ts-icon-eraser\",class:[ _vm.toolKey === 'eraser' ? 'ts-icon-eraser-active': 'ts-icon-eraser']})])],1)],1),_vm._l((_vm.tools),function(tool,key){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.toolKey === key),expression:\"toolKey === key\"}],key:key,staticClass:\"tool-slider\"},[_vm._l((tool),function(item,j){return [_c('div',{key:j,staticClass:\"tool-slider-item\"},[_c('p',{staticClass:\"label\"},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.value))])]),_c('ts-slider',{staticClass:\"slider ts-slider--mini gray\",attrs:{\"min\":item.min || 0,\"max\":item.max || 100,\"show-tooltip\":false},on:{\"input\":function($event){[item.setValue($event), _vm.changeTool(_vm.toolKey)]},\"change\":function($event){return _vm.PointClickSmearTool(key, item.type)},\"mousedown\":_vm.painterMouseDown,\"mousemove\":_vm.painterMouseMove,\"mouseup\":_vm.painterMouseUp},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)]})],2)]})],2),_vm._t(\"bottom\")],2):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeNav === 'history'),expression:\"activeNav === 'history'\"}],staticClass:\"tool\"},[_vm._m(0),_c('ul',{staticClass:\"tool-content history global__scroll-style\"},[(_vm.historyList.length > 0)?[_vm._l((_vm.historyList),function(item){return [_c('li',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(_vm.PointClickSmearHistoryBack),expression:\"PointClickSmearHistoryBack\"}],key:item.uuid,staticClass:\"history-item\",class:{ disabled: item.disabled, active: item.active },on:{\"click\":function($event){item.disabled ? _vm.tsNotify('暂仅支持撤销至最近10步') : _vm.changeHistory(item.uuid)}}},[_c('i',{staticClass:\"ts-icon\",class:{\n                                'ts-icon-brush': item.type === 'brush',\n                                'ts-icon-eraser': item.type === 'eraser',\n                                'el-icon-refresh-right': item.type === 'reset'\n                            }}),_vm._v(\" \"+_vm._s(item.name)+\" \")])]})]:_c('li',{staticClass:\"history-empty\"},[_vm._v(\" 暂无操作记录 \")])],2),_vm._t(\"bottom\")],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"tool-title\"},[_c('span',[_vm._v(\"历史记录\")])])\n}]\n\nexport { render, staticRenderFns }","/**\n * 事件监听触发器\n */\nexport default class EventEmitter {\n    _listeners: { [key: string]: Function[] } = {}\n    maxListener = 10\n\n    /**\n     * 监听事件\n     * @param event\n     * @param cb\n     */\n    on(event: string, cb: Function): this {\n        let listeners = this._listeners\n        if (listeners[event] && listeners[event].length >= this.maxListener) {\n            throw console.error('The maximum number of listeners is %d. You have exceeded the limit', this.maxListener)\n        }\n\n        if (!listeners[event]) {\n            listeners[event] = []\n        }\n\n        if (listeners[event].indexOf(cb) === -1) {\n            listeners[event].push(cb)\n        }\n        return this\n    }\n\n    /**\n     * 触发事件\n     * @param event\n     * @param data\n     */\n    emit(event: string, ...data: any[]): this {\n        // eslint-disable-next-line prefer-rest-params\n        const args = Array.prototype.slice.call(arguments)\n        args.shift()\n        this._listeners[event] && this._listeners[event].forEach(cb => {\n            // eslint-disable-next-line prefer-spread\n            cb.apply(null, args)\n        })\n        return this\n    }\n\n    /**\n     * 销毁事件\n     * @param event\n     * @param listener\n     */\n    off(event: string, listener: Function): this {\n        const _listeners = this._listeners\n        const arr = _listeners[event] || []\n        const i = arr.indexOf(listener)\n        if (i >= 0) {\n            _listeners[event].splice(i, 1)\n        }\n        return this\n    }\n\n    /**\n     * 监听事件（仅执行一次）\n     * @param event\n     * @param listener\n     */\n    once(event: string, listener: Function): this {\n        const self = this\n\n        function fn() {\n            // eslint-disable-next-line prefer-rest-params\n            const args = Array.prototype.slice.call(arguments)\n            // eslint-disable-next-line prefer-spread\n            listener.apply(null, args)\n            self.off(event, fn)\n        }\n\n        this.on(event, fn)\n        return this\n    }\n\n    /**\n     * 移除所有指定事件监听\n     * @param event\n     */\n    removeAllListener(event: string): this {\n        this._listeners[event] = []\n        return this\n    }\n\n    /**\n     * 查看指定事件监听器列表\n     * @param event\n     */\n    listeners(event: string): Function[] {\n        return this._listeners[event]\n    }\n\n    /**\n     * 设置事件最大监听数\n     * @param num\n     */\n    setMaxListeners(num: number): this {\n        this.maxListener = num\n        return this\n    }\n\n    $on = this.on\n    $once = this.once\n    $emit = this.emit\n    $off = this.off\n    $listeners = this.listeners\n    addListener = this.on\n    removeListener = this.off\n}\n","import { IToolComponentData } from '../types/tool'\nimport EventEmitter from '@/utils/event-emitter'\n\nexport default abstract class BaseTool extends EventEmitter{\n    // 工具样式\n    private readonly cursor: HTMLElement | undefined\n    private cursorMounted: boolean = false\n    _size: number = 10\n\n    protected constructor() {\n        super()\n        const cursor = this.createCursorElement()\n        if (cursor) {\n            this.cursor = this.createCursorElement()\n        }\n    }\n\n    get size(): number {\n        return this._size\n    }\n\n    /**\n     * 中心偏移值\n     */\n    get _centerOffset(): number {\n        return -this._size / 2\n    }\n\n    abstract createCursorElement(): HTMLElement | undefined\n\n    abstract getComponentData(): IToolComponentData[]\n\n    abstract getDataForAlgorithm(): any\n\n    abstract reset(): void\n\n    increaseSize(step: number): void {\n        // @ts-ignore\n        this._size = (this.size + step).toRound(1)\n    }\n\n    getElement(): HTMLElement | undefined {\n        return this.cursor\n    }\n\n\n    updateCursorSize(_size: number): void {\n        if (!this.cursor) {\n            return\n        }\n\n        this._size = _size\n\n        const size = _size + 'px'\n        const left = this._centerOffset\n        this.cursor.style.width = size\n        this.cursor.style.height = size\n        this.cursor.style.borderRadius = size\n        this.cursor.style.transform = `translate(${ left }px, ${ left }px)`\n    }\n\n    updateCursorElement(x: number, y: number): void {\n        if (!this.cursor) {\n            return\n        }\n        const left = this._centerOffset\n        this.cursor.style.transform = `translate(${ left }px, ${ left }px)`\n        this.cursor.style.left = x + 'px'\n        this.cursor.style.top = y + 'px'\n    }\n\n    appendChild(dom: HTMLElement): void {\n        const ele = this.getElement()\n        if (!ele) {\n            return\n        }\n        if (!this.cursorMounted) {\n            this.cursorMounted = true\n            dom.appendChild(ele)\n        }\n    }\n\n    removeChild(): void {\n        const ele = this.getElement()\n        if (!ele) {\n            return\n        }\n        if (this.cursorMounted) {\n            this.cursorMounted = false\n            ele.parentElement?.removeChild(ele)\n        }\n    }\n}","import BaseTool from './BaseTool'\nimport { IToolComponentData } from '../types/tool'\nimport { IDataForPainterAlgorithm } from '../types/tool'\n\n// 默认值\nconst minSize = 10\nconst maxSize = 300\nconst size = 30\nconst feather = 50\nconst opacity = 100\n\nexport default class DefectTool extends BaseTool {\n    _size: number = size\n    private _opacity: number = opacity\n    private _feather: number = feather\n    isEraser: boolean = true\n\n    insideElem: HTMLElement\n\n    constructor(isEraser: boolean) {\n        super()\n        this.isEraser = isEraser\n        this.insideElem = this.createInsideCycleElement()\n        this.getElement()?.appendChild(this.insideElem)\n    }\n\n    set size(value: number) {\n        if (value > maxSize) value = maxSize\n        if (value < minSize) value = minSize\n        this._size = value\n        this.updateCursorSize(value)\n    }\n\n    get size(): number {\n        return this._size\n    }\n\n    set feather(value: number) {\n        this._feather = value\n        this.updateInsideCycleElement()\n    }\n\n    reset(): void {\n        this._size = size\n        this._opacity = opacity\n        this._feather = feather\n    }\n\n    createCursorElement(): HTMLElement {\n        const left = this._centerOffset\n        const size = this.size\n\n        const elem = document.createElement('div')\n        elem.style.pointerEvents = 'none'\n\n        elem.style.position = 'absolute'\n        elem.style.display = 'inline-block'\n        elem.style.border = '0.5px solid #ededed'\n        elem.style.width = size + 'px'\n        elem.style.height = size + 'px'\n        elem.style.transform = `translate(${left}px, ${left}px)`\n        elem.style.borderRadius = size + 'px'\n        elem.style.zIndex = '9999'\n        elem.style.background = 'rgba(0, 0, 0, 0.3)'\n        elem.style.position = 'fixed'\n\n        return elem\n    }\n\n    /**\n     * 创建内切圆节点\n     */\n    createInsideCycleElement(): HTMLElement {\n        const { size, feather } = this.getDataForAlgorithm()\n        const featherTemp = (1 - (feather / 100) * 0.5) * size\n\n        const insideCycle = document.createElement('i')\n        insideCycle.style.position = 'absolute'\n        insideCycle.style.display = 'flex'\n        insideCycle.style.justifyContent = 'center'\n        insideCycle.style.alignItems = 'center'\n        insideCycle.style.border = '0.5px solid #fff'\n        insideCycle.style.left = '0'\n        insideCycle.style.right = '0'\n        insideCycle.style.top = '0'\n        insideCycle.style.bottom = '0'\n        insideCycle.style.margin = 'auto'\n\n        insideCycle.style.width = featherTemp + 'px'\n        insideCycle.style.height = featherTemp + 'px'\n        insideCycle.style.borderRadius = featherTemp + 'px'\n\n        insideCycle.style.fontSize = '24px'\n        insideCycle.innerText = '-'\n        insideCycle.style.fontStyle = 'normal'\n\n        return insideCycle\n    }\n\n    updateCursorSize(value: number): void {\n        super.updateCursorSize(value);\n        this.updateInsideCycleElement()\n    }\n\n    updateInsideCycleElement(): void {\n        const insideCycle = this.insideElem\n        const { size, feather } = this.getDataForAlgorithm()\n        const featherTemp = (1 - (feather / 100) * 0.5) * size\n\n        insideCycle.style.width = featherTemp + 'px'\n        insideCycle.style.height = featherTemp + 'px'\n        insideCycle.style.borderRadius = featherTemp + 'px'\n\n        if (size === featherTemp) {\n            insideCycle.style.border = 'none'\n        } else {\n            insideCycle.style.border = '0.5px solid #fff'\n        }\n\n        if (featherTemp < 48) {\n            insideCycle.style.fontSize = featherTemp / 2 + 'px'\n        } else {\n            insideCycle.style.fontSize = '24px'\n        }\n    }\n\n    getComponentData(): IToolComponentData[] {\n        return [\n            {\n                name: '大小',\n                value: this._size,\n                min: minSize,\n                max: maxSize,\n                type: 'size',\n                setValue: (val) => {\n                    console.log('setValue', val)\n                    this.size = val\n                }\n            },\n            {\n                name: '羽化',\n                type: 'feather',\n                value: this._feather,\n                setValue: (val) => {\n                    this.feather = val\n                }\n            },\n            {\n                name: '不透明度',\n                type: 'opacity',\n                value: this._opacity,\n                setValue: (val) => {\n                    this._opacity = val\n                }\n            }\n        ]\n    }\n\n    getDataForAlgorithm(): IDataForPainterAlgorithm {\n        return {\n            size: this._size,\n            feather: this._feather,\n            opacity: this._opacity\n        }\n    }\n}\n","import { Tool } from './contants/config'\nimport BaseTool from './impl/BaseTool'\n\nimport { IPoint, IToolComponentData } from './types/tool'\nimport { Optional } from '@/types'\nimport EventEmitter from '@/utils/event-emitter'\n\nexport default abstract class BaseToolControl<T extends BaseTool> extends EventEmitter{\n    // static instance: BaseControl<any>\n    tools: Map<Tool, T> = new Map()\n    _cacheMousePosition: IPoint = { x: 0, y: 0 }\n    _tool: Tool = Tool.Eraser // 当前激活的工具\n\n    protected constructor() {\n        super()\n        this.tools = this.initTools()\n    }\n\n    get tool(): Tool {\n        return this._tool\n    }\n\n    get activeTool(): Optional<T> {\n        return this.getSpecialTool(this.tool)\n    }\n\n    /**\n     * 初始化所有工具\n     */\n    abstract initTools(): Map<Tool, T>\n    abstract _addKeyDownEvent(event: KeyboardEvent): void\n\n    mounted(): void {\n        window.addEventListener('keydown', this._addKeyDownEvent)\n    }\n\n    unmounted(): void {\n        window.removeEventListener('keydown', this._addKeyDownEvent)\n    }\n\n    changeTool(tool: Tool): this {\n        if (this.tool !== tool) {\n            this.removeCursor() // 切换工具时 移除旧节点\n            this._tool = tool\n        }\n        return this\n    }\n\n    /**\n     * 获取工具\n     * @param tool\n     */\n    getSpecialTool(tool: Tool): Optional<T> {\n        if (this.tools.has(tool)) {\n            return this.tools.get(tool) as T\n        }\n        return null\n    }\n\n    /**\n     * 添加鼠标节点\n     * @param dom\n     * @param updateMousePoint\n     */\n    addCursor(dom: HTMLElement, updateMousePoint = false): void {\n        this.activeTool?.appendChild(dom)\n        if (updateMousePoint) {\n            const { x, y } = this._cacheMousePosition\n            this.activeTool?.updateCursorElement(x, y)\n        }\n    }\n\n    /**\n     * 移除鼠标节点\n     */\n    removeCursor(): void {\n        this.activeTool?.removeChild()\n    }\n\n    /**\n     * 更新鼠标位置，并缓存最后的坐标\n     * @param x\n     * @param y\n     */\n    updateCursorPosition(x: number, y: number): void {\n        this._cacheMousePosition.x = x\n        this._cacheMousePosition.y = y\n        this.activeTool?.updateCursorElement(x, y)\n    }\n\n    /**\n     * 创建工具操作界面数据\n     */\n    createToolsOperationData(): { [key: string]: IToolComponentData[] } {\n        const data: { [key: string]: IToolComponentData[] } = {}\n        this.tools.forEach((value, key) => {\n            data[key] = value.getComponentData()\n        })\n        return data\n    }\n}\n","export function bindMany(object: object, ...keys: string[]): void {\n    for (const key of keys) {\n        // @ts-ignore\n        const value = object[key]\n        if (typeof value === 'function') {\n            // @ts-ignore\n            object[key] = value.bind(object)\n        } else {\n            throw new Error(`bindMany failed: '${key}' is no function`)\n        }\n    }\n}\n","import { Tool } from './contants/config';\n\nimport DefectTool from '@/view-model/photoControl/controlTools/impl/DefectTool'\nimport BaseToolControl from '@/view-model/photoControl/controlTools/BaseToolControl'\nimport BaseTool from '@/view-model/photoControl/controlTools/impl/BaseTool'\nimport { bindMany } from '@/view-model/photoControl/utils/commonUtil'\n\n/**\n * 控制工具类\n */\nexport default class ControlTools extends BaseToolControl<BaseTool> {\n    static instance: ControlTools\n\n    _tool = Tool.Eraser // 当前激活的工具\n\n    constructor() {\n        super()\n        bindMany(this, '_addKeyDownEvent', 'emit')\n    }\n\n    static getInstance(): ControlTools {\n        if (!this.instance) {\n            this.instance = new ControlTools()\n        }\n        return this.instance\n    }\n\n    _addKeyDownEvent(event: KeyboardEvent): void {\n        // switch (event.code) {\n        //     case 'BracketLeft':\n        //     case 'BracketRight':\n        //         const eventCode = event.code\n        //         let nStep = 10\n        //         let isPlus = eventCode === 'BracketRight'\n        //\n        //         this.activeTool?.increaseSize(isPlus ? nStep : -nStep)\n        //         this.emit('on-update')\n        //         break\n        // }\n    }\n\n    /**\n     * 初始化所有工具\n     */\n    initTools(): Map<Tool, BaseTool> {\n        const toolMap = new Map()\n        toolMap.set(Tool.Eraser, new DefectTool(true))\n        toolMap.set(Tool.Brush, new DefectTool(false))\n        return toolMap\n    }\n}\n","\nimport Vue, { ref,  onMounted, onUnmounted } from 'vue'\nimport { debounce } from 'lodash'\n\nimport TsSlider from '@/components/TsSlider'\nimport ControlTools from '@/view-model/photoControl/controlTools/DefectToolControl'\nimport { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport pointsMixin from '@/mixins/pointsMixin'\nimport toast from '@/mixins/toast'\n\n// @ts-ignore\nexport default Vue.extend({\n    mixins: [pointsMixin, toast],\n    components: {\n        'ts-slider': TsSlider\n    },\n    props: {\n        showResetMaskBtn: {\n            type: Boolean,\n            default: false\n        },\n        historyList: {\n            type: Array,\n            default: () => []\n        }\n    },\n    setup(props, { emit }) {\n        const activeNav = ref('tool')\n\n        const controlTools = ControlTools.getInstance()\n\n        const tools = ref(controlTools.createToolsOperationData())\n        const toolKey = ref(controlTools.tool)\n\n        const emitToolChange = debounce((val: string) => {\n            emit('change-tool', val)\n        }, 30) as Function\n\n        function changeTool(val: Tool) {\n            toolKey.value = val\n            controlTools.changeTool(val)\n            emitToolChange(val)\n        }\n\n        // 添加键盘监听事件\n        function addKeyDownEvent(event: KeyboardEvent) {\n            switch (event.code) {\n                case 'BracketLeft':\n                case 'BracketRight':\n                    const eventCode = event.code\n                    controlTools.activeTool?.increaseSize(eventCode === 'BracketLeft' ? -10 : 10)\n                    // @ts-ignore\n                    tools.value = controlTools.createToolsOperationData()\n                    changeTool(toolKey.value)\n                    break\n\n                case 'KeyX':\n                    if (controlTools.tool === Tool.Eraser) {\n                        changeTool(Tool.Brush)\n                    } else if (controlTools.tool === Tool.Brush) {\n                        changeTool(Tool.Eraser)\n                    }\n                    break\n            }\n        }\n\n        function listenerKeyboard(opt: string = 'destroy'): void {\n            if (opt === 'destroy') {\n                window.removeEventListener('keydown', addKeyDownEvent)\n            } else if (opt === 'add') {\n                window.addEventListener('keydown', addKeyDownEvent)\n            }\n        }\n\n        onMounted(() => {\n            listenerKeyboard('add')\n        })\n\n        onUnmounted(() => {\n            listenerKeyboard('destroy')\n        })\n\n        return {\n            activeNav,\n            tools,\n            toolKey,\n            changeTool,\n            resetTool: () => {\n                controlTools.activeTool?.reset()\n                tools.value = controlTools.createToolsOperationData()\n                changeTool(toolKey.value)\n            },\n            painterMouseDown: (event: MouseEvent) => {\n                const bodyDom = document.body\n                controlTools.addCursor(bodyDom)\n                controlTools.activeTool?.updateCursorElement(event.clientX, event.clientY)\n            },\n            painterMouseMove: (event: MouseEvent) => {\n                controlTools.activeTool?.updateCursorElement(event.clientX, event.clientY)\n            },\n            painterMouseUp: (event: MouseEvent) => {\n                controlTools.removeCursor()\n            },\n\n            changeHistory: (uuid: string) => emit('change-history', uuid)\n        }\n    }\n})\n","/**\n * 可支持监听器事件枚举\n */\nexport enum PtListenerEvent {\n    HistoryUpdate = 'history__update',\n    HistoryExpired = 'history__expired',\n    DragStateChanged = 'drag-state-changed',\n    InitSize = 'init-size',\n    ShowResetDefaultMask = 'show-reset-default-mask',\n    ClickSmearBack = 'click-smear-back'\n}\n\nexport enum LiquefyListenerEvent {\n    MouseEvent = 'mouse_event'\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefectPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefectPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DefectPanel.vue?vue&type=template&id=2bb1eac8&scoped=true&\"\nimport script from \"./DefectPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./DefectPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DefectPanel.vue?vue&type=style&index=0&id=2bb1eac8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bb1eac8\",\n  null\n  \n)\n\nexport default component.exports","import { ref, onUnmounted, Ref } from 'vue'\nimport refine, { RefineListenerEvent } from '@/qt-ipc/business/refine'\n\nimport { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport { PtListenerEvent } from '@/view-model/photoControl/contants/listenerEvent'\n\nimport PhotoControl from '@/view-model/photo-control'\nimport PainterControl from '@/view-model/photoControl/DefectControl'\nimport useToastRepositories from '@/composables/useToastRepositories'\n\nexport interface IOptions {\n    beforeOpenMode: () => void\n    beforeCloseMode: () => void\n}\n\nexport default function usePainterRepositories(photoControlRef: Ref<PhotoControl>, isDestroy: Ref<boolean>, options?: IOptions): any {\n    const controlInstance: Ref<PainterControl | undefined> = ref()\n\n    const showResetBtn = ref(false)\n    const historyList = ref([])\n    const showProcessModePanel = ref(false)\n\n\n    const { tsNotify } = useToastRepositories()\n\n    const useProcessMode = (): void => {\n        if (showProcessModePanel.value) {\n            return\n        }\n        showProcessModePanel.value = true\n        options && options?.beforeOpenMode()\n\n        controlInstance.value = photoControlRef.value.usePainterMode()\n        controlInstance.value.on(PtListenerEvent.HistoryUpdate, (data: any) => historyList.value = data)\n            .on(PtListenerEvent.ShowResetDefaultMask, (val: boolean) => showResetBtn.value = val)\n            .on(PtListenerEvent.HistoryExpired, () => tsNotify('暂仅支持撤销至最近10步'))\n\n        _listenThumbnailCanChooseItem()\n    }\n\n    const _finishProcessMode = (mode: string): void => {\n        options && options?.beforeCloseMode()\n        if (mode === 'cancel') {\n            controlInstance.value?.cancelRemoveDefectivePaintMask()\n        } else if (mode === 'save') {\n            controlInstance.value?.setRemoveDefectivePaintMask()\n        }\n        showProcessModePanel.value = false\n        _listenThumbnailCanChooseItem(true)\n    }\n\n    const { tsConfirm } = useToastRepositories()\n    const painterCloseConfirm = () => {\n        tsConfirm({\n            title: '是否需要保存涂抹修改？',\n            confirmButtonText: '保存'\n        }).then(() => {\n            setRemoveDefectivePaintMask('save')\n        }).catch(() => {\n            setRemoveDefectivePaintMask('cancel')\n        })\n    }\n\n    const setRemoveDefectivePaintMask = (mode: string, isButton: boolean = false): void => {\n        if (mode === 'cancel' && isButton && historyList.value.length > 1) {\n            painterCloseConfirm()\n        } else {\n            _finishProcessMode(mode)\n        }\n    }\n\n    // 监听涂抹模式中选中切换\n    const _listenThumbnailCanChooseItem = (isDestroy: boolean = false): void => {\n        if (isDestroy) {\n            refine.removeListener(RefineListenerEvent.ThumbnailCanChooseItem)\n        } else {\n            refine.addListener(RefineListenerEvent.ThumbnailCanChooseItem, () => painterCloseConfirm())\n        }\n    }\n\n    onUnmounted(() => {\n        _listenThumbnailCanChooseItem(true)\n        controlInstance.value?.destroy()\n        controlInstance.value = undefined\n    })\n\n\n    return {\n        showPainter: showProcessModePanel,\n        showResetMaskBtn: showResetBtn,\n        painterHistoryList: historyList,\n        setRemoveDefectivePaintMask,\n        painterCloseConfirm,\n        resetPainterRecord: () => {\n            showResetBtn.value = false\n            controlInstance.value?.resetPainterRecord()\n        },\n\n        openPainterMode: () => {\n            if (!photoControlRef.value) {\n                tsNotify('图片未加载成功，请稍后再试')\n                return\n            }\n            useProcessMode()\n        },\n        switchDefectTool: (mode: Tool) => controlInstance.value?.changeTool(mode),\n        onChangeHistory: (uuid: string) => controlInstance.value?.changeHistory(uuid)\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"thumb-opt-record\"},[_c('div',{staticClass:\"tool\"},[_c('div',{staticClass:\"tool-title\"},[_c('span',[_vm._v(\"历史记录\")]),(_vm.selectId && _vm.selectId != 0)?_c('i',{staticClass:\"el-icon-refresh-right reset-btn-icon\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onResetRecord.apply(null, arguments)}}}):_vm._e()])]),_c('div',{ref:\"content\",staticClass:\"content-container global__scroll-style\",on:{\"scroll\":_vm.throttleScroll}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"content\"},[_c('div',{staticClass:\"item\",class:{ 'is-select-item': item.isSelect},attrs:{\"id\":item.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.onItemClick(item)}}},[_c('span',{staticClass:\"title\",class:{ 'is-select-text': item.isSelect}},[_vm._v(\" \"+_vm._s(_vm.renderTitle(item))+\" \")]),(item.opt.optDesc)?_c('span',{staticClass:\"value\",class:{ 'is-select-text': item.isSelect}},[_vm._v(\" \"+_vm._s(_vm.renderDesc(item))+\" \")]):_vm._e()])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"thumb-opt-record\">\n        <div class=\"tool\">\n            <div class=\"tool-title\">\n                <span>历史记录</span>\n\n                <i class=\"el-icon-refresh-right reset-btn-icon\"\n                   style=\"font-size: 16px\"\n                   v-if=\"selectId && selectId != 0\"\n                   @click.stop=\"onResetRecord\">\n                </i>\n            </div>\n        </div>\n\n        <div\n            class=\"content-container global__scroll-style\"\n            @scroll=\"throttleScroll\"\n            ref=\"content\"\n        >\n\n            <div class=\"content\"\n                 v-for=\"(item, index) in list\" :key=\"index\">\n\n                <div class=\"item\"\n                     :id=\"item.id\"\n                     :class=\"{ 'is-select-item': item.isSelect}\"\n                     @click.stop=\"onItemClick(item)\"\n                >\n                            <span class=\"title\"\n                                  :class=\"{ 'is-select-text': item.isSelect}\"\n                            >\n                                {{ renderTitle(item) }}\n\n                            </span>\n\n                    <span class=\"value\" v-if=\"item.opt.optDesc\"\n                          :class=\"{ 'is-select-text': item.isSelect}\"\n                    >\n                               {{ renderDesc(item) }}\n                            </span>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport { defineComponent, nextTick } from 'vue'\nimport store from '@/store'\n\nimport ipcRenderer from 'qt/Ipc-renderer'\n\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport { throttle } from 'lodash'\n\nimport { DynamicScroller, DynamicScrollerItem } from 'vue-virtual-scroller'\n\nexport default defineComponent({\n    name: 'ThumbOptRecordView',\n    data() {\n        return {\n            originItem: {\n                isSelect: false,\n                enable: 1,\n                id: 0,\n                opt: {\n                    labName: '原始'\n                },\n                presetSuitId: '-1',\n                created_time: -1\n            },\n            selectId: 0,\n            list: [],\n            thumbnailId: -1,\n            sexMap: null,\n\n        }\n    },\n    components: {\n        DynamicScroller,\n        DynamicScrollerItem\n    },\n    props: {\n        isShow: {\n            type: Boolean,\n            default: false\n        },\n        photoControlFunc: {\n            type: Function\n        }\n    },\n    setup(props) {\n        const {\n            PointHistoryStep,\n            PointHistoryReset,\n            PointHistoryScroll\n        } = useRefinePointsRepositories()\n\n        return {\n            PointHistoryStep,\n            PointHistoryReset,\n            throttleScroll: throttle(PointHistoryScroll, 2000, { leading: false })\n        }\n    },\n    mounted() {\n\n        this.sexMap = new Map([\n            [0, '女'],\n            [1, '男'],\n            [2, '儿童'],\n            [3, '长辈']\n        ])\n        ipcRenderer.on('on-updateCurrentOptRecordId', (event, args) => {\n            console.log('updateCurrentOptRecordId', args)\n            if (args && args.id) {\n                store.commit('refine/_SetNavbarDots', { history: true })\n            }\n            if (!this.isShow) {\n                return\n            }\n\n            let { id, thumbnailId } = args\n            if (this.selectId === id) {\n                return\n            }\n            if (this.thumbnailId !== thumbnailId) {\n                return\n            }\n            this.list.forEach(item => {\n                item.isSelect = false\n                if (id >= item.id) {\n                    item.isSelect = true\n                }\n            })\n            this.selectId = id\n            this.scrollToTarget(id)\n        })\n\n        ipcRenderer.on('on-loadThumbnailOptRecord', (event, args) => {\n            store.commit('refine/_SetNavbarDots', { history: args.count > 0 })\n            if (!this.isShow) {\n                return\n            }\n            this.selectId = 0\n            let { data, thumbnailId, selectId } = args\n            let list = data\n            let finalList = []\n            if (list && list.length > 0) {\n                for (let i = list.length - 1; i >= 0; i--) {\n                    let resultElement = list[i]\n                    if (resultElement.optJson) {\n                        resultElement.opt = JSON.parse(resultElement.optJson)\n                    }\n                    if (selectId >= resultElement.id) {\n                        resultElement.isSelect = true\n                    } else {\n                        resultElement.isSelect = false\n                    }\n                    finalList.push(resultElement)\n                }\n                this.selectId = selectId\n            }\n            let originItem = {\n                isSelect: false,\n                enable: 1,\n                id: 0,\n                opt: {\n                    labName: '原始'\n                },\n                presetSuitId: '-1',\n                created_time: -1\n            }\n            originItem.isSelect = true\n\n            finalList.push(originItem)\n            this.list = finalList\n            this.thumbnailId = thumbnailId\n            this.scrollToTarget(this.selectId)\n        })\n    },\n\n    beforeDestroy() {\n        ipcRenderer.removeAllListeners('on-updateCurrentOptRecordId')\n        ipcRenderer.removeAllListeners('on-loadThumbnailOptRecord')\n    },\n\n    watch: {\n        isShow: {\n            handler: async function (val) {\n                if (val) {\n                    let photoControlObj = this.photoControlFunc()\n                    if (photoControlObj) {\n                        let { thumbnailId, imgPath } = photoControlObj\n                        window.$thumbnailOptRecord.loadThumbnailOptRecord(thumbnailId, imgPath)\n                    }\n                }\n            },\n            immediate: false\n        }\n\n    },\n    methods: {\n        scrollToTarget(id) {\n            let list = this.list\n            let targetIndex = -1\n            for (let i = 0; i < list.length; i++) {\n                if (list[i].id === id) {\n                    targetIndex = i\n                    break\n                }\n            }\n            if (targetIndex >= 0) {\n                let top = targetIndex * 32\n                setTimeout(() => {\n                    nextTick(() => {\n\n                        let dom = this.$refs['content']\n                        let scrollTop = dom.scrollTop\n\n                        let parentH = dom.getBoundingClientRect().height\n\n                        console.log('scrollTop : ', scrollTop, ' top : ', top, ' scrollTop + parentH : ', (scrollTop + parentH))\n\n                        if (top > scrollTop && (top + 32) < (scrollTop + parentH)) {\n                            return\n                        }\n                        let isUp = true\n                        let distance = 0\n                        let step = 0\n                        let leader = 0\n                        let target = 0\n                        if ((top + 32) >= (scrollTop + parentH)) {\n                            isUp = false\n                            top += 32\n                            distance = top - (scrollTop + parentH)\n                            step = distance / 10\n                            leader = scrollTop\n                            target = scrollTop + distance\n                        } else {\n                            distance = scrollTop - top\n                            step = -distance / 10\n                            leader = scrollTop\n                            target = top\n                        }\n\n                        let timer = setInterval(function () {\n\n                            leader += step\n                            dom.scrollTo({\n                                top: leader,\n                                left: 0\n                            })\n                            if (isUp) {\n                                if (leader <= target) {\n                                    clearInterval(timer)\n                                }\n                            } else {\n                                if (leader >= target) {\n                                    clearInterval(timer)\n                                }\n                            }\n\n                        }, 10)\n                    })\n                }, 50)\n            }\n        },\n        renderTitle(item) {\n            let title = ''\n            if (item.opt.sex !== undefined) {\n                title += this.sexMap.get(item.opt.sex) + '：'\n            }\n\n            title += item.opt.labName\n            if (item.opt.lab2Name) {\n                title += '  ' + item.opt.lab2Name\n            }\n            if (item.opt.lab3Name) {\n                title += '  ' + item.opt.lab3Name\n            }\n            return title\n        },\n        renderDesc(item) {\n            if (item.isRest) {\n                return '已重置'\n            }\n            let desc = Number(item.opt.optDesc)\n            if (desc > 0) {\n                return '+' + desc\n            } else {\n                return item.opt.optDesc\n            }\n        },\n        async onResetRecord() {\n            this.PointHistoryReset()\n            await this.onItemClick(this.originItem)\n        },\n        async onItemClick(clickItem) {\n            this.PointHistoryStep()\n            this.selectId = clickItem.id\n            this.list.forEach(item => {\n                item.isSelect = false\n                if (clickItem.id >= item.id) {\n                    item.isSelect = true\n                }\n            })\n\n            let photoControlObj = this.photoControlFunc()\n            if (photoControlObj) {\n                await window.$thumbnailOptRecord.onThumbnailOptRecordClick(photoControlObj, clickItem)\n            }\n        },\n        //节流\n        throttle(func, wait) {\n            let timeout = null\n            return function () {\n                // if (timeout) {\n                //     debugger\n                //     return\n                // }\n                const context = this\n                // eslint-disable-next-line prefer-rest-params\n                let args = arguments\n                timeout = setTimeout(() => {\n                    timeout = null\n                }, wait)\n                func.apply(context, args)\n            }\n        },\n        onHistoryScroll() {\n\n        }\n\n\n    }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n\n.item {\n    width: 100%;\n    height: 32px;\n    line-height: 32px;\n    display: flex;\n    justify-content: space-between;\n\n    &:hover {\n        background: #1d1d1d;\n\n        span {\n            color: #FFFFFF;\n        }\n    }\n\n    .title {\n        margin-left: 16px;\n        font-family: PingFangSC-Regular;\n        font-size: 12px;\n        color: rgba(255, 255, 255, 0.3);\n\t\tflex-grow: 1;\n\t\tflex-shrink: 0;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tmax-width: 60%;\n\t\tmargin-right: 5px;\n    }\n\n    .value {\n\t\ttext-align: right;\n        margin-right: 22px;\n        font-family: PingFangSC-Regular;\n        font-size: 12px;\n        color: rgba(255, 255, 255, 0.3);\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n    }\n\n    .is-select-item {\n        background: #1d1d1d;\n    }\n\n    .is-select-text {\n        color: rgba(255, 255, 255, 0.65);\n    }\n}\n\n.thumb-opt-record {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 300px;\n    background: #0C0C0C;\n\n\n    .tool {\n        position: relative;\n        background: #282828;\n\n        &-title {\n            box-sizing: border-box;\n            height: 38px;\n            background: #282828;\n            line-height: 38px;\n            font-size: 12px;\n            color: rgba(255, 255, 255, 0.85);\n            font-weight: 500;\n            padding: 0 16px;\n\n            display: flex;\n\n            justify-content: space-between;\n        }\n\n        .reset-btn-icon {\n            line-height: 38px;\n        }\n    }\n\n    .content-container {\n        flex: 1;\n        background: #171717;\n        padding-bottom: 12px;\n        overflow-x: hidden;\n        overflow-y: overlay;\n\n        .content {\n            width: 100%;\n        }\n    }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbOptRecordView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbOptRecordView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThumbOptRecordView.vue?vue&type=template&id=7fe2eb3c&scoped=true&\"\nimport script from \"./ThumbOptRecordView.vue?vue&type=script&lang=js&\"\nexport * from \"./ThumbOptRecordView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThumbOptRecordView.vue?vue&type=style&index=0&id=7fe2eb3c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fe2eb3c\",\n  null\n  \n)\n\nexport default component.exports","import {\n    ref,\n    onUnmounted,\n    Ref,\n    nextTick,\n} from 'vue'\n\nimport refine from '@/qt-ipc/business/refine'\nimport ipcRenderer from '@/qt-ipc/Ipc-renderer'\nimport store from '@/store'\nimport { debounce } from 'lodash'\n\ninterface IRepositories {\n    needCreateMainFragment: Ref<boolean>\n    setNeedCreateMainFragmentTag: (from: any, to: any) => void\n    refineUUID: Ref<string>,\n\n    isDragging: Ref<boolean>\n\n    updateDragStatus: (value: boolean) => Promise<void>\n    doWhenLeave: (from: any, to: any) => Promise<void>,\n    canDestroy: Ref<boolean>,\n    loadQtView: (id: number, userId: number) => void,\n    isFullScreenPreview: Ref<boolean>\n    handleFullPreview: (fullscreen: boolean) => void\n    exitFullPreview: () => void\n}\n\n// 默认精修视口参数\nconst defaultRefineViewParams = {\n    leftListMargin: {\n        right: 345,\n        top: 48,\n        left: 146,\n        bottom: 0\n    }\n}\n\n// 全部预览视口参数\nconst fullPreviewRefineViewParams = {\n    leftListMargin: {\n        right: 45,\n        top: 48,\n        left: 0,\n        bottom: 0\n    }\n}\n\n// 默认图库列表参数\nconst defaultGalleryListViewParams = {\n    fixWidth: 146,\n    leftListPadding: {\n        right: 8,\n        top: 0,\n        left: 8,\n        bottom: 0\n    },\n    leftListMargin: {\n        right: 300,\n        top: 48,\n        left: 0,\n        bottom: 0\n    }\n}\n\nexport default function useGetQtViewRepositories(isDestroy: Ref<boolean>): IRepositories {\n    const needCreateMainFragment = ref(false)\n    const setNeedCreateMainFragmentTag = (from: any, to: any) => {\n        needCreateMainFragment.value = ['index', 'importImage'].includes(from.name)\n    }\n\n    const refineUUID = ref('')\n\n    const isFullScreenPreview = ref(false)\n    const canDestroy = ref(true)\n    const isDragging = ref(true)\n\n    const updateDragStatus = async (value: boolean) => {\n        isDragging.value = value\n        if (refineUUID.value) {\n            await refine.switchGrab(refineUUID.value, value)\n        }\n    }\n\n    const _showFragment = async (id: number, userId: number) => {\n        try {\n            // 精修大图参数\n            const refineViewParams = {\n                isInGallery: false,\n                projectId: id,\n                userId: userId,\n                ...defaultRefineViewParams\n            }\n\n            // 缩略图参数\n            const galleryListViewParams = {\n                isInGallery: false,\n                projectId: id,\n                ...defaultGalleryListViewParams\n            }\n\n            if (isDestroy.value) {\n                return\n            }\n\n            if (needCreateMainFragment.value) {\n                let result = await ipcRenderer.send('on-main-fragment-mount', {\n                    'refine': refineViewParams,\n                    'gallery': galleryListViewParams,\n                    'tab': 'photoFinishing'\n                })\n\n                refineUUID.value = result.refineUUID\n            } else {\n                let result = await refine.showRefineFragment(refineViewParams, galleryListViewParams)\n                if (isDestroy.value) {\n                    return\n                }\n\n                if (result && result.refineUUID) {\n                    refineUUID.value = result.refineUUID\n                } else {\n                    let result = await ipcRenderer.send('on-main-fragment-mount', {\n                        'refine': refineViewParams,\n                        'gallery': galleryListViewParams,\n                        'tab': 'photoFinishing'\n                    })\n                    refineUUID.value = result.refineUUID\n                }\n            }\n            if (isDestroy.value) {\n                return\n            }\n            store.commit('updateExportEffectCfg', {\n                isFromRefineTab: true,\n                refineOrGalleryUUID: refineUUID.value\n            })\n            console.log('refineUUID: ', refineUUID)\n            store.commit('project/_SetRefineUUID', refineUUID.value)\n            await refine.loadGalleryView(refineUUID.value)\n        } catch (e) {\n            debugger\n        }\n        canDestroy.value = true\n    }\n\n\n    // 通过Esc\n    const onEscKeyboard = (e: KeyboardEvent): void => {\n        if (e.key === 'Escape') {\n            handleFullPreview(false)\n        }\n    }\n    const listenerEscKeyboardEvent = (isDestroy = false) => {\n        if (isDestroy) {\n            window.removeEventListener('keyup', onEscKeyboard)\n        } else {\n            window.addEventListener('keyup', onEscKeyboard)\n        }\n    }\n\n    // const onTabKeyboard = (e: KeyboardEvent): void => {\n    //     if (e.key === 'Tab') {\n    //         handleFullPreview(!isFullScreenPreview.value)\n    //     }\n    // }\n    // const listenerTabKeybordEvent = (isDestroy: boolean = false) => {\n    //     if (isDestroy) {\n    //         window.removeEventListener('keyup', onTabKeyboard)\n    //     } else {\n    //         window.addEventListener('keyup', onTabKeyboard)\n    //     }\n    // }\n\n    // onMounted(listenerTabKeybordEvent)\n    // onUnmounted(() => listenerTabKeybordEvent(true))\n\n    // 退出全屏预览模式\n    const exitFullPreview = async () => {\n        if (isDestroy.value) {\n            return\n        }\n        await refine.updateRefineLayout(refineUUID.value, defaultRefineViewParams, { show: true })\n        isFullScreenPreview.value = false\n        listenerEscKeyboardEvent(false)\n    }\n\n    // 进入全屏预览模式\n    const fullPreview = async () => {\n        if (isDestroy.value) {\n            return\n        }\n        await refine.updateRefineLayout(refineUUID.value, fullPreviewRefineViewParams, { show: false })\n        isFullScreenPreview.value = true\n        listenerEscKeyboardEvent()\n    }\n\n    // 全屏预览模式切换\n    const handleFullPreview = debounce(async function (fullscreen: boolean = true) {\n        if (fullscreen) {\n            await fullPreview()\n        } else {\n            await exitFullPreview()\n        }\n    }, 100)\n\n    let qtTimer = ref(0)\n    const loadQtView = (id: number, userId: number) => {\n        nextTick(() => {\n            if (isDestroy.value) {\n                return\n            }\n            canDestroy.value = false\n            if (qtTimer.value) {\n                clearTimeout(qtTimer.value)\n                qtTimer.value = 0\n            }\n            qtTimer.value = setTimeout(async () => {\n                if (isDestroy.value) {\n                    return\n                }\n                await _showFragment(id, userId)\n            }, 100)\n        })\n    }\n\n    const doWhenLeave = async (from: any, to: any) => {\n        console.log('doWhenLeave from : ' + from.name, ' to : ' + to.name)\n        await refine.updateRefineLayout(refineUUID.value, defaultRefineViewParams, { show: false })\n        refine.destroy(refineUUID.value)\n        const ret = await refine.hideRefineFragment(refineUUID.value)\n        if (to.name == 'index' || to.name == 'Login') {\n            await ipcRenderer.send('on-main-fragment-unmount', {})\n            store.commit('refine/_SetActiveNavName', 'beauty')\n            store.commit('refine/_ClearSyncPresetSettingCache')\n            store.commit('project/_SetRefineUUID', '')\n        }\n        console.log('doWhenLeave result ' + JSON.stringify(ret))\n    }\n\n    onUnmounted(() => {\n        if (qtTimer.value) {\n            clearTimeout(qtTimer.value)\n            qtTimer.value = 0\n        }\n    })\n\n    return {\n        refineUUID,\n        isDragging,\n        canDestroy,\n\n        needCreateMainFragment,\n        updateDragStatus,\n\n\n        setNeedCreateMainFragmentTag,\n\n        handleFullPreview,\n        exitFullPreview,\n\n        doWhenLeave,\n        loadQtView,\n        isFullScreenPreview\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',[_vm._v(\"LoadImage: \"+_vm._s(_vm.LoadImage))]),_vm._l((_vm.LoadImageNative),function(val,key){return [_c('div',{key:`LoadImage_${key}`,staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\" \"+_vm._s(key)+\": \"+_vm._s(val)+\" \")])]}),_c('br'),_c('div',[_vm._v(\"ReqServe: \"+_vm._s(_vm.ReqServe))]),_vm._l((_vm.ReqServeNative),function(val,key){return [_c('div',{key:`ReqServe_${key}`,staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\" \"+_vm._s(key)+\": \"+_vm._s(val)+\" \")])]}),_c('br'),_c('div',[_vm._v(\" Process: \"+_vm._s(_vm.Process)+\" \")]),_vm._l((_vm.ProcessNative),function(val,key){return [_c('div',{key:`Process_${key}`,staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\" \"+_vm._s(key)+\": \"+_vm._s(val)+\" \")])]}),_c('br'),_c('div',[_vm._v(\"loading: \"+_vm._s(_vm.loadTime))])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { nextTick, onUnmounted, Ref, ref } from 'vue'\n// @ts-ignore\nimport Driver from '@/components/TsDriver'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport { GuideStoryKey } from '@/constants/constants'\nimport { APP_VERSION } from '@/constants/config'\nimport QtEventFilter, { QtEventFilterType } from '@/utils/QtEventFilter'\n\ninterface IUseRefineGuideRepositories {\n    handleGuideStart: () => void\n    destroy: () => void\n}\n\nexport enum GuideId {\n    NavBarColor = 'guide__refine-nav-bar-color',\n    NavBarBackground = 'guide__refine-nav-bar-background',\n    NavBarCrop = 'guide__refine-nav-bar-crop',\n    NavBarHistory = 'guide__refine-nav-bar-history',\n    PresetSettings = 'guide__refine-preset-settings'\n}\n\nconst CURR_LOCAL_VALUE = '1' // 当前值，数值一致表示已缓存\n\nexport default function useRefineGuideRepositories(): IUseRefineGuideRepositories {\n\n    const { PointGuideImgAdjust, PointGuideBackground, PointGuideCrop, PointGuideHistory, PointGuidePresetSettings } = useRefinePointsRepositories()\n\n    const _onFinishGuide = (): void => {\n        localStorage.setItem(GuideStoryKey.RefineNavBar, CURR_LOCAL_VALUE)\n    }\n\n    const steps1 = [\n        {\n            element: `#${ GuideId.NavBarColor }`,\n            popover: {\n                className: 'first-step-popover-class',\n                title: '色彩调节功能，支持RAW调色',\n                description: '图像调节功能移动到这里了',\n                position: 'left'\n            },\n            onNext: () => PointGuideImgAdjust()\n        },\n        {\n            element: `#${ GuideId.NavBarBackground }`,\n            popover: {\n                title: '一键背景修复&证件照调整',\n                description: '背景调整&证件照换背景移动到这里了',\n                position: 'left'\n            },\n            onNext: () => PointGuideBackground()\n        },\n\n        {\n            element: `#${ GuideId.NavBarCrop }`,\n            popover: {\n                title: '新增裁剪功能',\n                description: '支持对图片进行裁剪&旋转了，证件照裁剪功能也移动到这里了',\n                position: 'left'\n            },\n            onNext: () => PointGuideCrop()\n        },\n\n        {\n            element: `#${ GuideId.NavBarHistory }`,\n            popover: {\n                title: '新增历史记录功能',\n                description: '支持撤销&重做操作了',\n                position: 'left'\n            },\n            onNext: () => {\n                PointGuideHistory()\n                _onFinishGuide()\n            }\n        },\n\n        {\n            element: `#${ GuideId.PresetSettings }`,\n            popover: {\n                title: '',\n                description: '可以自定义模块进行同步啦',\n                position: 'top-right'\n            },\n            onNext: () => {\n                PointGuidePresetSettings()\n                _onFinishGuide()\n            }\n        }\n    ]\n\n    const steps2 = [\n        {\n            element: `#${ GuideId.NavBarCrop }`,\n            popover: {\n                title: '新增裁剪功能',\n                description: '支持对图片进行裁剪&旋转了，证件照裁剪功能也移动到这里了',\n                position: 'left'\n            },\n            onNext: () => {\n                PointGuideCrop()\n            }\n        },\n        {\n            element: `#${ GuideId.PresetSettings }`,\n            popover: {\n                title: '',\n                description: '可以自定义模块进行同步啦',\n                position: 'top-right'\n            },\n            onNext: () => {\n                PointGuidePresetSettings()\n                _onFinishGuide()\n            }\n        }\n    ]\n\n    let timer = 0\n\n    const driver: Ref<Driver | null> = ref(null)\n    const handleGuideStart = (): void => {\n        const value = localStorage.getItem(GuideStoryKey.RefineNavBar)\n        if (value === CURR_LOCAL_VALUE) {\n            return\n        }\n\n        const steps = !!value ? steps2 : steps1\n\n        timer = setTimeout(() => {\n            driver.value = new Driver({\n                autocompleteWait: 10000,\n                autoComplete: true,\n                nextBtnText: '下一步',\n                doneBtnText: '我知道了',\n                padding: 2,\n                opacity: 0.4,\n                allowClose: false,\n                showPreviewButton: false,\n                onCloseClicked: () => _onFinishGuide(),\n                onClose: () => {\n                    QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], true)\n                }\n            })\n            driver.value.defineSteps(steps)\n            nextTick(() => {\n                QtEventFilter.getInstance().process([QtEventFilterType.Mouse, QtEventFilterType.KeyBoard], false)\n                driver.value?.start()\n                _onFinishGuide()\n            })\n        }, 300)\n    }\n\n    onUnmounted(() => {\n        if (timer) {\n            clearTimeout(timer)\n            timer = 0\n        }\n        driver.value = null\n    })\n\n    return {\n        handleGuideStart,\n        destroy: () => {\n        }\n    }\n}\n","<template>\n<div class=\"box\">\n    <div>LoadImage: {{LoadImage}}</div>\n    <template v-for=\"(val, key) in LoadImageNative\">\n        <div :key=\"`LoadImage_${key}`\" style=\"padding-left: 20px\">\n            {{key}}: {{val}}\n        </div>\n    </template>\n    <br/>\n\n    <div>ReqServe: {{ReqServe}}</div>\n    <template v-for=\"(val, key) in ReqServeNative\">\n        <div :key=\"`ReqServe_${key}`\" style=\"padding-left: 20px\">\n            {{key}}: {{val}}\n        </div>\n    </template>\n    <br/>\n\n    <div> Process: {{Process}} </div>\n    <template v-for=\"(val, key) in ProcessNative\">\n        <div :key=\"`Process_${key}`\" style=\"padding-left: 20px\">\n            {{key}}: {{val}}\n        </div>\n    </template>\n    <br/>\n\n    <div>loading: {{loadTime}}</div>\n</div>\n</template>\n\n<script>\nexport default {\n    name: 'CostTime',\n    data() {\n        return{\n            id:-1,\n\n            LoadImage:-1,\n            LoadImageNative: {},\n\n            ReqServe:-1,\n            ReqServeNative: {},\n\n            Process:-1,\n            ProcessNative: {},\n\n            loadTime:-1,\n            lastTime:-1,\n            newTime: -1\n        }\n    },\n    props: {\n        costTimeData: Object,\n        costLastTime: Number,\n        costNewTime: Number,\n    },\n    mounted() {\n    },\n\n    watch: {\n        costTimeData:{\n            handler(val) {\n                if (val) {\n                    let costData = val.data\n\n                    if (costData.id !== this.id) {\n                        this.id = costData.id\n\n                        this.ReqServe = -1\n                        this.ReqServeNative = {}\n\n                        this.LoadImage = -1\n                        this.LoadImageNative = {}\n\n                        this.Process = -1\n                        this.ProcessNative = {}\n                    }\n\n                    let { LoadImage, GenSeed, ReqFile, ReqServe, ServeDur, Alatency, Process, Native } = costData.data;\n\n                    if (LoadImage) {\n                        this.LoadImage = LoadImage\n                    }\n                    if (Process) {\n                        this.Process = Process\n                    }\n                    if (ReqServe) {\n                        this.ReqServe = ReqServe\n                        if (GenSeed) {\n                            this.ReqServeNative[\"GenSeed\"] = GenSeed\n                        }\n                        if (ReqFile) {\n                            this.ReqServeNative[\"ReqFile\"] = ReqFile + \"kb\"\n                        }\n                        if (ServeDur) {\n                            this.ReqServeNative[\"ServeDur\"] = ServeDur\n                        }\n                        if (Alatency) {\n                            this.ReqServeNative[\"Alatency\"] = Alatency\n                        }\n                    }\n\n                    if (Native) {\n                        if (Native.includes(\"LdImg:Decode\")) {\n                            this.LoadImageNative = JSON.parse(Native)\n                        }\n                        else {\n                            this.ProcessNative =  JSON.parse(Native)\n                        }\n                    }\n                }\n            }\n        },\n        costLastTime: {\n            handler(val){\n                if (val) {\n                    this.lastTime = val\n                }\n            }\n        },\n        costNewTime: {\n            handler(val){\n                if (val) {\n                    this.newTime = val\n                    this.loadTime = this.newTime - this.lastTime\n                }\n            }\n        }\n\n    },\n    methods: {\n    }\n}\n</script>\n\n<style scoped>\n.box{\n    padding: 20px;\n    width: 200px;\n    background-color: rgba(0,0,0,0.3);\n    color: #4caf50;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CostTime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CostTime.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CostTime.vue?vue&type=template&id=2fb8f17b&scoped=true&\"\nimport script from \"./CostTime.vue?vue&type=script&lang=js&\"\nexport * from \"./CostTime.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CostTime.vue?vue&type=style&index=0&id=2fb8f17b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb8f17b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"refine-nav-bar border-style border-line-style\"},[_vm._l((_vm.navMenuList),function(item){return [_c('div',{key:item.key,staticClass:\"nav-item-box\",class:{ 'isStaying': _vm.isStaying },on:{\"click\":function($event){item.disabled ? () => {} : _vm.handleClick(item.key)},\"mouseenter\":_vm.onMouseEnter,\"mouseleave\":_vm.onMouseLeave}},[_c('div',{directives:[{name:\"gtag-event\",rawName:\"v-gtag-event\",value:(item.point),expression:\"item.point\"}],staticClass:\"nav-item\",class:{ 'active': _vm.currValue === item.key }},[_c('div',{staticClass:\"guide-placeholder\",attrs:{\"id\":item.guideId}},[_c('i',{staticClass:\"ts-icon\",class:{[item.icon]: true, 'disabled': item.disabled || false }})])]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.dot),expression:\"item.dot\"}],staticClass:\"nav-item-dot\"}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!!item.newDot),expression:\"!!item.newDot\"}],staticClass:\"nav-update-dot\"}),_c('div',{staticClass:\"show-tip\"},[_c('div',{staticClass:\"desc-box\"},[_c('span',{staticClass:\"nav-name\"},[_vm._v(_vm._s(item.name))]),(item.shortcut)?_c('span',{staticClass:\"nav-shortcut\"},[_vm._v(_vm._s(item.shortcut))]):_vm._e()])])])]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { onUnmounted, Ref, ref } from 'vue'\n\nexport interface IRepositories {\n    isStaying: Ref<boolean>\n    onMouseEnter: (e: MouseEvent) => void\n    onMouseLeave: (e: MouseEvent) => void\n}\n\nexport default function useMouseStayRepositories(wait: number = 2000): IRepositories {\n    const isStaying = ref(false)\n    let timer = 0\n    let enterTimer = 0\n\n    const onMouseEnter = (e: MouseEvent) => {\n        if (enterTimer) {\n            clearTimeout(enterTimer)\n        }\n        timer = setTimeout(() => {\n            isStaying.value = true\n        }, wait)\n    }\n\n    const onMouseLeave = (e: MouseEvent) => {\n        if (timer) {\n            clearTimeout(timer)\n            timer = 0\n        }\n\n        enterTimer = setTimeout(() => {\n            isStaying.value = false\n        }, 300)\n    }\n\n    onUnmounted(() => {\n        if (enterTimer) {\n            clearTimeout(enterTimer)\n        }\n\n        if (timer) {\n            clearTimeout(timer)\n            timer = 0\n        }\n        isStaying.value = false\n    })\n\n    return {\n        isStaying,\n\n        onMouseEnter,\n        onMouseLeave\n    }\n}\n","\nimport {\n    ref,\n    computed,\n    watch,\n    onMounted,\n    onUnmounted,\n    PropType,\n    SetupContext, Ref, ComputedRef, reactive, toRefs\n} from 'vue'\nimport store from '@/store'\nimport {INavbarBackgroundDots, INavbarDots} from '@/types/refine-store'\n\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport useRefineGuideRepositories, { GuideId } from '@/composables/guide/useRefineGuideRepositories'\nimport useMouseStayRepositories, { IRepositories } from '@/composables/useMouseStayRepositories'\nimport {checkHasGuideRecord, DictionaryKeys, insertGuideRecord} from '@/universal/datastore/dictionaryDao'\n\nimport { Tooltip } from 'element-ui'\nimport { RefineNavName } from '@/constants/refine'\n\ninterface IProps {\n    value: string,\n    banShortcut: boolean\n    imageLoading: boolean\n    imageInit: boolean\n    beforeChange?: (fromKey: string, toKey: string) => boolean\n}\n\ninterface IMenu {\n    key: string,\n    name: string,\n    icon: string,\n    shortcut?: string,\n    dot: boolean,\n    guideId?: string,\n    point?: () => void\n    backgroundDot: boolean\n    disabled?: boolean\n}\n\ninterface ISetup extends IRepositories {\n    handleClick: (key: string) => void\n    currValue: Ref<string>\n    navMenuList: ComputedRef<IMenu[]>\n    checkBackgroundShow: () => void\n}\n\nexport default {\n    components: {\n        'el-tooltip': Tooltip\n    },\n    props: {\n        value: {\n            type: String,\n            default: ''\n        },\n        banShortcut: {\n            type: Boolean,\n            default: false\n        },\n        beforeChange: {\n            type: Function\n        },\n        imageLoading: {\n            type: Boolean,\n            default: false\n        },\n        imageInit: {\n            type: Boolean,\n            default: false\n        }\n    },\n\n    setup(props: IProps, { emit }: SetupContext): ISetup {\n        const {\n            PointPortraitBeautification,\n            PointImageAdjustment,\n            PointBackgroundAdjustment,\n            PointOperationHistory,\n            PointCropIcon\n        } = useRefinePointsRepositories()\n\n        const currValue = ref(props.value || '')\n        watch(currValue, (val) => emit('input', val))\n        watch(() => props.value, (val) => {\n            currValue.value = val\n        })\n\n        const navbarDot = computed(() => store.getters['refine/navbarDots'] as INavbarDots)\n\n        const newDotTip = reactive({\n            background: false\n        })\n        onMounted(async () => {\n            const result = await checkHasGuideRecord(DictionaryKeys.NavbarBackgroundDot)\n            if (!result) {\n                newDotTip.background = true\n            }\n        })\n\n        const navMenuList = computed(() => {\n            return [\n                {\n                    key: RefineNavName.Palette,\n                    name: '色彩调节',\n                    icon: 'ts-icon-adjust',\n                    // shortcut: 'E',\n                    dot: navbarDot.value[RefineNavName.Palette] || false,\n                    guideId: GuideId.NavBarColor,\n                    point: PointImageAdjustment\n                },\n                {\n                    name: '人像美化',\n                    key: RefineNavName.Beauty,\n                    icon: 'ts-icon-beautify',\n                    // shortcut: 'B'\n                    dot: navbarDot.value[RefineNavName.Beauty] || false,\n                    point: PointPortraitBeautification\n                },\n                {\n                    name: '图像美化',\n                    key: RefineNavName.Background,\n                    icon: 'ts-icon-background',\n                    // shortcut: 'A',\n                    dot: navbarDot.value[RefineNavName.Background] || false,\n                    newDot: newDotTip.background,\n                    guideId: GuideId.NavBarBackground,\n                    point: PointBackgroundAdjustment\n                },\n                {\n                    name: '裁剪、旋转',\n                    key: 'crop',\n                    icon: 'ts-icon-crop',\n                    // shortcut: 'A',\n                    dot: navbarDot.value['crop'] || false,\n                    guideId: GuideId.NavBarCrop,\n                    disabled: props.imageLoading || !props.imageInit,\n                    point: PointCropIcon\n                },\n\n                // {\n                //     name: '手动液化',\n                //     key: RefineNavName.Liquefy,\n                //     icon: 'ts-icon-liquefy',\n                //     // shortcut: 'A',\n                //     dot: navbarDot.value[RefineNavName.Liquefy] || false,\n                //     newDot: newDotTip.background,\n                //     disabled: props.imageLoading\n                //     // guideId: GuideId.NavBarBackground,\n                //     // point: PointBackgroundAdjustment\n                // },\n\n                {\n                    key: RefineNavName.History,\n                    name: '历史记录',\n                    icon: 'ts-icon-history',\n                    // shortcut: 'H',\n                    dot: navbarDot.value[RefineNavName.History] || false,\n                    guideId: GuideId.NavBarHistory,\n                    point: PointOperationHistory\n                }\n            ]\n        })\n\n        const { handleGuideStart, destroy } = useRefineGuideRepositories()\n        onMounted(handleGuideStart)\n        onUnmounted(destroy)\n\n        // const onShortcut = (e) => {\n        //     const { altKey, metaKey, shiftKey, ctrlKey, code } = e\n        //     if (altKey || metaKey || shiftKey || ctrlKey || props.banShortcut) {\n        //         return\n        //     }\n        //\n        //     switch (code) {\n        //         case 'KeyB':\n        //             currValue.value = 'beauty'\n        //             break\n        //         case 'KeyE':\n        //             currValue.value = 'color'\n        //             break\n        //         case 'KeyA':\n        //             currValue.value = 'background'\n        //             break\n        //         case 'KeyH':\n        //             currValue.value = 'history'\n        //             break\n        //     }\n        // }\n\n        // onMounted(() => window.addEventListener('keydown', onShortcut))\n        // onUnmounted(() => window.removeEventListener('keydown', onShortcut))\n\n        const handleClick = async (key) => {\n            if (currValue.value === key) {\n                return\n            }\n\n            if (key === RefineNavName.Background) {\n                await insertGuideRecord(DictionaryKeys.NavbarBackgroundDot)\n                newDotTip.background = false\n            }\n\n            if (props.beforeChange) {\n                const bool = props.beforeChange(currValue.value, key)\n                if (!bool) {\n                    return\n                }\n            }\n\n            currValue.value = key\n        }\n\n        const { onMouseEnter, onMouseLeave, isStaying } = useMouseStayRepositories()\n\n        return {\n            handleClick,\n            currValue,\n            navMenuList,\n            isStaying,\n            onMouseEnter,\n            onMouseLeave\n        }\n    }\n}\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RefineNavBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RefineNavBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RefineNavBar.vue?vue&type=template&id=d29dc72c&scoped=true&\"\nimport script from \"./RefineNavBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./RefineNavBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RefineNavBar.vue?vue&type=style&index=0&id=d29dc72c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d29dc72c\",\n  null\n  \n)\n\nexport default component.exports","type IMode = {\n    default: number,\n    value: number\n}\n\ntype IExtraInfo = {\n    bgCleanMode: IMode\n    bgCleanMooreMode: IMode\n}\n\n/**\n * 额外的图片信息\n * 1、纯色背景、非纯色背景\n */\nexport default class ExtraInfoModel {\n    private _init: boolean = false\n    info: IExtraInfo = {\n        bgCleanMode: {\n            default: -1,\n            value: -1\n        },\n\n        bgCleanMooreMode: {\n            default: -1,\n            value: -1\n        }\n    }\n\n    constructor(data?: { [key: string]: IMode }) {\n        if (data) {\n            const { bgCleanMode, bgCleanMooreMode } = data\n\n            this.info.bgCleanMode.value = bgCleanMode.value\n            this.info.bgCleanMode.default = bgCleanMode.default\n\n            // 不存在默认数值时，同步背景去瑕疵缓存值\n            if (!bgCleanMooreMode) {\n                const defaultValue = data.bgCleanMode.default\n                this.info.bgCleanMooreMode.default = defaultValue\n                this.info.bgCleanMooreMode.value = defaultValue\n            } else {\n                this.info.bgCleanMooreMode.default = bgCleanMooreMode.default\n                this.info.bgCleanMooreMode.value = bgCleanMooreMode.value\n            }\n\n            this._init = true\n        }\n    }\n\n    get init(): boolean {\n        return this._init\n    }\n\n    get bgCleanMooreMode(): IMode {\n        return this.info.bgCleanMooreMode\n    }\n\n    get bgCleanMode(): IMode {\n        return this.info.bgCleanMode\n    }\n\n    getJson(): IExtraInfo {\n        return this.info\n    }\n\n    getJsonStr(): string {\n        try {\n            return JSON.stringify(this.info)\n        } catch (e) {\n            console.warn('[ExtraInfoModel] ', e)\n            return ''\n        }\n    }\n\n    /**\n     * 设置默认值 首次设置\n     * @param value\n     */\n    setDefaultCleanMode(value: number): void {\n        this.info.bgCleanMode.default = value\n        this.info.bgCleanMode.value = value\n\n        this.info.bgCleanMooreMode.default = value\n        this.info.bgCleanMooreMode.value = value\n\n        this._init = true\n    }\n\n    /**\n     * 判断是否需要更新默认值\n     * @param value\n     */\n    isNeedUpdateDefaultMode(value: number): boolean {\n        return this.info.bgCleanMode.default !== value\n            || this.info.bgCleanMooreMode.default !== value\n    }\n\n    /**\n     * 更新默认值\n     * @param value\n     */\n    updateDefaultMode(value: number): void {\n        this.info.bgCleanMode.default = value\n        this.info.bgCleanMooreMode.default = value\n    }\n\n    updateBgCleanMode(value: number): void {\n        this.info.bgCleanMode.value = value\n    }\n\n    updateBgCleanMooreMode(value: number): void {\n        this.info.bgCleanMooreMode.value = value\n    }\n}\n","// @ts-ignore\nimport { v4 as uuidv4 } from 'uuid'\nimport { Optional } from '@/universal/types/foundation'\n\ntype IOperation = {\n    uuid: string,\n    type: string,\n    name: string,\n    disabled: boolean\n}\n\nexport type IOperationActive = IOperation & {\n    active: boolean\n}\n\nexport class OperationStack {\n    private _stack: IOperation[] = []\n    private _limit: number = 10\n    private _allowExpirePop: boolean = false // 是否允许失效记录撤销\n    activeIndex: number = -1\n    currRecord: Optional<IOperation> = null\n\n    constructor() {\n    }\n\n    getRecordStack(): IOperationActive[] {\n        return this._stack.map((item, index) => {\n            return {\n                ...item,\n                active: this.activeIndex === index\n            }\n        })\n    }\n\n    /**\n     * 限制记录\n     * @private\n     */\n    private _limitRecord() {\n        if (this._stack.length > this._limit) {\n            // 是否存在初始记录\n            const hasInitRecord = this._stack[0] && this._stack[0].type === 'init'\n            this._stack.forEach((item, index) => {\n                if (this._stack.length - index > this._limit) {\n                    if (!hasInitRecord || (hasInitRecord && index !== 0)) {\n                        item.disabled = true\n                    }\n                }\n            })\n        }\n    }\n\n    /**\n     * 丢弃或许记录\n     * @private\n     */\n    private _discarding() {\n        if (this.activeIndex >= 0 && (this._stack.length - 1) !== this.activeIndex) {\n            // 取出有效的记录，丢弃后续记录\n            this._stack = this._stack.slice(0, this.activeIndex + 1)\n        }\n    }\n\n    restore(): string | null {\n        if (this._stack.length > 1) {\n            if (!this._allowExpirePop) {\n                const obj = this._stack[this._stack.length - 2]\n                if (obj && obj.disabled) {\n                    return '-2'\n                }\n            }\n\n            this._stack.pop()\n            const uuid = this._stack[this._stack.length - 1].uuid\n            this.activeIndex = this._stack.length - 1\n            return uuid\n        }\n\n        if (this._stack.length === 1) {\n            this.clear()\n            return '-1'\n        }\n\n        return null\n    }\n\n    private _activeIndex(index: number): string {\n        if (!this._allowExpirePop) {\n            const obj = this._stack[index]\n            if (obj && obj.disabled) {\n                return '-2'\n            }\n        }\n\n        let uuid = this._stack[index].uuid\n        this.activeIndex = index\n        return uuid\n    }\n\n    previous(): string | null {\n        if (this._stack.length > 1 && this.activeIndex > 0) {\n            const preIndex = this.activeIndex - 1\n            return this._activeIndex(preIndex)\n        }\n\n        return null\n    }\n\n    next(): string | null {\n        if (this._stack.length > 1 && this.activeIndex >= 0) {\n            const preIndex = this.activeIndex + 1\n            return this._activeIndex(preIndex)\n        }\n\n        return null\n    }\n\n    createInitRecord(uuid: string, name: string = 'init'): string {\n        const record: IOperation = {\n            uuid,\n            type: 'init',\n            name,\n            disabled: false\n        }\n        this.currRecord = record\n        this.save(false)\n        return record.uuid\n    }\n\n    createRecord(type: string, uid: string, name: string = ''): string {\n        const uuid = uid || uuidv4()\n        const record: IOperation = {\n            uuid,\n            type,\n            name: name || type,\n            disabled: false\n        }\n\n        this.currRecord = record\n        return record.uuid\n    }\n\n    activeOperation(uuid: string): this {\n        const findIndex = this._stack.findIndex(item => item.uuid === uuid)\n        if (findIndex >= 0) {\n            this.activeIndex = findIndex\n        }\n        return this\n    }\n\n    activeRecord(): IOperation | undefined {\n        return this._stack[this.activeIndex]\n    }\n\n    save(needActive: boolean = true): void {\n        if (!this.currRecord) return\n        this._discarding()\n        this._stack.push(this.currRecord)\n        this._limitRecord()\n\n        if (needActive) {\n            this.activeIndex = this._stack.length - 1\n        }\n    }\n\n    clear(): void {\n        this._stack = []\n        this.activeIndex = -1\n        this.currRecord = null\n    }\n\n    destroy(): void {\n        this.clear()\n    }\n}\n\nexport default OperationStack\n","import EventEmitter from '@/utils/event-emitter'\nimport { bindMany } from '@/view-model/photoControl/utils/commonUtil'\nimport { PtListenerEvent } from '@/view-model/photoControl/contants/listenerEvent'\nimport { Tool, ToolRecordName } from '@/view-model/photoControl/controlTools/contants/config'\nimport refine, { RefineListenerEvent } from '@/qt-ipc/business/refine'\nimport {\n    initRecordNameMap,\n    QtPhotoMode,\n    QtToolKey,\n    RECORD_INIT_UUID,\n    RecordType\n} from '@/view-model/photoControl/contants/operateEnum'\nimport { SignalKeyboardEventName } from '@/qt-ipc/constants/common'\nimport OperationStack from '@/view-model/photoControl/utils/OperationStack'\nimport BaseToolControl from '@/view-model/photoControl/controlTools/BaseToolControl'\nimport BaseTool from '@/view-model/photoControl/controlTools/impl/BaseTool'\n\nexport default abstract class PainterBaseControl extends EventEmitter {\n    loaded = false // 是否初始化\n    isDestroy: boolean = false // 是否销毁实例\n\n    readonly thumbnailId: number = -1\n    photoId: string = ''\n    refineUUID: string = ''\n\n    operationStack = new OperationStack()\n\n    abstract toolControl: BaseToolControl<BaseTool>\n    abstract qtToolKey: QtToolKey\n    abstract qtPhotoMode: QtPhotoMode\n\n    protected constructor(id: number) {\n        super()\n        this.thumbnailId = id\n        bindMany(this, 'addKeyDownEvent', 'revRecordCallback')\n    }\n\n    get tool(): Tool {\n        return this.toolControl.tool\n    }\n\n    private _emitHistoryChange() {\n        this.emit(PtListenerEvent.HistoryUpdate, this.operationStack.getRecordStack().reverse())\n    }\n\n    // 监听历史记录毁掉\n    revRecordCallback(data: any): void {\n        if (data.id !== this.thumbnailId) {\n            return\n        }\n\n        if (data.type === 'init') {\n            this.onInitCompleted(data)\n            return\n        }\n\n        this._createRecord(data.type, data.uuid)\n    }\n\n    // 监听初始化完成回调\n    onInitCompleted(data: any): void {\n        this.loaded = true\n\n        // 初始化历史记录\n        this._createRecord(RecordType.Init, data.uuid)\n        this.listenerKeyboard() // 监听键盘事件\n\n        // 激活工具\n        this.toolControl.mounted()\n        this.changeTool(this.toolControl.tool)\n    }\n\n    _createRecord(type = RecordType.Tool, uuid: string = ''): string {\n        let res = ''\n\n        switch (type) {\n            case RecordType.Init:\n                res = this.operationStack.createInitRecord(RECORD_INIT_UUID, initRecordNameMap[this.qtPhotoMode] || RECORD_INIT_UUID)\n                this.operationStack.activeOperation(RECORD_INIT_UUID)\n                break\n\n            case RecordType.Reset:\n                res = this.operationStack.createRecord(RecordType.Reset, uuid, ToolRecordName[RecordType.Reset])\n                this.operationStack.save()\n                break\n\n            case RecordType.Tool:\n                res = this.operationStack.createRecord(this.tool, uuid, ToolRecordName[this.tool])\n                this.operationStack.save()\n                break\n        }\n\n        this._emitHistoryChange()\n\n        return res\n    }\n\n    init(): void {\n        refine.addListener(RefineListenerEvent.ThumbnailPainterRecord, this.revRecordCallback)\n        refine.useProcessMode(this.refineUUID, this.photoId, this.qtPhotoMode).then(() => {\n        })\n    }\n\n    setRefineUUID(photoId: string, refineUUID: string): void {\n        this.photoId = photoId\n        this.refineUUID = refineUUID\n    }\n\n\n    /**\n     * 切换工具\n     * 需要切换鼠标显示状态\n     * @param tool\n     */\n    changeTool(tool: Tool): this {\n        if (!this.loaded) return this\n\n        const useTool = this.toolControl.changeTool(tool).activeTool\n        if (!useTool) return this\n\n        refine.switchTool(this.refineUUID, this.photoId, this.qtToolKey, {\n            ...useTool.getDataForAlgorithm()\n        }).then(() => {\n        })\n\n        return this\n    }\n\n    /**\n     * 重置效果\n     */\n    resetPicture(): this {\n        // const uuid = this._createRecord('reset')\n        // if (uuid) {\n        //     this.webglCanvas.resetMaskTraceColorFrameBuffer(uuid);\n        //     this.showResetDefaultMask = false\n        // }\n        return this\n    }\n\n    closeProcessMode(mode: number) {\n        if (!this.loaded) return\n        this.loaded = false\n\n        refine.closeProcessMode(this.refineUUID, this.photoId, mode).then(() => {\n        })\n    }\n\n    /**\n     * 修改历史记录\n     * @param uuid\n     */\n    async locatePainterStep(uuid: string): Promise<void> {\n        if (!uuid) return\n\n        const record = this.operationStack.activeOperation(uuid).activeRecord()\n        if (!record) {\n            return\n        }\n\n        if (uuid === RECORD_INIT_UUID) {\n            await refine.locatePainterStep(this.refineUUID, this.photoId, '-1', this.qtPhotoMode)\n        } else {\n            await refine.locatePainterStep(this.refineUUID, this.photoId, record.uuid, this.qtPhotoMode)\n        }\n\n        this._emitHistoryChange()\n    }\n\n    /**\n     * 键盘按下事件回调\n     * @param eventName\n     */\n    addKeyDownEvent(eventName: SignalKeyboardEventName): void {\n        if ([SignalKeyboardEventName.Undo, SignalKeyboardEventName.Redo].includes(eventName)) {\n            // 初始记录不允许撤销\n            const activeRecord = this.operationStack.activeRecord()\n            if (activeRecord && activeRecord.uuid === RECORD_INIT_UUID\n                && SignalKeyboardEventName.Undo === eventName) {\n                return\n            }\n\n            const uuid = eventName === SignalKeyboardEventName.Undo\n                ? this.operationStack.previous()\n                : this.operationStack.next()\n\n            if (!uuid) {\n                return\n            }\n\n            switch (uuid) {\n                case '-1':\n                    this.resetPicture()\n                    break\n                case '-2':\n                    this.emit(PtListenerEvent.HistoryExpired)\n                    break\n                default:\n                    this.locatePainterStep(uuid).then(() => {\n                    })\n                    break\n            }\n        }\n    }\n\n\n    /**\n     * 监听销毁键盘事件\n     * @param isDestroy\n     */\n    listenerKeyboard(isDestroy: boolean = false): void {\n        if (isDestroy) {\n            refine.removeListener(RefineListenerEvent.signalMouseAndKeyboardEvent)\n        } else {\n            refine.addListener(RefineListenerEvent.signalMouseAndKeyboardEvent, this.addKeyDownEvent)\n        }\n    }\n\n    /**\n     * 实例销毁\n     */\n    destroy(): void {\n        this.isDestroy = true\n\n        this.operationStack.destroy()\n        this.toolControl.unmounted()\n\n        this.listenerKeyboard(true)\n\n        // 移除所有监听事件\n        this.removeAllListener(PtListenerEvent.HistoryExpired)\n        this.removeAllListener(PtListenerEvent.HistoryUpdate)\n\n        refine.removeListener(RefineListenerEvent.ThumbnailPainterRecord)\n    }\n}\n","import refine from '@/qt-ipc/business/refine'\n\nimport { PtListenerEvent } from '@/view-model/photoControl/contants/listenerEvent'\nimport { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport {\n    RECORD_INIT_UUID,\n    OperateDefectMode,\n    QtPhotoMode,\n    QtToolKey,\n    RecordType\n} from '@/view-model/photoControl/contants/operateEnum'\n\nimport PainterBaseControl from '@/view-model/photoControl/PainterBaseControl'\nimport ControlTools from './controlTools/DefectToolControl'\nimport DefectTool from '@/view-model/photoControl/controlTools/impl/DefectTool'\n\nexport default class PainterControl extends PainterBaseControl {\n\n    toolControl: ControlTools = ControlTools.getInstance()\n    private _isDragging: boolean = false            // 独立拖拽状态\n    private _showResetDefaultMask: boolean = false  // 是否显示重置mask初始状态的按钮\n    private _hasChangedMask: boolean = false        // 是否存在变更后的mask\n\n    qtPhotoMode = QtPhotoMode.Defect\n    qtToolKey = QtToolKey.DefectPainter\n\n    constructor(id: number) {\n        super(id)\n    }\n\n    /**\n     * 是否正在使用工具\n     */\n    get isUseTool(): boolean {\n        return this.isDragging ? false : !!this.tool\n    }\n\n    get isDragging(): boolean {\n        return this._isDragging\n    }\n\n    set isDragging(value: boolean) {\n        this._isDragging = value\n        this.emit(PtListenerEvent.DragStateChanged, this._isDragging)\n    }\n\n    set showResetDefaultMask(value: boolean) {\n        this._showResetDefaultMask = value\n\n        this.emit(PtListenerEvent.ShowResetDefaultMask, this._showResetDefaultMask)\n    }\n\n    // 监听初始化完成回调\n    onInitCompleted(data: any): void {\n        console.debug('[DefectControl] init: useProcessMode success !')\n\n        if (typeof data.paintMaskIsEmpty === 'boolean') {\n            this._hasChangedMask = !data.paintMaskIsEmpty\n            this.showResetDefaultMask = this._hasChangedMask\n        }\n\n        super.onInitCompleted(data)\n    }\n\n    _createRecord(type: RecordType, uuid: string): string {\n        if (type === RecordType.Tool) {\n            this.showResetDefaultMask = true\n        }\n\n        return super._createRecord(type, uuid)\n    }\n\n    setRefineUUID(photoId: string, refineUUID: string): void {\n        this.photoId = photoId\n        this.refineUUID = refineUUID\n    }\n\n    /**\n     * 切换工具\n     * 需要切换鼠标显示状态\n     * @param tool\n     */\n    changeTool(tool: Tool): this {\n        this.isDragging = false\n        const useTool = this.toolControl.changeTool(tool).activeTool as DefectTool\n        if (!useTool) return this\n\n        const { size, feather, opacity } = useTool?.getDataForAlgorithm()\n        console.log(`[PainterControl] isEraser: ${ useTool?.isEraser }, size: ${ size }, feather: ${ feather }, opacity: ${ opacity }`)\n\n        refine.switchTool(this.refineUUID, this.photoId, this.qtToolKey, {\n            isEraser: useTool.isEraser,\n            ...useTool.getDataForAlgorithm()\n        }).then(() => {\n        })\n\n        return this\n    }\n\n    /**\n     * 修改历史记录\n     * @param uuid\n     */\n    changeHistory(uuid: string): void {\n        if (!uuid) return\n\n        // 点击\"开始涂抹\"时，若存在已变更记录则显示重置状态\n        if (uuid === RECORD_INIT_UUID) {\n            this.showResetDefaultMask = this._hasChangedMask\n        } else {\n            const record = this.operationStack.activeOperation(uuid).activeRecord()\n            if (!record) {\n                return\n            }\n            this.showResetDefaultMask = record.type !== 'reset'\n        }\n\n        this.locatePainterStep(uuid).then(() => {\n        })\n    }\n\n    // 设置涂抹mask\n    setRemoveDefectivePaintMask(): void {\n        if (!this.loaded) {\n            return\n        }\n        refine.handleRemoveDefectivePaintMask(this.refineUUID, this.photoId, OperateDefectMode.Save)\n        this.destroy()\n    }\n\n    cancelRemoveDefectivePaintMask(): void {\n        if (!this.loaded) {\n            return\n        }\n        refine.handleRemoveDefectivePaintMask(this.refineUUID, this.photoId, OperateDefectMode.Cancel)\n        this.destroy()\n    }\n\n    resetPainterRecord(): void {\n        if (!this.loaded) {\n            return\n        }\n        refine.handleRemoveDefectivePaintMask(this.refineUUID, this.photoId, OperateDefectMode.Reset)\n    }\n\n    /**\n     * 实例销毁\n     */\n    destroy(): void {\n        super.destroy()\n\n        // 移除所有监听事件\n        this.removeAllListener(PtListenerEvent.DragStateChanged)\n        this.removeAllListener(PtListenerEvent.InitSize)\n        this.removeAllListener(PtListenerEvent.ShowResetDefaultMask)\n    }\n}\n","import refine, { RefineListenerEvent, RefineThumbnailEventId } from '@/qt-ipc/business/refine'\nimport EventEmitter from '@/utils/event-emitter'\nimport { debounce } from 'lodash'\n\nimport { IOptionObject, Optional } from '@/types'\nimport {\n    IAIResponse,\n    ICropInfo,\n    IExtraInfo,\n    IHisData,\n    IImageStatus, IProcessCode,\n    IThumbnail,\n    IThumbnailEvent\n} from '@/qt-ipc/types/refine'\nimport { ImageLoadErrorCode, ImageLoadingStatus, ImageType, PresetSuitIdType } from '@/universal/types/constants'\nimport { EffectAlgoVersion, EffectParamEnum } from '@/constants/presetParams/ParamEnum'\n\nimport PaletteParamsViewModel from './paletteParamsViewModel'\nimport BeautifyParamsViewModel from './beautifyParamsViewModel'\n\nimport PersonEffectItemModel from '@/model/EffectsModel/PersonEffectItemModel'\nimport HslParamModel from '@/model/ParamsModel/HslParamModel'\nimport PersonParamModel from '@/model/ParamsModel/PersonParamModel'\nimport WhiteBalanceParamModel from '@/model/ParamsModel/WhiteBalanceParamModel'\nimport PresetSuitModel from '@/model/presetSuit/PresetSuitModel'\nimport ExtraInfoModel from '@/model/ExtraInfoModel'\nimport AlgoVersionModel from '@/model/AlgoVersionModel/AlgoVersionModel'\n// @ts-ignore\nimport { getLastPathName, hexToInt } from '@/utils/utils'\nimport PainterControl from './photoControl/DefectControl'\nimport EffectModel from '@/model/EffectsModel/EffectModel'\nimport { RefineProcessCodeMapping } from '@/constants/constants'\nimport NodeApi from '@/qt-ipc/node-api'\nimport { MemoryMonitor } from '@/utils/monitor/memoryMonitor'\nimport { CLIENT_NAME } from '@/universal/types/config'\nimport { ICropAndRotateObject } from '@/types/refine'\nimport LiquefyControl from '@/view-model/photoControl/LiquefyControl'\nimport { OperateCropMode, QtPhotoMode, QtPhotoOperate } from '@/view-model/photoControl/contants/operateEnum'\n\n\n// 可监听事件列表\nexport enum PhotoCtrlListenerEvent {\n    Notify = 'notify',\n    Status = 'status',\n    Scale = 'scale',\n    ExtraInfo = 'extra-info',\n    Error = 'error',\n    PresetJsonUpdate = 'preset-update',\n    PresetSuitUpdate = 'preset-suit-id-update',\n    AIResponse = 'ai-response',\n    UpdateHisData = 'hisData',\n    UpdateCropInfo = 'updateCropInfo',\n    UpdatePainterInfo = 'updatePainterInfo',\n    UpdateCostTime = 'updateCostTime'\n}\n\nexport enum PreviewMode {\n    PreviewAll = 'previewAll',\n    OnlyPreviewPalette = 'onlyPreviewPalette'\n}\n\nexport default class PhotoControl extends EventEmitter {\n    userId: number\n    projectId: number\n\n    thumbnailModel: IThumbnail\n    imgIndex: number = -1\n    isDestroy: boolean = false\n\n    refineUUID: string\n    photoID: string = ''\n\n    paletteViewModel: Optional<PaletteParamsViewModel> = null\n    beautifyViewModel: Optional<BeautifyParamsViewModel> = null\n    extraInfoModel: Optional<ExtraInfoModel> = null\n    exifInfo: IOptionObject<string | number> = {}\n\n    painterControl: Optional<PainterControl> = null\n    liquefyControl: Optional<LiquefyControl> = null\n\n    private _isLoadingThumb = false // 是否加载过缩略图\n    private _thumbnailLoading = false\n    private _imageLoading = false\n    private _algorithmLoading = false\n    private _maskLoading = false\n    private _loadingText = ''\n\n    private isPainting: boolean = false // 是否正在涂抹\n\n    updateTime: number = +new Date()\n    isSetEffectHis: boolean = false\n\n    private _paintRemoveDefectiveMaskIsEmpty: boolean = true\n    private _allowPainter: boolean = false\n\n    private _isOnlyPreviewPalette: boolean = false\n\n    constructor(userId: number, thumbnailModel: IThumbnail, projectId: number, refineUUID: string) {\n        super()\n        MemoryMonitor.shareInstance().addObject(this)\n        this.userId = userId\n        this.projectId = projectId\n\n        this.thumbnailModel = thumbnailModel\n        this.refineUUID = refineUUID\n        this.registerListener()\n    }\n\n    get thumbnailId(): number {\n        return this.thumbnailModel.id || -1\n    }\n\n    get imgFormat(): number {\n        return this.thumbnailModel.imgFormat\n    }\n\n    getPhotoControlInfo(): any {\n        return {\n            refineUUID: this.refineUUID,\n            projectId: this.projectId,\n            photoID: this.photoID,\n            imgPath: this.thumbnailModel.imgPath,\n            thumbnailId: this.thumbnailId\n        }\n    }\n\n    /**\n     * 是否是raw图\n     */\n    get isRaw(): boolean {\n        return this.imgFormat === ImageType.Raw\n    }\n\n    get imgPath(): string {\n        return this.thumbnailModel.imgPath\n    }\n\n    get allowModifyGender(): boolean {\n        return !this._thumbnailLoading && !this._imageLoading\n    }\n\n    // 效果图加载完成\n    get effectLoaded(): boolean {\n        return !this._thumbnailLoading && !this._imageLoading && !this._algorithmLoading\n    }\n\n    get allowPainter(): boolean {\n        return this.effectLoaded && this._allowPainter\n    }\n\n    get loading(): boolean {\n        return this._thumbnailLoading\n            || this.quickCancelImageLoading\n            || this._algorithmLoading\n            || this._maskLoading\n    }\n\n    // 原图loading状态\n    get quickCancelImageLoading(): boolean {\n        // 无效果情况下，加载完缩略图 取消原图loading\n        if (this.thumbnailModel.presetSuitId === PresetSuitIdType.NoEffect) {\n            return (!this._isLoadingThumb && this._imageLoading)\n        }\n        return this._imageLoading\n    }\n\n    emit(event: string, ...data: any[]): this {\n        if (this.isDestroy) {\n            return this\n        }\n        return super.emit(event, ...data)\n    }\n\n    registerListener(): void {\n        refine.addListener(RefineListenerEvent.ThumbnailStatus, (data: IImageStatus) => {\n            if (data.id !== this.thumbnailId) {\n                return\n            }\n\n            if (data.status > 0) {\n                this._updateLoadingStatus(data.status)\n            } else {\n                // 图片加载异常提示\n                const fileName = getLastPathName(this.thumbnailModel.imgPath)\n                let msg = `文件: ${ fileName }加载失败`\n                if (data.code === ImageLoadErrorCode.COMPLETE_CODE_UN_SUPPORT_IMAGE_FORMAT) {\n                    msg = `${ CLIENT_NAME }暂时无法打开此文件`\n                    NodeApi.getExport().asyncReportRawShowError({\n                        path: this.thumbnailModel.imgPath,\n                        id: this.thumbnailModel.id\n                    })\n                }\n                else if (data.code === ImageLoadErrorCode.COMPLETE_CODE_FAILED_GENERATE_SEED) {\n                    // 菊花消失，且不弹窗，底层seed生成失败，不弹窗，类似无网络\n                    this._updateLoadingStatus(ImageLoadingStatus.EffectLoaded)//data.status\n                    this.emit(PhotoCtrlListenerEvent.Notify, \"底层处理失败，请重试\")\n                    return;\n                }\n                this.emit(PhotoCtrlListenerEvent.Error, {\n                    ...data,\n                    message: msg\n                })\n            }\n        })\n\n        refine.addListener(RefineListenerEvent.ThumbnailExtraInfo, (data: IExtraInfo) => {\n            if (data.id !== this.thumbnailId) {\n                return\n            }\n\n            if (this.isRaw) {\n                this.exifInfo = data.extendInfo.exifInfo\n                this._updateExifInfo()\n            }\n\n            this.emit(PhotoCtrlListenerEvent.ExtraInfo, data, this)\n\n            if (!this.isSetEffectHis) {\n                this.updateHisData(data.extendInfo.hisData)\n            }\n        })\n\n        refine.addListener(RefineListenerEvent.ThumbnailAIResponse, (data: IAIResponse) => {\n            if (data.id !== this.thumbnailId) {\n                return\n            }\n\n            const { extraInfo, bgCleanMode } = data\n\n            if (typeof bgCleanMode !== 'undefined') {\n                this.initExtraInfoModel(bgCleanMode, extraInfo)\n            }\n\n            this.emit(PhotoCtrlListenerEvent.AIResponse, data, this)\n        })\n\n        refine.addListener(RefineListenerEvent.ThumbnailScale, debounce((data: any) => {\n            if (data.id !== this.thumbnailId) {\n                return\n            }\n            this.emit(PhotoCtrlListenerEvent.Scale, data.scale * 100)\n        }, 30, {\n            leading: true\n        }))\n\n        refine.addListener(RefineListenerEvent.SignalThumbnailEvent, (res: IThumbnailEvent) => {\n            if (res.id !== this.thumbnailId) {\n                return\n            }\n\n            switch (res.eventId) {\n                case RefineThumbnailEventId.UpdateHisData:\n                    this.updateHisData(res.data as IHisData)\n                    break\n\n                case RefineThumbnailEventId.CropInfo:\n                    this.updateCropInfo(res.data as ICropInfo)\n                    break\n\n                case RefineThumbnailEventId.UpdatePainterInfo:\n                    this._paintRemoveDefectiveMaskIsEmpty = res.data.paintRemoveDefectiveMaskIsEmpty\n                    this._allowPainter = res.data.allowPainter || false\n                    this._updatePainterInfo()\n                    break\n\n                case RefineThumbnailEventId.CostTimeRecorder:\n                    this.updateCostTimeData(res)\n                    //res.data\n                    break\n\n                case RefineThumbnailEventId.ProcessCode:\n                    this._updateProcessMessage(res.data as IProcessCode)\n                    break\n\n                case RefineThumbnailEventId.Rotate:\n                    this._updateRotate(res.data as { angle: number })\n                    break\n\n                case RefineThumbnailEventId.FinishCrop:\n                    this.emit(RefineThumbnailEventId.FinishCrop)\n                    break\n\n                case RefineThumbnailEventId.ChangeRatio:\n                    this._updateCropRatio(res.data)\n                    break\n\n                case RefineThumbnailEventId.PresetUpdate:\n                    this._onPresetUpdate(res.data)\n                    break\n            }\n        })\n    }\n\n    private _onPresetUpdate(data: any) {\n        console.debug('RefineThumbnailEventId.PresetUpdate: ', data)\n        let beautifyJson = null\n        let paletteJson = null\n        try {\n            beautifyJson = JSON.parse(data.configJsonStr)\n            paletteJson = JSON.parse(data.toningConfigStr)\n        } catch (e) {\n        }\n\n        const beautifyViewModel = new BeautifyParamsViewModel(beautifyJson, null, this.userId, data.path)\n        const paletteViewModel = new PaletteParamsViewModel({\n            json: paletteJson,\n            id: '',\n            imgFormat: this.imgFormat,\n            userId: this.userId\n        })\n\n        this.beautifyViewModel = beautifyViewModel\n        this.updateBgCleanMode()\n\n        this.paletteViewModel = paletteViewModel\n        if (this.isRaw) {\n            this._updateExifInfo()\n        }\n\n        this.emit(PhotoCtrlListenerEvent.PresetSuitUpdate, {\n            lastPresetSuitId: data.lastPresetSuitId,\n            presetSuitId: data.presetSuitId,\n            presetId: data.presetId\n        })\n\n        this.emit(PhotoCtrlListenerEvent.PresetJsonUpdate, this.beautifyViewModel, this.paletteViewModel)\n    }\n\n    private _updateCropRatio(data: any) {\n        const model = this.beautifyViewModel?.cropModel\n        if (!model) {\n            return\n        }\n        model.setRatio(data)\n    }\n\n    private _updateRotate(data: { angle: number }) {\n        const rotateModel = this.beautifyViewModel?.setRotate(data.angle, 'angle').rotateModel\n        if (!rotateModel) {\n            return\n        }\n\n        this.emit('on-rotate', rotateModel.rotate)\n    }\n\n    private _updateProcessMessage(data: IProcessCode) {\n        const { code, curr, total } = data\n        const typeText = RefineProcessCodeMapping[code] || ''\n        this._loadingText = `正在处理${ typeText }(${ curr }/${ total })`\n        this.emit(PhotoCtrlListenerEvent.Status, {\n            loading: this.loading,\n            loadingText: this._loadingText,\n            allowModifyGender: this.allowModifyGender\n        })\n    }\n\n    private _updateLoadingStatus(status: ImageLoadingStatus): void {\n        switch (status) {\n            case ImageLoadingStatus.ThumbnailLoading:\n                this._thumbnailLoading = true\n                this._isLoadingThumb = false\n                break\n            case ImageLoadingStatus.ThumbnailLoaded:\n                this._thumbnailLoading = false\n                this._isLoadingThumb = true\n                break\n            case ImageLoadingStatus.OriginLoading:\n                this._imageLoading = true\n                break\n            case ImageLoadingStatus.OriginLoaded:\n                this._imageLoading = false\n                break\n            case ImageLoadingStatus.EffectLoading:\n                this._allowPainter = false\n                this._algorithmLoading = true\n                break\n            case ImageLoadingStatus.EffectLoaded:\n                this._algorithmLoading = false\n                break\n            case ImageLoadingStatus.MaskLoading:\n                this._maskLoading = true\n                break\n            case ImageLoadingStatus.MaskLoaded:\n                this._maskLoading = false\n                break\n        }\n\n        // console.debug(\" \")\n        // console.debug(`%c_updateLoadingStatus: status: ${status}`, \"color: red\")\n        // console.debug(\"_updateLoadingStatus: _thumbnailLoading\", this._thumbnailLoading)\n        // console.debug(\"_updateLoadingStatus: _imageLoading\", this._imageLoading)\n        // console.debug(\"_updateLoadingStatus: _algorithmLoading\", this._algorithmLoading)\n        // console.debug(\"_updateLoadingStatus: _maskLoading\", this._maskLoading)\n\n        this.emit(PhotoCtrlListenerEvent.Status, {\n            loading: this.loading,\n            effectLoaded: this.effectLoaded,\n            loadingText: this._loadingText,\n            allowModifyGender: this.allowModifyGender\n        })\n\n        this._updatePainterInfo()\n    }\n\n    // 更新色温色调数据\n    private _updateExifInfo() {\n        const data = this.exifInfo\n        if (this.paletteViewModel && Object.keys(data).length > 0) {\n            this.paletteViewModel.setBaseParam(EffectParamEnum.EnhanceEditColorTemperature, data.oriWbICC as number)\n            this.paletteViewModel.setBaseParam(EffectParamEnum.EnhanceEditHue, data.oriWbTint as number)\n        }\n    }\n\n    private updateHisData(data: IHisData): void {\n        let hisData = {}\n        if (data) {\n            hisData = {\n                red: data.red ? hexToInt(data.red) : [],\n                green: data.green ? hexToInt(data.green) : [],\n                blue: data.blue ? hexToInt(data.blue) : []\n            }\n            this.isSetEffectHis = true\n        } else {\n            console.warn('updateHisData: data is null')\n        }\n        this.emit(PhotoCtrlListenerEvent.UpdateHisData, hisData)\n    }\n\n    private updateCropInfo(data: ICropInfo): void {\n        if (data.isValid) {\n            this.emit(PhotoCtrlListenerEvent.UpdateCropInfo, {\n                cropWidth: data.cropRoi.width,\n                cropHeight: data.cropRoi.height\n            })\n        } else {\n            this.emit(PhotoCtrlListenerEvent.UpdateCropInfo, {\n                cropWidth: 0,\n                cropHeight: 0\n            })\n        }\n    }\n\n    private _updatePainterInfo(): void {\n        this.emit(PhotoCtrlListenerEvent.UpdatePainterInfo, {\n            paintRemoveDefectiveMaskIsEmpty: this._paintRemoveDefectiveMaskIsEmpty,\n            allowPainter: this.allowPainter\n        })\n    }\n\n    //更新耗时时间\n    private updateCostTimeData(data: object): void {\n        this.emit(PhotoCtrlListenerEvent.UpdateCostTime, {\n            data\n        })\n    }\n\n    async start(isOnlyPaletteEffect: boolean = false): Promise<void> {\n        this.updateTime = +new Date()\n        if (isOnlyPaletteEffect) {\n            this._isOnlyPreviewPalette = true\n        }\n        console.log('start refineUUID: ', this.refineUUID)\n        this.photoID = await refine.loadImage(this.refineUUID, <number>this.thumbnailModel.id, isOnlyPaletteEffect)\n    }\n\n    getParamsJson(): any {\n        return {\n            beautifyJson: this.beautifyViewModel?.parseToJson() || null,\n            paletteJson: this.paletteViewModel?.parseToJson() || null\n        }\n    }\n\n    reloadProcessImage(mode = ''): void {\n        refine.reloadProcessImage(this.refineUUID, this.photoID, mode)\n\n        if (mode === PreviewMode.OnlyPreviewPalette) {\n            this._isOnlyPreviewPalette = true\n        } else if (mode === PreviewMode.PreviewAll) {\n            this._isOnlyPreviewPalette = false\n        }\n    }\n\n    async onApplyPresetClick(presetSuitModel: PresetSuitModel): Promise<void> {\n        // 如果是\"无效果\"的预设，则已处理图标消失；如果是其他的预设，则显示已处理图标\n        if (presetSuitModel.id === PresetSuitIdType.NoEffect) {\n            // 无效果需清除涂抹mask\n            await this.resetRemoveDefectivePaintMask()\n            await this.resetLiquefyMask()\n        }\n        await refine.applyPresetSuit(this.refineUUID, this.photoID, presetSuitModel.id + '', presetSuitModel.name)\n    }\n\n\n    /**\n     * 图像调节 调整\n     * @params data\n     */\n    async onChangeColor(data: IOptionObject<number | string>[], realtime: boolean = false, ext: string): Promise<void> {\n        if (!this.paletteViewModel) return\n\n        const allKeys = data.map(item => item.key) as string[]\n        const updateKeys = this.paletteViewModel.updateParams(data)\n        const checkModelKeys = realtime ? updateKeys : allKeys\n        const models = this.paletteViewModel.getParamsModel(checkModelKeys)\n\n        // 过滤滤镜程度情况\n        if (!(models.length === 1 && models[0].flag === 300)) {\n            if (!this._isOnlyPreviewPalette && realtime) return\n        }\n\n        this.setParamValueToTsImageIO(models, false, 'palette', realtime, ext)\n    }\n\n    /**\n     * 人像美化调整\n     * @params data\n     */\n    async onChangeBeautify(data: IOptionObject<number | string>[], realtime: boolean = false, ext: string): Promise<void> {\n        if (!this.beautifyViewModel) return\n\n        const updateKeys = this.beautifyViewModel?.updateParams(data)\n        const allKeys = data.map(item => item.key) as string[]\n\n        const reloadBeautifyEffect = this.beautifyViewModel?.needReloadThumbnailByModify(updateKeys)\n        if (reloadBeautifyEffect) {\n            const faceSurgery = data.find((item: { [key: string]: number | string }) => item.key === EffectAlgoVersion.FaceSurgery)\n            if (faceSurgery && faceSurgery.value === 'V1') {\n                this.emit('notify', '当前已开启旧版面部重塑效果')\n            }\n        }\n\n        // 手动修改纯色背景去瑕疵模式\n        // @ts-ignore\n        const isIncludeBgClean = updateKeys.some((key: string) => [EffectParamEnum.BgCleanMode, EffectParamEnum.BgCleanMooreMode].includes(key))\n        if (isIncludeBgClean && this.extraInfoModel) {\n            const bgCleanModeObj = data.find((item: any) => item.key === EffectParamEnum.BgCleanMode) as IOptionObject<number>\n            if (bgCleanModeObj) {\n                this.extraInfoModel.updateBgCleanMode(bgCleanModeObj.value)\n            }\n\n            const bgCleanMooreModeObj = data.find((item: any) => item.key === EffectParamEnum.BgCleanMooreMode) as IOptionObject<number>\n            if (bgCleanMooreModeObj) {\n                this.extraInfoModel.updateBgCleanMooreMode(bgCleanMooreModeObj.value)\n            }\n        }\n\n        const checkModelKeys = realtime ? updateKeys : allKeys\n        const models = this.beautifyViewModel?.getParamsModel(checkModelKeys)\n        if (models.length > 0) {\n            this.setParamValueToTsImageIO(models, false, 'beautify', realtime, ext)\n        }\n    }\n\n    /**\n     * 按需更新tsImage参数\n     */\n    setParamValueToTsImageIO(models: any[], needReloadProcess?: boolean, type = 'beautify', realtime: boolean = false, ext?: string): void {\n        const batchUpdateData: any[] = []\n        let isBatch = models.length >= 2\n\n        models.forEach(model => {\n            if (model instanceof PersonEffectItemModel || model instanceof EffectModel) {\n                isBatch = true\n                if (isBatch) {\n                    const obj = { constructor: 'EffectModel', name: model.name, personType: -1, path: model.path }\n                    if (model instanceof PersonEffectItemModel) {\n                        obj.personType = model.personType\n                    }\n                    batchUpdateData.push(obj)\n                } else {\n                    refine.updateEffect(this.refineUUID, this.photoID, model.name, model.path, model instanceof PersonEffectItemModel ? model?.personType : -1)\n                }\n            } else if (model instanceof AlgoVersionModel) {\n                isBatch = true\n                batchUpdateData.push({\n                    key: EffectAlgoVersion.FaceSurgery,\n                    constructor: 'AlgoVersionModel',\n                    value: model.parseToJson()\n                })\n            } else if (model instanceof HslParamModel) {\n                if (isBatch) {\n                    batchUpdateData.push({\n                        constructor: 'HslParamModel',\n                        colorFlag: model.colorFlag,\n                        flag: model.flag,\n                        value: model.getFloatValue()\n                    })\n                } else {\n                    refine.setPaletteValue(this.refineUUID, this.photoID, model.getFloatValue(), model.flag, model.colorFlag, realtime, ext)\n                }\n            } else if (model instanceof PersonParamModel) {\n                if (isBatch) {\n                    batchUpdateData.push({\n                        constructor: 'PersonParamModel',\n                        personType: model.personFlag,\n                        flag: model.flag,\n                        value: model.getFloatValue()\n                    })\n                } else {\n                    refine.setBeautifyValue(this.refineUUID, this.photoID, model.getFloatValue(), model.flag, model.personFlag, realtime, ext)\n                }\n            } else if (model instanceof WhiteBalanceParamModel) {\n                if (isBatch) {\n                    batchUpdateData.push({\n                        constructor: 'WhiteBalanceParamModel',\n                        flag: model.flag,\n                        value: model.getFloatValue()\n                    })\n                } else {\n                    refine.setPaletteValue(this.refineUUID, this.photoID, model.getFloatValue(), model.flag, -1, realtime, ext)\n                }\n            } else {\n                if (isBatch) {\n                    batchUpdateData.push({\n                        constructor: 'ParamsModel',\n                        flag: model.flag,\n                        value: model.getFloatValue(),\n                        type\n                    })\n                } else {\n                    if (type === 'beautify') {\n                        refine.setBeautifyValue(this.refineUUID, this.photoID, model.getFloatValue(), model.flag, -1, realtime, ext)\n                    } else {\n                        refine.setPaletteValue(this.refineUUID, this.photoID, model.getFloatValue(), model.flag, -1, realtime, ext)\n                    }\n                }\n            }\n        })\n\n        if (isBatch && batchUpdateData.length > 0) {\n            refine.batchSetValue(this.refineUUID, this.photoID, batchUpdateData, realtime, ext)\n        }\n\n        if (!realtime) {\n            this.emit(PhotoCtrlListenerEvent.PresetSuitUpdate, {\n                presetSuitId: '0',\n                presetId: '0'\n            })\n        }\n    }\n\n\n    // 缩放比例\n    changeRatio(rotate: number): void {\n        refine.changeRatio(this.refineUUID, this.photoID, rotate / 100)\n    }\n\n    // 缩放类型\n    imageResize(mode: string): void {\n        refine.imageResize(this.refineUUID, this.photoID, mode)\n    }\n\n    compare(mode: string): void {\n        if (mode === 'down') {\n            refine.imageCompare(this.refineUUID, this.photoID, mode)\n        } else {\n            refine.imageCompare(this.refineUUID, this.photoID, mode)\n        }\n    }\n\n    // 重置涂抹效果\n    async resetRemoveDefectivePaintMask(): Promise<void> {\n        await refine.handlePhotoControlOperate(this.refineUUID, this.photoID, QtPhotoOperate.ResetDefectMask)\n    }\n\n    async resetLiquefyMask(): Promise<void> {\n        await refine.handlePhotoControlOperate(this.refineUUID, this.photoID, QtPhotoOperate.ResetLiquefyMask)\n    }\n\n    // 设置涂抹mask\n\n\n    private updateBgCleanMode(): void {\n        if (this.extraInfoModel) {\n            const bgCleanMode = this.extraInfoModel.bgCleanMode\n            const bgCleanMooreMode = this.extraInfoModel.bgCleanMooreMode\n            this.beautifyViewModel?.updateBgCleanMode(bgCleanMode.value)\n            this.beautifyViewModel?.updateBgCleanMooreMode(bgCleanMooreMode.value)\n        }\n    }\n\n    /**\n     * 初始化额外参数并更新至美化预设中\n     * @param bgCleanMode\n     * @param extraInfoStr\n     */\n    initExtraInfoModel(bgCleanMode: number, extraInfoStr: string): void {\n        let hasExtraCache = false\n        if (extraInfoStr) {\n            try {\n                const extraInfo = JSON.parse(extraInfoStr)\n                const model = new ExtraInfoModel(extraInfo)\n                hasExtraCache = true\n                const isNeedUpdate = model.isNeedUpdateDefaultMode(bgCleanMode)\n                if (isNeedUpdate) {\n                    model.updateDefaultMode(bgCleanMode)\n                }\n                this.extraInfoModel = model\n            } catch (e) {\n                console.warn('[initExtraInfoModel] ', e)\n            }\n        }\n\n        if (!hasExtraCache) {\n            const model = new ExtraInfoModel()\n            model.setDefaultCleanMode(bgCleanMode)\n            this.extraInfoModel = model\n        }\n\n        this.updateBgCleanMode()\n    }\n\n    usePainterMode(): PainterControl {\n        this.painterControl = new PainterControl(this.thumbnailId)\n        this.painterControl?.setRefineUUID(this.photoID, this.refineUUID)\n        this.painterControl.init()\n        return this.painterControl\n    }\n\n    finishPainterMode(): void {\n        refine.closeProcessMode(this.refineUUID, this.photoID).then(() => {\n        })\n        this.painterControl?.destroy()\n        this.painterControl = null\n    }\n\n    useLiquefyMode(): LiquefyControl {\n        this.liquefyControl = new LiquefyControl(this.thumbnailId)\n        this.liquefyControl.setRefineUUID(this.photoID, this.refineUUID)\n        this.liquefyControl.init()\n\n        return this.liquefyControl\n    }\n\n    finishLiquefyMode(): void {\n        refine.closeProcessMode(this.refineUUID, this.photoID).then(() => {\n        })\n        this.liquefyControl?.destroy()\n        this.liquefyControl = null\n    }\n\n    useCropTool(): ICropAndRotateObject {\n        refine.useProcessMode(this.refineUUID, this.photoID, QtPhotoMode.Crop).then(() => {\n        })\n\n        const obj: ICropAndRotateObject = {\n            type: 0,\n            width: 1,\n            height: 1,\n            dpi: 30,\n            unit: 0,\n            flipX: 1,\n            flipY: 1,\n            rotate: 0\n        }\n        const rotateModel = this.beautifyViewModel?.rotateModel\n        if (rotateModel) {\n            Object.assign(obj, rotateModel.toComponent())\n        }\n\n        const cropModel = this.beautifyViewModel?.cropModel\n        if (cropModel) {\n            Object.assign(obj, cropModel.toComponent())\n        }\n\n        return obj\n    }\n\n    closeTool(): void {\n        refine.closeProcessMode(this.refineUUID, this.photoID).then(() => {\n            this.emit(PhotoCtrlListenerEvent.PresetSuitUpdate, {\n                presetSuitId: '0',\n                presetId: '0'\n            })\n        })\n        this.emit(PhotoCtrlListenerEvent.PresetJsonUpdate, this.beautifyViewModel, this.paletteViewModel)\n    }\n\n    getCropObj(): any {\n        const rotateObj = this.beautifyViewModel?.rotateModel.toComponent()\n        const cropObj = this.beautifyViewModel?.cropModel.toComponent()\n\n        return {\n            ...rotateObj,\n            ...cropObj\n        }\n    }\n\n    handleRotate(rotate: number, mode = 'rotate'): void {\n        const rotateModel = this.beautifyViewModel?.setRotate(rotate, mode).rotateModel\n        if (rotateModel) {\n            refine.handleRotate(this.refineUUID, this.photoID, rotateModel.rotate)\n        }\n    }\n\n    handleFlip(x: number, y: number): void {\n        const rotateModel = this.beautifyViewModel?.setFlit(x, y).rotateModel\n        if (rotateModel) {\n            refine.handleFlit(this.refineUUID, this.photoID, rotateModel.flipX, rotateModel.flipY)\n        }\n    }\n\n    handleCrop(data: any): void {\n        const cropModel = this.beautifyViewModel?.setCrop(data).cropModel\n        if (cropModel) {\n            refine.handleCrop(this.refineUUID, this.photoID, OperateCropMode.Update, cropModel.toJson())\n        }\n    }\n\n    handleResetCrop(data: any): void {\n        const cropModel = this.beautifyViewModel?.setCrop(data).cropModel\n        if (cropModel) {\n            refine.handleCrop(this.refineUUID, this.photoID, OperateCropMode.Reset, cropModel.toJson())\n        }\n    }\n\n    private _removePhotoCtrlListener(): void {\n        this.removeAllListener(PhotoCtrlListenerEvent.Notify)\n        this.removeAllListener(PhotoCtrlListenerEvent.Status)\n        this.removeAllListener(PhotoCtrlListenerEvent.Scale)\n        this.removeAllListener(PhotoCtrlListenerEvent.ExtraInfo)\n        this.removeAllListener(PhotoCtrlListenerEvent.AIResponse)\n        this.removeAllListener(PhotoCtrlListenerEvent.Error)\n        this.removeAllListener(PhotoCtrlListenerEvent.PresetJsonUpdate)\n        this.removeAllListener(PhotoCtrlListenerEvent.PresetSuitUpdate)\n        this.removeAllListener(PhotoCtrlListenerEvent.UpdateHisData)\n        this.removeAllListener(PhotoCtrlListenerEvent.UpdateCropInfo)\n        this.removeAllListener(PhotoCtrlListenerEvent.UpdatePainterInfo)\n    }\n\n    private _removeRefineThumbnailEvent(): void {\n        this.removeAllListener(RefineThumbnailEventId.Rotate)\n    }\n\n    // 是否存在其他效果\n    hasBeautifyEffect(): boolean {\n        return this.beautifyViewModel?.hasEffect() || false\n    }\n\n    /**\n     * 对象实例销毁\n     */\n    destroy(): void {\n        this.isDestroy = true\n        this.paletteViewModel = null\n        this.beautifyViewModel = null\n\n        this.painterControl?.destroy()\n        this.painterControl = null\n\n        this.liquefyControl?.destroy()\n        this.liquefyControl = null\n\n        this._removePhotoCtrlListener()\n        this._removeRefineThumbnailEvent()\n    }\n}\n","import BaseTool from './BaseTool'\nimport { ILiquefyDataForAlgorithm, IToolComponentData } from '../types/tool'\n\nexport default class LiquefyTool extends BaseTool {\n    // _size: number = 750\n    _size: number = 25\n    _density: number = 30\n    _pressure: number = 30\n    _edges: number = 0\n\n    constructor() {\n        super()\n    }\n\n    createCursorElement(): HTMLElement | undefined {\n        return undefined\n    }\n\n    setEdges(value: number): void{\n        this._edges = value\n    }\n\n    getComponentData(): IToolComponentData[] {\n        return [\n            {\n                name: '大小',\n                value: this._size,\n                // min: 1,\n                // max: 15000,\n                min: 10,\n                max: 300,\n                step: 0.1,\n                type: 'size',\n                setValue: (val) => {\n                    console.log('[setValue] size: ', val)\n                    this._size = val\n                }\n            },\n            {\n                name: '密度',\n                value: this._density,\n                min: 0,\n                max: 100,\n                type: 'density',\n                setValue: (val) => {\n                    console.log('[setValue] density: ', val)\n                    this._density = val\n                }\n            },\n            {\n                name: '压力',\n                value: this._pressure,\n                min: 1,\n                max: 100,\n                type: 'pressure',\n                setValue: (val) => {\n                    console.log('[setValue] pressure: ', val)\n                    this._pressure = val\n                }\n            },\n\n            {\n                name: '固定边缘',\n                value: this._edges,\n                min: 0,\n                max: 1,\n                type: 'edges',\n                cType: 'switch',\n                setValue: (val) => {\n                    console.log('[setValue] pressure: ', val)\n                    this._edges = val\n                }\n            }\n        ]\n    }\n\n    getDataForAlgorithm(): ILiquefyDataForAlgorithm {\n        return {\n            size: this._size,\n            density: this._density,\n            pressure: this._pressure,\n            edges: this._edges\n        }\n    }\n\n    reset(): void {\n    }\n\n}\n","import BaseToolControl from './BaseToolControl'\n\nimport { Tool } from './contants/config'\nimport BaseTool from './impl/BaseTool'\nimport LiquefyTool from './impl/LiquefyTool'\nimport { bindMany } from '@/view-model/photoControl/utils/commonUtil'\n\nexport default class LiquefyToolControl extends BaseToolControl<BaseTool> {\n    static instance: LiquefyToolControl\n    _tool: Tool = Tool.Liquefy\n\n    constructor() {\n        super()\n        bindMany(this, '_addKeyDownEvent', 'emit')\n    }\n\n    static getInstance(): LiquefyToolControl {\n        if (!this.instance) {\n            this.instance = new LiquefyToolControl()\n        }\n        return this.instance\n    }\n\n    _addKeyDownEvent(event: KeyboardEvent): void {\n        if (this.tool !== Tool.Liquefy) {\n            return\n        }\n        switch (event.code) {\n            case 'BracketLeft':\n            case 'BracketRight':\n                const eventCode = event.code\n                const m_nDiameterSize = this.activeTool?.size || 0\n\n                let nStep = 10\n                let isPlus = eventCode === 'BracketRight'\n\n                // 1～10：0.2\n                // 10～20：0.5\n                // 20～35：1\n                // 35～55：2\n                // 55～75：2.5\n                // 75～95：4\n                // 95～125：6\n                // 125～225：10\n                // 225～300：15\n\n                if (1 <= m_nDiameterSize && m_nDiameterSize < 10) {\n                    nStep = 0.2\n                } else if (10 < m_nDiameterSize && m_nDiameterSize < 20) {\n                    nStep = 0.5\n                } else if (20 < m_nDiameterSize && m_nDiameterSize < 35) {\n                    nStep = 1\n                } else if (35 < m_nDiameterSize && m_nDiameterSize < 55) {\n                    nStep = 2\n                } else if (55 < m_nDiameterSize && m_nDiameterSize < 75) {\n                    nStep = 2.5\n                } else if (75 < m_nDiameterSize && m_nDiameterSize < 95) {\n                    nStep = 4\n                } else if (95 < m_nDiameterSize && m_nDiameterSize < 125) {\n                    nStep = 6\n                } else if (125 < m_nDiameterSize && m_nDiameterSize < 225) {\n                    nStep = 10\n                } else if (225 < m_nDiameterSize && m_nDiameterSize < 300) {\n                    nStep = 15\n                }\n\n\n                if (m_nDiameterSize === 10) {\n                    nStep = isPlus ? 0.5 : 0.2\n                } else if (m_nDiameterSize === 20) {\n                    nStep = isPlus ? 1 : 0.5\n                } else if (m_nDiameterSize === 35) {\n                    nStep = isPlus ? 2 : 1\n                } else if (m_nDiameterSize === 55) {\n                    nStep = isPlus ? 2.5 : 2\n                } else if (m_nDiameterSize === 75) {\n                    nStep = isPlus ? 4 : 2.5\n                } else if (m_nDiameterSize === 95) {\n                    nStep = isPlus ? 6 : 4\n                } else if (m_nDiameterSize === 125) {\n                    nStep = isPlus ? 10 : 6\n                }else if (m_nDiameterSize === 225) {\n                    nStep = isPlus ? 15 : 10\n                } else if (m_nDiameterSize === 300) {\n                    nStep = 15\n                }\n\n                this.activeTool?.increaseSize(isPlus ? nStep : -nStep)\n                this.emit('on-update')\n                break\n        }\n    }\n\n    initTools(): Map<Tool, BaseTool> {\n        const toolMap = new Map()\n        toolMap.set(Tool.Liquefy, new LiquefyTool())\n        return toolMap\n    }\n}","import { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport {\n    OperateLiquefyMode,\n    QtPhotoMode,\n    QtToolKey,\n    RECORD_INIT_UUID,\n    RecordType\n} from '@/view-model/photoControl/contants/operateEnum'\nimport { LiquefyListenerEvent, PtListenerEvent } from '@/view-model/photoControl/contants/listenerEvent'\nimport PainterBaseControl from '@/view-model/photoControl/PainterBaseControl'\n\nimport LiquefyTool from '@/view-model/photoControl/controlTools/impl/LiquefyTool'\nimport LiquefyToolControl from './controlTools/LiquefyToolControl'\nimport refine from '@/qt-ipc/business/refine'\nimport { SignalKeyboardEventName } from '@/qt-ipc/constants/common'\n\nexport default class LiquefyControl extends PainterBaseControl {\n\n    toolControl: LiquefyToolControl = LiquefyToolControl.getInstance()\n    _isDragging: boolean = false            // 独立拖拽状态\n    _showResetDefaultMask: boolean = false  // 是否显示重置mask初始状态的按钮\n    _hasChangedMask: boolean = false        // 是否存在变更后的mask\n\n    qtPhotoMode = QtPhotoMode.Liquefy\n    qtToolKey = QtToolKey.LiquefyPainter\n\n    constructor(id: number) {\n        super(id)\n    }\n\n    /**\n     * 是否正在使用工具\n     */\n    get isUseTool(): boolean {\n        return this.isDragging ? false : !!this.tool\n    }\n\n    get isDragging(): boolean {\n        return this._isDragging\n    }\n\n    set isDragging(value: boolean) {\n        this._isDragging = value\n        this.emit(PtListenerEvent.DragStateChanged, this._isDragging)\n    }\n\n    set showResetDefaultMask(value: boolean) {\n        this._showResetDefaultMask = value\n\n        this.emit(PtListenerEvent.ShowResetDefaultMask, this._showResetDefaultMask)\n    }\n\n    // 监听初始化完成回调\n    onInitCompleted(data: any): void {\n        console.debug('[LiquefyControl] init: useProcessMode success !')\n\n        if (typeof data.paintMaskIsEmpty === 'boolean') {\n            const tool = this.toolControl.activeTool as LiquefyTool\n            tool.setEdges(data.paintMaskIsEmpty ? 1 : 0)\n            this.toolControl.emit('on-update')\n        }\n\n        super.onInitCompleted(data)\n    }\n\n    _createRecord(type: RecordType, uuid: string = ''): string {\n        if (type === 'tool') {\n            this.showResetDefaultMask = true\n        }\n\n        return super._createRecord(type, uuid)\n    }\n\n    /**\n     * 切换工具\n     * 需要切换鼠标显示状态\n     * @param tool\n     */\n    changeTool(tool: Tool): this {\n        const useTool = this.toolControl.changeTool(tool).activeTool\n        const { size, density, pressure } = useTool?.getDataForAlgorithm()\n        console.debug(`[LiquefyControl] changeTool: (size: ${ size }, density: ${ density }, pressure: ${ pressure })`)\n\n        return super.changeTool(tool)\n    }\n\n    /**\n     * 重置效果\n     */\n    resetLiquefy(): this {\n        refine.handleLiquifyOperate(this.refineUUID, this.photoId, OperateLiquefyMode.Reset)\n        return this\n    }\n\n    // 设置涂抹mask\n    saveLiquefyMode(): void {\n        this.closeProcessMode(OperateLiquefyMode.Save)\n    }\n\n    cancelLiquefyMode(): void {\n        this.closeProcessMode(OperateLiquefyMode.Cancel)\n    }\n\n    /**\n     * 修改历史记录\n     * @param uuid\n     */\n    changeHistory(uuid: string): void {\n        if (!uuid) return\n\n        // 点击\"开始涂抹\"时，若存在已变更记录则显示重置状态\n        if (uuid === RECORD_INIT_UUID) {\n            this.showResetDefaultMask = this._hasChangedMask\n        } else {\n            const record = this.operationStack.activeOperation(uuid).activeRecord()\n            if (!record) {\n                return\n            }\n            this.showResetDefaultMask = record.type !== 'reset'\n        }\n\n        this.locatePainterStep(uuid).then(() => {\n        })\n    }\n\n    addKeyDownEvent(eventName: SignalKeyboardEventName): void {\n        super.addKeyDownEvent(eventName)\n\n        if (SignalKeyboardEventName.MousePress === eventName) {\n            this.$emit(LiquefyListenerEvent.MouseEvent, true)\n        }\n\n        if (eventName === SignalKeyboardEventName.MouseRelease) {\n            this.$emit(LiquefyListenerEvent.MouseEvent, false)\n        }\n    }\n\n    /**\n     * 实例销毁\n     */\n    destroy(): void {\n        // 移除所有监听事件\n        this.removeAllListener(LiquefyListenerEvent.MouseEvent)\n        this.removeAllListener(PtListenerEvent.DragStateChanged)\n        this.removeAllListener(PtListenerEvent.InitSize)\n        this.removeAllListener(PtListenerEvent.ShowResetDefaultMask)\n\n        super.destroy()\n    }\n}\n","import {\n    ref,\n    Ref,\n    computed, getCurrentInstance, reactive\n} from 'vue'\nimport store from '@/store'\n\nimport refine from '@/qt-ipc/business/refine'\n// @ts-ignore\nimport FileUtils from '@/utils/FileUtils'\nimport { IThumbnail } from '@/qt-ipc/types/refine'\nimport {CLIENT_NAME, isPro} from '@/universal/types/config'\nimport ExtraInfoModel from '@/model/ExtraInfoModel'\nimport PhotoControl, { PhotoCtrlListenerEvent } from '@/view-model/photo-control'\nimport BeautifyParamsViewModel from '@/view-model/beautifyParamsViewModel'\nimport PaletteParamsViewModel from '@/view-model/paletteParamsViewModel'\nimport path from '@/qt-ipc/path'\n// @ts-ignore\nimport clipboard from \"qt/clipboard\";\nimport NodeApi from '@/qt-ipc/node-api'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport {PersonBioModel} from \"@/model/PersonBioModel\";\n\ninterface IDefaultExtend {\n    beforeThumbnailChange?: () => void\n    isOnlyPreviewPalette: Ref<boolean>\n}\n\nexport default function usePhotoControlRepositories(isDestroy: Ref<boolean>, refineUUID: Ref<string>, {\n    beforeThumbnailChange,\n    isOnlyPreviewPalette\n}: IDefaultExtend) {\n    const that = getCurrentInstance()?.proxy\n    const activeThumbnailId = computed(() => store.getters['thumbnail/activeThumbnailId'])\n    const activeProject = computed(() => store.getters['project/activeProject'])\n    const userId = computed(() => store.getters.userId)\n\n    const photoControl: Ref<PhotoControl | null> = ref(null)\n\n    // loading状态\n    const imageState = reactive({\n        init: false,\n        loading: false,\n        loadingText: '',\n        effectLoaded: false,\n        allowModifyGender: false,\n        paintRemoveDefectiveMaskIsEmpty: true,\n        allowPainter: false\n    })\n\n    // 效果处理开销\n    const costTimeObj = reactive({\n        costIsPro: ref(isPro),\n        costTimeData: {},\n        costLastTime: -1,\n        costNewTime: -1\n    })\n\n    const fitRatio = ref(100)\n    const showAllScale = ref(-1)\n\n    let isShowMsg = false\n    // 直方图数据\n    const histogramData = reactive({\n        chartData: {},\n        imageInfo: {}\n    })\n\n    const { PointFileNotExit, PointFileCopyPath } = useRefinePointsRepositories()\n\n    const _thumbIsValid = async (thumbInfo: IThumbnail): Promise<boolean> => {\n        let ret = await FileUtils.isFileExist(thumbInfo.imgPath)\n        if (!ret) {\n            let imgPath = thumbInfo.imgPath\n            let fileName = await path.basename(imgPath)\n            let filePath = await FileUtils.findDirPath(imgPath)\n            let h = that?.$createElement as any\n            let styleTitle = { style: 'font-size: 16px; font-weight: 500; margin: 12px 0 16px; word-break: break-all' }\n            let styleContent = { style: 'line-height: 24px; font-weight: 400; word-break: break-all; color: rgba(255, 255, 255, 0.65)' }\n            let customTitleEl = h('div', styleTitle, [\n                h('span', styleTitle, '\"'),\n                h('span', styleTitle, `${fileName}` ),\n                h('span', styleTitle, '\"不存在' ),\n            ])\n\n            let customMessageEl = null\n            customMessageEl = h('div', styleContent, [\n                h('div', { style: 'margin-bottom: 8px' }, '可能是您移动了文件位置或修改了文件名'),\n                h('span', {},'原始位置：'),\n                h('span', {},`${imgPath}`)\n            ])\n\n            that?.tsConfirm({\n                title: null,\n                customTitleEl: customTitleEl,\n                customMessageEl: customMessageEl,\n                showCancelButton: false,\n                confirmButtonText: '复制原始路径',\n                distinguishCancelAndClose: true,\n                beforeClose: function (action: string, instance: any, done: () => void) {\n                    if (action === 'close') {\n                        PointFileNotExit()\n                    }\n                    done()\n                }\n            }).then(_ => {\n                clipboard.writeText(imgPath)\n                that.tsNotify('原始路径已复制')\n                PointFileCopyPath()\n            }).catch(err =>{\n                console.log(err)\n            })\n            return false\n        }\n\n        if (!thumbInfo.isValid) {\n            that?.tsConfirm({\n                title: '系统提示',\n                message: `${CLIENT_NAME}暂时无法打开此文件`,\n                showCancelButton: false\n            }).then(_ => {\n            })\n            NodeApi.getExport().asyncReportRawShowError({path: thumbInfo.imgPath, id: thumbInfo.id})\n            return false\n        }\n\n        return true\n    }\n\n    /**\n     * 更新背景去瑕疵数据\n     */\n    function updateBgCleanMode(extraInfoModel: ExtraInfoModel, instance: PhotoControl) {\n        const bgCleanMode = extraInfoModel.bgCleanMode\n        const bgCleanMooreMode = extraInfoModel.bgCleanMooreMode\n\n        if (bgCleanMode && bgCleanMooreMode) {\n            store.commit('refine/_SetDefaultMode', {\n                bgCleanModeDefault: bgCleanMode.default,\n                bgCleanMooreModeDefault: bgCleanMooreMode.default\n            })\n            store.commit('refine/_SetBeautifyParams', instance.beautifyViewModel)\n        }\n    }\n\n    function _destroyPhotoControl() {\n        // 清除历史\n        histogramData.imageInfo = {}\n        histogramData.chartData = {}\n        imageState.loadingText = ''\n        imageState.paintRemoveDefectiveMaskIsEmpty = true\n        imageState.allowPainter = false\n        imageState.init = false\n\n        showAllScale.value = -1\n        store.commit('refine/_SetBaseValue', { oriWbICC: 0, oriWbTint: 0, loaded: false, isRaw: false })\n        store.commit('refine/_ResetCurrParams')\n        store.commit('refine/_ResetImageExtraData')\n        store.commit('refine/_SetExtendInfo', {})\n        store.commit('refine/_SetSymmetryStatusJson', null)\n        store.commit('refine/_ResetNavbarDots')\n\n        photoControl.value?.destroy()\n        photoControl.value = null\n    }\n\n    function _loadPhotoControl(thumbInfo: IThumbnail) {\n        photoControl.value = new PhotoControl(userId.value, thumbInfo, activeProject.value.id, refineUUID.value)\n            .on(PhotoCtrlListenerEvent.Status, ({ loading, loadingText, allowModifyGender, effectLoaded }: any) => {\n                if (!isPro) {\n                    // 菊花结束\n                    if (imageState.loading && !loading) {\n                        costTimeObj.costNewTime = new Date().getTime()\n                    }\n                    // 菊花开始\n                    else if (!imageState.loading && loading) {\n                        costTimeObj.costLastTime = new Date().getTime()\n                    }\n                }\n                imageState.init = true\n                imageState.loading = loading\n                imageState.loadingText = loadingText || ''\n                imageState.allowModifyGender = allowModifyGender\n                imageState.effectLoaded = effectLoaded\n            })\n            .on(PhotoCtrlListenerEvent.Scale, (scale: number) => {\n                fitRatio.value = scale\n\n                if (showAllScale.value === -1) {\n                    showAllScale.value = scale\n                }\n            })\n            .on(PhotoCtrlListenerEvent.ExtraInfo, (data: any, instance: PhotoControl) => {\n                const { image, extendInfo: info } = data\n                if (image) {\n                    store.commit('thumbnail/_UpdateActiveThumbnail', image)\n                    store.commit('refine/_SetOriginImgData', {\n                        face: [],\n                        width: image.originWidth,\n                        height: image.originHeight,\n                        dpi: image.dpi\n                    })\n                }\n\n                if (instance.isRaw && info && info.exifInfo) {\n                    histogramData.imageInfo = { ...info.exifInfo }\n                    store.commit('refine/_SetBaseValue', {\n                        oriWbICC: info.exifInfo.oriWbICC,\n                        oriWbTint: info.exifInfo.oriWbTint,\n                        loaded: true,\n                        isRaw: true\n                    })\n                    store.commit('refine/_SetPaletteParams', instance.paletteViewModel)\n                }\n            })\n            .on(PhotoCtrlListenerEvent.AIResponse, (data: any, instance: PhotoControl) => {\n                console.log(`PhotoCtrlListenerEvent.AIResponse...data=`,JSON.stringify(data))\n                const { face, faceIsValid, poseRefineInfos, skyInfoJson, symmetryStatusJson } = data\n\n                if (face && face.faces) {\n                    // 更新人脸信息（faces原始人脸信息、cacheFaces修改后的人脸信息）\n                    let transFaces = []\n                    for (const it of face.faces) {\n                        transFaces.push(new PersonBioModel(it))\n                    }\n                    store.commit('initOriginFaceData', transFaces)\n                    store.commit('refine/_SetOriginImgData', { face: transFaces })\n                    store.commit('refine/_SetSymmetryStatusJson', symmetryStatusJson)\n\n                    // 已加载后 不二次设置人脸tab\n                    if (!store.getters.isFaceLoadSuccess) {\n                        store.dispatch('refine/updatePersonTypeByFaces', face.cacheFaces || face.faces)\n                    }\n                }\n                store.commit('setIsFaceLoadSuccess', true)\n\n                if (faceIsValid && instance.extraInfoModel) {\n                    updateBgCleanMode(instance.extraInfoModel, instance)\n                }\n\n                if (poseRefineInfos && poseRefineInfos.length > 0) {\n                    store.commit('refine/_SetExtendInfo', { poseRefineInfos })\n                }\n\n                if(skyInfoJson){\n                    //send sky slider enable info\n                    store.commit('refine/_SetSkyExtendInfo', skyInfoJson)\n                }\n            })\n            .on(PhotoCtrlListenerEvent.PresetJsonUpdate, (beautify: BeautifyParamsViewModel, palette: PaletteParamsViewModel) => {\n                store.dispatch('refine/updateCurrParamsViewModel', {\n                    beautifyViewModel: beautify,\n                    paletteViewModel: palette\n                })\n            })\n            .on(PhotoCtrlListenerEvent.PresetSuitUpdate, (data: any) => store.dispatch('thumbnail/ACT_UpdatePresetSuitId', data))\n            .on(PhotoCtrlListenerEvent.UpdateHisData, (data: any) => histogramData.chartData = { ...data })\n            .on(PhotoCtrlListenerEvent.UpdatePainterInfo, (data: any) => {\n                imageState.paintRemoveDefectiveMaskIsEmpty = data.paintRemoveDefectiveMaskIsEmpty\n                imageState.allowPainter = data.allowPainter\n            })\n            .on(PhotoCtrlListenerEvent.UpdateCropInfo, (data: any) => store.commit('refine/_SetOriginImgData', data))\n            .on(PhotoCtrlListenerEvent.Notify, (message: string) => that?.tsNotify(message))\n            .on(PhotoCtrlListenerEvent.Error, (e: Error) => {\n                that?.tsConfirm({\n                    title: '系统提示',\n                    message: e.message,\n                    showCancelButton: false\n                }).then(() => {\n                })\n            })\n            .on(PhotoCtrlListenerEvent.UpdateCostTime, (data: any) => costTimeObj.costTimeData = data)\n        photoControl.value.start(isOnlyPreviewPalette.value)\n    }\n\n    const addThumbnailChangeListener = () => {\n        refine.onThumbnailChange(async (thumbInfo) => {\n            if(isShowMsg){\n                return\n            }\n            if ((activeThumbnailId.value > 0 && thumbInfo.id === activeThumbnailId.value) || isDestroy.value) {\n                return\n            }\n\n            isShowMsg = true\n            store.commit('thumbnail/_SetSelectedImgIndex', thumbInfo.index)\n            store.commit('thumbnail/_SetActiveThumbnail', { imgPath: thumbInfo.imgPath, imgIndex: thumbInfo.index })\n\n            const valid = await _thumbIsValid(thumbInfo)\n            isShowMsg = false\n            if (!valid || isDestroy.value) {\n                return\n            }\n\n            store.commit('setIsFaceLoadSuccess', false)\n            store.commit('thumbnail/_SetActiveThumbnail', thumbInfo)\n            await store.dispatch('refine/initOriParamsViewModel')\n            if (isDestroy.value) {\n                return\n            }\n\n            beforeThumbnailChange && beforeThumbnailChange()\n\n            _destroyPhotoControl()\n            _loadPhotoControl(thumbInfo)\n\n            await window.$thumbnailOptRecord.loadThumbnailOptRecord(thumbInfo.id)\n        })\n    }\n\n    const removeThumbnailChangeListener = () => {\n        refine.removeThumbnailChange()\n        _destroyPhotoControl()\n        beforeThumbnailChange = () => {}\n        store.commit('thumbnail/_ResetActiveThumbnail')\n        store.commit('refine/_ClearParamsObjCache')\n    }\n\n    return {\n        photoControl,\n        imageState,\n\n        costTimeObj,\n\n        fitRatio,\n        showAllScale,\n        histogramData,\n\n        addThumbnailChangeListener,\n        removeThumbnailChangeListener,\n        reloadProcessImage: (mode: string) => photoControl.value?.reloadProcessImage(mode)\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"thumb-crop-tool\"},[_c('div',{staticClass:\"tool\"},[_c(_setup.ElCollapse,{ref:\"removeTabindex\",staticClass:\"collapse preset-collapse\",model:{value:(_setup.activeNames),callback:function ($$v) {_setup.activeNames=$$v},expression:\"activeNames\"}},[_c(_setup.ElCollapseItem,{staticClass:\"collapse-item__content\",attrs:{\"title\":\"裁剪\",\"name\":\"crop\"}},[_c('div',{staticClass:\"collapse-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"title-span\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"裁剪\")])]),_c('div',{staticClass:\"title-span\"},[_c('i',{staticClass:\"el-icon-refresh-right reset-btn-icon\",on:{\"click\":function($event){$event.stopPropagation();return _setup.resetCrop.apply(null, arguments)}}})])]),_c(_setup.CropArea,{ref:\"cropRef\",on:{\"on-show-reset\":function($event){_setup.isShowCropReset = $event},\"on-change\":function($event){return _setup.$emit('on-crop-change', $event)}}})],1),_c(_setup.ElCollapseItem,{staticClass:\"collapse-item__content\",attrs:{\"title\":\"旋转\",\"name\":\"rotate\"}},[_c('div',{staticClass:\"collapse-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"title-span\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"旋转\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.isShowRotateReset),expression:\"isShowRotateReset\"}],staticClass:\"title-span\"},[_c('i',{staticClass:\"el-icon-refresh-right reset-btn-icon\",on:{\"click\":function($event){$event.stopPropagation();return _setup.resetRotate.apply(null, arguments)}}})])]),_c(_setup.RotateArea,{ref:\"rotateRef\",attrs:{\"rotate\":_vm.rotate},on:{\"on-show-reset\":function($event){_setup.isShowRotateReset = $event},\"on-rotate\":function($event){return _setup.$emit('on-rotate', $event)},\"on-flip\":(x, y) => _setup.$emit('on-flip', x, y)}})],1)],1)],1),_c('div',{staticClass:\"fixed-bottom\"},[_vm._t(\"bottom\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { ref, computed, nextTick, ComputedRef, watch, UnwrapNestedRefs, reactive } from 'vue'\nimport store from '@/store'\n\nimport { cm2pix, limitToPrecision, pix2cm } from '@/utils/tsMath'\nimport tailorTypeList, {\n    OriginType,\n    RatioType,\n    DefaultIdPhotoType,\n    cropTypes,\n    idPhotoTypes,\n    needSetRecommendCropType,\n    recommendRadioOptions,\n    recommendRadioTypes,\n    allIdPhotoTypes,\n    FixedRatioType,\n    showRatioInputTypes\n} from '@/constants/crop-types'\n\n// @ts-ignore\nimport TsSelect from '@/components/TsSelect'\n// @ts-ignore\nimport TsSelectOption from '@/components/TsSelect/src/ts-select-option'\nimport useFocusAndBlurRepositories from '@/composables/useFocusAndBlurRepositories'\nimport { InputNumber as ElInputNumber, Select as ElSelect, Option as ElOption } from 'element-ui'\n\nimport { ICropAndRotateObject } from '@/types/refine'\n\ninterface ICache {\n    width: number | undefined\n    height: number | undefined\n}\n\ninterface IParams {\n    type: number\n    rWidth: number | undefined\n    rHeight: number | undefined\n\n    width: number | undefined\n    height: number | undefined\n    dpi: number\n    unit: number\n}\n\nenum Unit {\n    Pix = 1,\n    Cm = 2\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CropArea',\n  emits: [\n    'on-show-reset',\n    'on-change'\n],\n  setup(__props, { expose, emit }) {\n\n\n\nconst cropInitObject: ComputedRef<ICropAndRotateObject> = computed(() => store.getters['refine/cropInitObject'])\nconst isSyncFromQt = ref(false)\n\nconst params: UnwrapNestedRefs<IParams> = reactive({\n    type: OriginType,\n    rWidth: undefined,\n    rHeight: undefined,\n\n    width: undefined,\n    height: undefined,\n    dpi: 30,\n    unit: Unit.Cm\n})\n\nconst cache: UnwrapNestedRefs<ICache> = reactive({\n    width: undefined,\n    height: undefined\n})\n\nconst showRadioInput = computed(() => showRatioInputTypes.includes(params.type))\nconst showIdPhotoInput = computed(() => allIdPhotoTypes.includes(params.type))\n\nconst maxDPI = computed(() => {\n    return 30000\n    // const { width, height, dpi } = imageData.value\n    //\n    // if (params.width && params.height) {\n    //     const cmWidth = params.unit === Unit.Cm ? params.width : pix2cm(params.dpi, params.width)\n    //     const cmHeight = params.unit === Unit.Cm ? params.height : pix2cm(params.dpi, params.height)\n    //     return Math.min(pix2dpi(width, cmWidth), pix2dpi(height, cmHeight))\n    // } else {\n    //     return dpi\n    // }\n})\n\nconst min = computed(() => params.unit === Unit.Pix ? 1 : 0.01)\n\nconst imageData = computed(() => store.getters['refine/originImgData'])\nconst imageOriFaceNum = computed(() => imageData.value && imageData.value.face && imageData.value.face.length)\n\nconst needReset = computed(() => !(params.type === RatioType && params.rHeight === undefined && params.rWidth === undefined))\nwatch(needReset, (val) => emit('on-show-reset', val), { immediate: true })\n\n// 同步数据\nconst syncFromJson = (obj: ICropAndRotateObject) => {\n    params.type = obj.type\n    // 默认值时，现实原始原图比例\n    params.dpi = obj.dpi ? obj.dpi : imageData.value.dpi\n    params.unit = obj.unit || Unit.Cm\n\n    if (params.type === OriginType) {\n        params.rWidth = undefined\n        params.rHeight = undefined\n    } else if ([RatioType, FixedRatioType, ...recommendRadioTypes].includes(obj.type)) {\n        // 如果是比例类型，同步比例\n        params.rWidth = obj.width || undefined\n        params.rHeight = obj.height || undefined\n    }\n\n    // 如果是证件照比类型，同步证件照宽高\n    if ([DefaultIdPhotoType, ...idPhotoTypes].includes(obj.type)) {\n        params.width = obj.width || undefined\n        params.height = obj.height || undefined\n    } else {\n        params.width = undefined\n        params.height = undefined\n    }\n\n    cache.width = undefined\n    cache.height = undefined\n}\n\n// 同步本地QT的Json数据\nwatch(cropInitObject, (obj) => {\n    isSyncFromQt.value = true\n    syncFromJson(obj)\n    nextTick(() => isSyncFromQt.value = false)\n})\n\nconst emitRadioChange = () => {\n    let obj = {\n        width: params.rWidth,\n        height: params.rHeight,\n        type: params.type\n    }\n    console.debug('emitRadioChange: ', obj)\n    emit('on-change', obj)\n}\n\nconst emitIdPhotoChange = () => {\n    // 格式化dpi\n    const dpi = params.dpi > maxDPI.value ? maxDPI.value : params.dpi\n    params.dpi = dpi\n\n    let obj = {\n        type: params.type,\n        width: params.width,\n        height: params.height,\n        dpi: dpi === imageData.value.dpi ? 0 : dpi,\n        unit: params.unit\n    }\n    console.debug('emitIdPhotoChange: ', obj)\n    emit('on-change', obj)\n}\n\nconst onTypeChange = (value: number) => {\n    const obj = tailorTypeList.find(item => item.type === value)\n    if (recommendRadioTypes.includes(value)) {\n        // @ts-ignore\n        params.rWidth = obj.size.width\n        // @ts-ignore\n        params.rHeight = obj.size.height\n    } else if (idPhotoTypes.includes(value)) {\n        // @ts-ignore\n        params.width = obj.size.width\n        // @ts-ignore\n        params.height = obj.size.height\n        params.unit = Unit.Cm\n    }\n\n    if (cropTypes.includes(value)) {\n        if (value === OriginType) {\n            params.rWidth = undefined\n            params.rHeight = undefined\n        } else {\n            if (!params.rWidth && !params.rHeight) {\n                params.rWidth = cache.width\n                params.rHeight = cache.height\n            }\n        }\n\n        emitRadioChange()\n\n        if (params.rWidth && params.rHeight) {\n            cache.width = params.rWidth\n            cache.height = params.rHeight\n        }\n\n    } else if (allIdPhotoTypes.includes(value)) {\n        emitIdPhotoChange()\n    }\n}\n\nconst onIdPhotoChange = () => {\n    nextTick(() => {\n        if (params.width) {\n            params.width = limitToPrecision(params.width, 3)\n        }\n        if (params.height) {\n            params.height = limitToPrecision(params.height, 3)\n        }\n\n        if (params.type !== DefaultIdPhotoType) {\n            params.type = DefaultIdPhotoType\n        }\n\n        emitIdPhotoChange()\n    })\n}\n\n// 检测比例是否时推荐比例\nconst checkHasRecommendRatio = (width: number, height: number) => {\n    const obj = recommendRadioOptions.find(item => item.valid && item.valid.includes(`${ width }:${ height }`))\n    if (obj) {\n        return obj.type\n    }\n    return FixedRatioType\n}\n\n// 修改数值\nconst onRatioChange = (width: number, height: number) => {\n    nextTick(() => {\n        if (params.rWidth) {\n            params.rWidth = limitToPrecision(params.rWidth, 3)\n        }\n        if (params.rHeight) {\n            params.rHeight = limitToPrecision(params.rHeight, 3)\n        }\n\n        if (needSetRecommendCropType.includes(params.type)) {\n            if (width && height) {\n                params.type = checkHasRecommendRatio(width, height)\n            } else {\n                if (!height || !width) {\n                    return\n                }\n            }\n            emitRadioChange()\n        }\n    })\n}\n\n// 交换宽高比\nconst handleExchange = () => {\n    const temp = [params.rWidth, params.rHeight]\n    params.rWidth = temp[1]\n    params.rHeight = temp[0]\n\n    emitRadioChange()\n}\n\n// 交换宽高比\nconst handleIdPhotoExchange = () => {\n    const temp = [params.width, params.height]\n    params.width = temp[1]\n    params.height = temp[0]\n    params.type = DefaultIdPhotoType\n\n    emitIdPhotoChange()\n}\n\nconst onUnitChange = (value: number) => {\n    const { dpi, width, height } = params\n    if (value === Unit.Pix) {\n        if (params.width) {\n            params.width = cm2pix(dpi, width || 0)\n        }\n        if (params.height) {\n            params.height = cm2pix(dpi, height || 0)\n        }\n    } else {\n        if (params.width) {\n            params.width = pix2cm(dpi, width || 0)\n        }\n        if (params.height) {\n            params.height = pix2cm(dpi, height || 0)\n        }\n    }\n    onIdPhotoChange()\n}\n\nconst limitMax = (value: number, max: number, min?: number) => {\n    const fValue = Number(value) || 0\n    if (fValue > max) {\n        return max\n    }\n\n    if (typeof min === 'number' && fValue < min) {\n        return min\n    }\n\n    return fValue\n}\n\nconst reset = () => {\n    params.type = RatioType\n    params.rWidth = undefined\n    params.rHeight = undefined\n    cache.width = undefined\n    cache.height = undefined\n\n    return {\n        width: params.rWidth,\n        height: params.rHeight,\n        type: params.type\n    }\n}\n\nconst limitDpi = (value: string, max: number) => {\n    const fValue = (value + '').replace(/[^\\d]/g, '')\n    if (fValue) {\n        params.dpi = limitMax(Number(fValue), max)\n    } else {\n        params.dpi = Number(fValue)\n    }\n}\n\nconst onDpiChange = (max: number, min: number) => {\n    params.dpi = limitMax(params.dpi, max, min)\n    emitIdPhotoChange()\n}\n\nconst { onInputBlur, onInputFocus } = useFocusAndBlurRepositories()\nexpose({ reset })\n\nreturn { __sfc: true,Unit, emit, cropInitObject, isSyncFromQt, params, cache, showRadioInput, showIdPhotoInput, maxDPI, min, imageData, imageOriFaceNum, needReset, syncFromJson, emitRadioChange, emitIdPhotoChange, onTypeChange, onIdPhotoChange, checkHasRecommendRatio, onRatioChange, handleExchange, handleIdPhotoExchange, onUnitChange, limitMax, reset, limitDpi, onDpiChange, onInputBlur, onInputFocus, tailorTypeList, TsSelect, TsSelectOption, ElInputNumber, ElSelect, ElOption }\n}\n\n})","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"id-photo-tailor-panel crop-info\"},[_c('div',{staticClass:\"select-box\"},[_c(_setup.TsSelect,{staticClass:\"ts-select\",on:{\"change\":_setup.onTypeChange},model:{value:(_setup.params.type),callback:function ($$v) {_vm.$set(_setup.params, \"type\", $$v)},expression:\"params.type\"}},[_vm._l((_setup.tailorTypeList),function(item,i){return [_c(_setup.TsSelectOption,{key:i,attrs:{\"value\":item.type,\"label\":item.label,\"line\":item.line || false,\"disabled\":item.faceNum && !item.faceNum.includes(_setup.imageOriFaceNum)}})]})],2)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showRadioInput),expression:\"showRadioInput\"}],staticClass:\"ratio-box\"},[_c('div',{staticClass:\"input-number-group-box\"},[_c('span',{staticClass:\"group--prepend\"},[_vm._v(\"宽\")]),_c(_setup.ElInputNumber,{staticClass:\"group--input input-number-mini\",attrs:{\"size\":\"small\",\"min\":1,\"max\":300000,\"controls\":false},on:{\"focus\":_setup.onInputFocus,\"blur\":_setup.onInputBlur,\"change\":function($event){return _setup.onRatioChange(_setup.params.rWidth, _setup.params.rHeight)}},model:{value:(_setup.params.rWidth),callback:function ($$v) {_vm.$set(_setup.params, \"rWidth\", $$v)},expression:\"params.rWidth\"}})],1),_c('el-button',{staticClass:\"custom-icon-btn\",attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_setup.handleExchange}},[_c('div',{staticClass:\"icon-btn\"},[_c('svg-icon',{staticClass:\"exchange\",attrs:{\"icon-class\":\"exchange\"}})],1)]),_c('div',{staticClass:\"input-number-group-box\"},[_c('span',{staticClass:\"group--prepend\"},[_vm._v(\"高\")]),_c(_setup.ElInputNumber,{staticClass:\"group--input input-number-mini\",attrs:{\"size\":\"small\",\"min\":1,\"max\":300000,\"controls\":false},on:{\"focus\":_setup.onInputFocus,\"blur\":_setup.onInputBlur,\"change\":function($event){return _setup.onRatioChange(_setup.params.rWidth, _setup.params.rHeight)}},model:{value:(_setup.params.rHeight),callback:function ($$v) {_vm.$set(_setup.params, \"rHeight\", $$v)},expression:\"params.rHeight\"}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showIdPhotoInput),expression:\"showIdPhotoInput\"}],staticClass:\"id-photo-box\"},[_c('div',{staticClass:\"input-number-group-box\"},[_c('span',{staticClass:\"group--prepend\"},[_vm._v(\"宽\")]),_c(_setup.ElInputNumber,{staticClass:\"group--input input-number-mini\",attrs:{\"size\":\"small\",\"min\":_setup.min,\"max\":300000,\"controls\":false},on:{\"focus\":_setup.onInputFocus,\"blur\":_setup.onInputBlur,\"change\":_setup.onIdPhotoChange},model:{value:(_setup.params.width),callback:function ($$v) {_vm.$set(_setup.params, \"width\", $$v)},expression:\"params.width\"}})],1),_c('el-button',{staticClass:\"custom-icon-btn\",attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_setup.handleIdPhotoExchange}},[_c('div',{staticClass:\"icon-btn\"},[_c('svg-icon',{staticClass:\"exchange\",attrs:{\"icon-class\":\"exchange\"}})],1)]),_c('div',{staticClass:\"input-number-group-box\"},[_c('span',{staticClass:\"group--prepend\"},[_vm._v(\"高\")]),_c(_setup.ElInputNumber,{staticClass:\"group--input input-number-mini\",attrs:{\"size\":\"small\",\"min\":_setup.min,\"max\":300000,\"controls\":false},on:{\"focus\":_setup.onInputFocus,\"blur\":_setup.onInputBlur,\"change\":_setup.onIdPhotoChange},model:{value:(_setup.params.height),callback:function ($$v) {_vm.$set(_setup.params, \"height\", $$v)},expression:\"params.height\"}})],1),_c(_setup.ElSelect,{staticClass:\"group--append ts-select-text\",attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},on:{\"change\":_setup.onUnitChange},model:{value:(_setup.params.unit),callback:function ($$v) {_vm.$set(_setup.params, \"unit\", $$v)},expression:\"params.unit\"}},[_c(_setup.ElOption,{attrs:{\"label\":\"像素\",\"value\":1}}),_c(_setup.ElOption,{attrs:{\"label\":\"厘米\",\"value\":2}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.showIdPhotoInput),expression:\"showIdPhotoInput\"}],staticClass:\"id-photo-box\"},[_c('div',{staticClass:\"input-number-group-box dpi-input-box\"},[_c('span',{staticClass:\"group--prepend\"},[_vm._v(\"分辨率\")]),_c('el-input',{staticClass:\"group--input input-number-mini\",attrs:{\"size\":\"small\",\"min\":30,\"max\":_setup.maxDPI,\"precision\":0,\"controls\":false,\"disabled\":!_setup.params.type},on:{\"blur\":_setup.onInputBlur,\"focus\":_setup.onInputFocus,\"input\":function($event){return _setup.limitDpi($event, _setup.maxDPI)},\"change\":function($event){return _setup.onDpiChange(_setup.maxDPI, 30)}},model:{value:(_setup.params.dpi),callback:function ($$v) {_vm.$set(_setup.params, \"dpi\", _vm._n($$v))},expression:\"params.dpi\"}}),_c('span',{staticClass:\"group--append\"},[_vm._v(\"像素/英寸\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {\n    ref,\n    reactive,\n    computed,\n    watch,\n    toRefs,\n    nextTick, SetupContext, ComputedRef\n} from 'vue'\n\nimport { throttle } from 'lodash'\n\nimport { Collapse, CollapseItem, Tooltip } from 'element-ui'\nimport TsItemCard from '@/components/ComponentCollection/components/TsItemCard'\nimport TsNumberPlaceholder from '@/components/TsNumberPlaceholder'\nimport TsSlider from '@/components/TsSlider'\nimport store from '@/store'\nimport { ICropAndRotateObject } from '@/types/refine'\nimport { limitToPrecision } from '@/utils/tsMath'\nimport useFocusAndBlurRepositories from '@/composables/useFocusAndBlurRepositories'\n\nclass RotateInfo {\n    baseAngle = 0\n    angle = 0\n\n    // 分割旋转\n    static spliteRotateAngle (value: number) {\n        let rotate = value\n        if (value >= 315) {\n            rotate = value - 360\n        }\n\n        const baseIndex = Math.floor((rotate + 45) / 90)\n\n        let baseAngle = 90 * baseIndex\n        if (baseAngle === 360) {\n            baseAngle = 0\n        }\n\n        const angle = limitToPrecision(rotate - baseAngle, 2)\n\n        return [baseAngle, angle]\n    }\n\n    get rotate () {\n        return limitToPrecision(this.baseAngle + this.angle, 2)\n    }\n\n    set rotate (val) {\n        if (limitToPrecision(val, 2) === this.rotate) {\n            return\n        }\n\n        const [base, angle] = RotateInfo.spliteRotateAngle(val)\n        this.baseAngle = base\n        this.angle = angle\n    }\n\n    reset() {\n        this.baseAngle = 0\n        this.angle = 0\n    }\n\n    increaseBase(value: number) {\n        let baseAngle = this.baseAngle\n        baseAngle += value\n\n        if (baseAngle > 270) {\n            baseAngle = 0\n        }\n\n        if (baseAngle < 0) {\n            baseAngle = 270\n        }\n\n        this.baseAngle = baseAngle\n    }\n}\n\nenum Flip {\n    Default = 1,\n    Inverse = -1\n}\n\nexport default {\n    name: 'ThumbCropTool',\n    components: {\n        'el-collapse': Collapse,\n        'el-collapse-item': CollapseItem,\n        'el-tooltip': Tooltip,\n        TsItemCard,\n        TsNumberPlaceholder,\n        TsSlider\n    },\n    props: {\n        rotate: {\n            type: Number,\n            default: 0\n        }\n    },\n    setup(props: any, { emit }: SetupContext) {\n\n        const { rotate } = toRefs(props)\n        const cropInitObject: ComputedRef<ICropAndRotateObject> = computed(() => store.getters['refine/cropInitObject'])\n\n        // 是否正在同步数据，同步时不emit数据\n        const isSyncFromQt = ref(false)\n\n        const params = reactive({\n            flipX: Flip.Default,\n            flipY: Flip.Default\n        })\n\n        const rotateObj = reactive({\n            model: new RotateInfo(),\n            angle: 0\n        })\n\n        const needReset = computed(() => params.flipX !== Flip.Default\n            || params.flipY !== Flip.Default\n            || rotateObj.angle !== 0\n            || rotateObj.model.rotate !== 0)\n        watch(needReset, (val) => emit('on-show-reset', val))\n\n        // 同步本地QT的Json数据\n        watch(cropInitObject, (obj) => {\n            isSyncFromQt.value = true\n            params.flipX = obj.flipX\n            params.flipY = obj.flipY\n\n            rotateObj.model.rotate = obj.rotate\n            rotateObj.angle = rotateObj.model.angle\n\n            nextTick(() => {\n                isSyncFromQt.value = false\n            })\n        })\n\n        // 实时同步角度\n        watch(rotate, (val) => {\n            isSyncFromQt.value = true\n\n            rotateObj.model.rotate = val\n            if (rotateObj.model.angle !== rotateObj.angle) {\n                rotateObj.angle = rotateObj.model.angle\n            }\n\n            nextTick(() => {\n                isSyncFromQt.value = false\n            })\n        })\n\n        // 通信间隔30ms\n        const emitRotateChange = throttle(function () {\n            emit('on-rotate', rotateObj.model.rotate)\n        }, 30)\n\n        const emitFlipChange = throttle(function () {\n            emit('on-flip', params.flipX, params.flipY)\n        }, 30)\n\n        // @ts-ignore\n        watch(() => rotateObj.angle, (val) => {\n            if (isSyncFromQt.value) {\n                return\n            }\n            rotateObj.model.angle = val\n            emitRotateChange()\n        })\n\n        const rotateButtons = computed(() => [\n            {\n                icon: 'turn-left',\n                tip: '逆时针旋转',\n                click: () => {\n                    rotateObj.model.increaseBase(-90)\n                    emitRotateChange()\n                }\n            },\n            {\n                icon: 'turn-right',\n                tip: '顺时针旋转',\n                click: () => {\n                    rotateObj.model.increaseBase(90)\n                    emitRotateChange()\n                }\n            },\n            {\n                icon: params.flipX === Flip.Default ? 'flip-x' : 'flip-x',\n                tip: '水平翻转',\n                click: () => {\n                    params.flipX = params.flipX === Flip.Default ? Flip.Inverse : Flip.Default\n                    emitFlipChange()\n                }\n            },\n            {\n                icon: params.flipY === Flip.Default ? 'flip-y' : 'flip-y',\n                tip: '垂直翻转',\n                click: () => {\n                    params.flipY = params.flipY === Flip.Default ? Flip.Inverse : Flip.Default\n                    emitFlipChange()\n                }\n            }\n        ])\n\n        const { onInputBlur, onInputFocus } = useFocusAndBlurRepositories()\n\n        return {\n            onInputBlur,\n            onInputFocus,\n\n            params,\n            rotateObj,\n            rotateButtons,\n            emitRotateChange,\n            reset: () => {\n                rotateObj.model.reset()\n                rotateObj.angle = 0\n                params.flipX = 1\n                params.flipY = 1\n\n                emitRotateChange()\n                emitFlipChange()\n            },\n\n            ondbclickRotate: () => {\n                rotateObj.angle = 0\n                rotateObj.model.angle = 0\n                emitRotateChange()\n            }\n        }\n    }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropArea.vue?vue&type=script&lang=ts&setup=true&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropArea.vue?vue&type=script&lang=ts&setup=true&\"","import { render, staticRenderFns } from \"./CropArea.vue?vue&type=template&id=8585f9b0&scoped=true&\"\nimport script from \"./CropArea.vue?vue&type=script&lang=ts&setup=true&\"\nexport * from \"./CropArea.vue?vue&type=script&lang=ts&setup=true&\"\nimport style0 from \"./CropArea.vue?vue&type=style&index=0&id=8585f9b0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8585f9b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tool-content\"},[_c('ts-item-card',{attrs:{\"name\":\"角度\"}},[_c('ts-number-placeholder',{attrs:{\"min\":-45,\"max\":45,\"step\":0.01},on:{\"on-blur\":_vm.onInputBlur,\"on-focus\":_vm.onInputFocus,\"change\":_vm.emitRotateChange},model:{value:(_vm.rotateObj.angle),callback:function ($$v) {_vm.$set(_vm.rotateObj, \"angle\", $$v)},expression:\"rotateObj.angle\"}}),_c('ts-slider',{staticClass:\"gray\",attrs:{\"slot\":\"bottom\",\"min\":-45,\"max\":45,\"show-tooltip\":false,\"show-input-controls\":false,\"step\":0.01},on:{\"ondblclick\":_vm.ondbclickRotate},nativeOn:{\"keydown\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey)return null;$event.stopPropagation();}},slot:\"bottom\",model:{value:(_vm.rotateObj.angle),callback:function ($$v) {_vm.$set(_vm.rotateObj, \"angle\", $$v)},expression:\"rotateObj.angle\"}})],1),_c('div',{staticClass:\"rotate-icons\"},[_vm._l((_vm.rotateButtons),function(item,i){return [_c('div',{key:i,staticClass:\"icon-box\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"bottom\",\"open-delay\":750,\"hide-after\":2000,\"content\":item.tip}},[_c('svg-icon',{staticClass:\"btn-icon\",attrs:{\"icon-class\":item.icon},nativeOn:{\"click\":function($event){$event.stopPropagation();return item.click.apply(null, arguments)}}})],1)],1)]})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RotateArea.vue?vue&type=template&id=d4fb17c2&scoped=true&\"\nimport script from \"./RotateArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./RotateArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RotateArea.vue?vue&type=style&index=0&id=d4fb17c2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4fb17c2\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent as _defineComponent } from 'vue'\nimport { ref, watch } from 'vue'\n\nimport { Collapse as ElCollapse, CollapseItem as ElCollapseItem, Tooltip as ElTooltip } from 'element-ui'\nimport CropArea from './components/CropArea'\nimport RotateArea from './components/RotateArea'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CropPanel',\n  props: {\n    rotate: {\n        type: Number,\n        default: 0\n    },\n    showCropResetBtn: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: ['on-crop-reset'],\n  setup(__props, { emit: $emit }) {\n\nconst props = __props\n\n\n\n\n\n\nconst activeNames = ref(['crop', 'rotate'])\nconst cropRef = ref()\nconst rotateRef = ref()\nconst isShowCropReset = ref(false)\nconst isShowRotateReset = ref(false)\n\nwatch(() => props.showCropResetBtn, (val: boolean) => {\n    if (val) {\n        isShowCropReset.value = true\n    }\n})\n\nconst resetCrop = () => {\n    const obj = cropRef.value?.reset()\n    $emit('on-crop-reset', obj)\n}\n\nconst resetRotate = () => rotateRef.value?.reset()\n\n\nreturn { __sfc: true,$emit, props, activeNames, cropRef, rotateRef, isShowCropReset, isShowRotateReset, resetCrop, resetRotate, ElCollapse, ElCollapseItem, CropArea, RotateArea }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropPanel.vue?vue&type=script&lang=ts&setup=true&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropPanel.vue?vue&type=script&lang=ts&setup=true&\"","import { render, staticRenderFns } from \"./CropPanel.vue?vue&type=template&id=bd2d73c0&scoped=true&\"\nimport script from \"./CropPanel.vue?vue&type=script&lang=ts&setup=true&\"\nexport * from \"./CropPanel.vue?vue&type=script&lang=ts&setup=true&\"\nimport style0 from \"./CropPanel.vue?vue&type=style&index=0&id=bd2d73c0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd2d73c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"painter-sidebar\"},[_c('div',{staticClass:\"nav\"},[_c('span',{staticClass:\"nav-item\",class:{ 'active': _setup.activeNav === 'history' },on:{\"click\":function($event){_setup.activeNav = 'history'}}},[_c('i',{staticClass:\"ts-icon ts-icon-history\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.activeNav === 'history'),expression:\"activeNav === 'history'\"}],staticClass:\"tool\"},[_c('div',{staticClass:\"tool-title\"},[_c('span',[_vm._v(\"历史记录\")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showResetBtn),expression:\"showResetBtn\"}],staticClass:\"el-icon-refresh-right reset-btn-icon\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('on-reset')}}})]),_c('ul',{staticClass:\"tool-content history global__scroll-style\"},[(_vm.historyList.length > 0)?[_vm._l((_vm.historyList),function(item){return [_c('li',{key:item.uuid,staticClass:\"history-item\",class:{ disabled: item.disabled, active: item.active },on:{\"click\":function($event){item.disabled ? _setup.tsNotify('暂仅支持撤销至最近10步') : _setup.changeHistory(item.uuid)}}},[(item.type === 'liquefy')?[_c('svg-icon',{attrs:{\"class-name\":\"ts-icon\",\"icon-class\":\"liquefy\"}})]:[_c('i',{staticClass:\"ts-icon\",class:{\n                                'ts-icon-brush': item.type === 'brush',\n                                'ts-icon-liquefy': item.type === 'liquefy',\n                                'ts-icon-eraser': item.type === 'eraser',\n                                'el-icon-refresh-right': item.type === 'reset'\n                            }})],_vm._v(\" \"+_vm._s(item.name)+\" \")],2)]})]:_c('li',{staticClass:\"history-empty\"},[_vm._v(\" 暂无操作记录 \")])],2),_vm._t(\"bottom\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { ref } from 'vue'\nimport useToastRepositories from '@/composables/useToastRepositories'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LiquefyPanel',\n  props: {\n    showResetBtn: {\n        type: Boolean,\n        default: false\n    },\n    historyList: {\n        type: Array,\n        default: () => []\n    }\n},\n  emits: ['change-history'],\n  setup(__props, { emit }) {\n\n\n\n\n\n\nconst activeNav = ref('history')\nconst { tsNotify } = useToastRepositories()\nconst changeHistory = (uuid: string) => emit('change-history', uuid)\n\n\nreturn { __sfc: true,emit, activeNav, tsNotify, changeHistory }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyPanel.vue?vue&type=script&lang=ts&setup=true&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyPanel.vue?vue&type=script&lang=ts&setup=true&\"","import { render, staticRenderFns } from \"./LiquefyPanel.vue?vue&type=template&id=f30b5c0a&scoped=true&\"\nimport script from \"./LiquefyPanel.vue?vue&type=script&lang=ts&setup=true&\"\nexport * from \"./LiquefyPanel.vue?vue&type=script&lang=ts&setup=true&\"\nimport style0 from \"./LiquefyPanel.vue?vue&type=style&index=0&id=f30b5c0a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f30b5c0a\",\n  null\n  \n)\n\nexport default component.exports","import { reactive, ref, Ref, watch, UnwrapNestedRefs } from 'vue'\nimport PhotoControl from '@/view-model/photo-control'\nimport store from '@/store'\nimport { RefineThumbnailEventId } from '@/qt-ipc/business/refine'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\ninterface IRepositories {\n    cropConfig: UnwrapNestedRefs<{\n        rotate: number\n    }>\n\n    finishCrop: () => void\n    useCropTool: () => void\n\n    handleRotate: (val: number, mode: string) => void,\n    handleResetCrop: (val: any) => void,\n    handleFlip: (x: number, y: number) => void,\n    handleCrop: (data: any) => void,\n}\n\ninterface IOptions {\n    beforeOpenMode: () => void\n    beforeCloseMode: () => void\n}\n\nexport default function useCropRepositories (photoControl: Ref<PhotoControl>, options?: IOptions): IRepositories {\n\n    const cropConfig = reactive({\n        rotate: 0,\n        showCropResetBtn: false\n    })\n\n    const { PointCropFinish } = useParamsPointsRepositories()\n\n    const useCropTool = () => {\n        options && options?.beforeOpenMode()\n        const obj = photoControl.value.useCropTool()\n        store.commit('refine/_SetCropInitObject', obj)\n    }\n\n    const finishCrop = (): void => {\n        options && options?.beforeCloseMode()\n        PointCropFinish(photoControl.value.getCropObj())\n        photoControl.value.closeTool()\n        cropConfig.showCropResetBtn = false\n        cropConfig.rotate = 0\n    }\n\n    watch(photoControl, (instance: PhotoControl) => {\n        instance?.on('on-rotate', (value: number) => {\n            cropConfig.rotate = value\n        })\n\n        instance?.on(RefineThumbnailEventId.FinishCrop, () => {\n            finishCrop()\n        })\n    })\n\n    return {\n        cropConfig,\n        finishCrop,\n        useCropTool,\n\n        handleRotate: (val: number, mode: string) => {\n            cropConfig.rotate = val\n            photoControl.value?.handleRotate(val, mode)\n        },\n        handleResetCrop: (val: any) => photoControl.value?.handleResetCrop(val),\n        handleFlip: (x: number, y: number) => photoControl.value.handleFlip(x, y),\n        handleCrop: (data: any) => photoControl.value?.handleCrop(data),\n    }\n}\n","import { computed, ComputedRef, nextTick, Ref, ref, watch } from 'vue'\nimport { debounce } from 'lodash'\n\nimport { checkHasGuideRecord, DictionaryKeys, insertGuideRecord } from '@/universal/datastore/dictionaryDao'\nimport PhotoControl, { PhotoCtrlListenerEvent } from '@/view-model/photo-control'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport store from '@/store'\n\nexport interface IRepositories {\n    isInColorNav: ComputedRef<boolean>\n    isOnlyPaletteEffect: Ref<boolean>\n\n    showPaletteUpdateGuide: Ref<boolean>,\n    showHiddenEffectTip: Ref<boolean>,\n    checkIsShowHiddenEffectTip: (forceCheck?: boolean) => Promise<void>,\n    cacheHiddenEffectTip: () => Promise<void>\n}\n\nexport default function usePaletteRepositories(photoControlRef: Ref<PhotoControl>, activeNavName: Ref<string>, isFullScreenPreview: Ref<boolean>): IRepositories {\n\n    const showPaletteUpdateGuide = ref(false)\n    const hasCachePreviewTip = ref(false)\n\n    const { PointPreviewColorMode, PointPreviewFullMode } = useRefinePointsRepositories()\n\n\n    const isOnlyPaletteEffect = computed({\n        get: () => store.getters['refine/isOnlyPaletteEffect'],\n        set: (bool) => {\n            if (bool) {\n                PointPreviewColorMode()\n            } else {\n                PointPreviewFullMode()\n            }\n            store.commit('refine/_SetIsOnlyPaletteEffect', bool)\n        }\n    })\n\n    // 查看是否存在已确认引导提示\n    const checkHasHiddenEffectTip = async () => {\n        if (hasCachePreviewTip.value) {\n            return\n        }\n        const bool = await checkHasGuideRecord(DictionaryKeys.HiddenPreviewEffectTip)\n        if (bool) {\n            hasCachePreviewTip.value = true\n            if (isOnlyPaletteEffect.value) {\n                await checkIsShowHiddenEffectTip()\n            }\n        } else {\n            PointPreviewInit()\n            showPaletteUpdateGuide.value = true\n        }\n    }\n\n    const hiddenTipTimer = ref(0)\n    const clearTimer = () => {\n        if (hiddenTipTimer.value) {\n            clearTimeout(hiddenTipTimer.value)\n            hiddenTipTimer.value = 0\n        }\n    }\n\n    const showHiddenEffectTip = ref(false)\n    const isInColorNav = computed(() => activeNavName.value === 'color')\n    watch(() => isInColorNav.value, async (value) => {\n        if (!value) {\n            showHiddenEffectTip.value = false\n            showPaletteUpdateGuide.value = false\n            clearTimer()\n        } else {\n            await checkHasHiddenEffectTip()\n        }\n    }, {\n        immediate: true\n    })\n\n    // 切换预览模式\n    const reloadProcessImage = debounce(function (bool: boolean) {\n        photoControlRef.value?.reloadProcessImage(bool ? 'onlyPreviewPalette' : 'previewAll')\n    }, 100)\n    watch(isOnlyPaletteEffect, async (val) => {\n        reloadProcessImage(val)\n\n        if (val) {\n            await checkIsShowHiddenEffectTip()\n        }\n    })\n\n\n    const { PointPreviewInit } = useRefinePointsRepositories()\n    // 检测是否显示隐藏效果提示\n    const checkIsShowHiddenEffectTip = async () => {\n        if (!hasCachePreviewTip.value) {\n            return\n        }\n        // 存在美化效果时，需要显示引导提示\n        const hasEffect = photoControlRef.value.hasBeautifyEffect()\n        if (!hasEffect) {\n            clearTimer()\n            showHiddenEffectTip.value = false\n            return\n        }\n\n        PointPreviewInit()\n        clearTimer()\n\n        setTimeout(() => {\n            nextTick(() => {\n                showHiddenEffectTip.value = true\n                hiddenTipTimer.value = setTimeout(async () => {\n                    showHiddenEffectTip.value = false\n                    hiddenTipTimer.value = 0\n                }, 4000)\n            })\n        }, 300)\n    }\n\n    // 用户确认知道隐藏效果提示\n    const cacheHiddenEffectTip = async () => {\n        if (hasCachePreviewTip.value) {\n            return\n        }\n        showPaletteUpdateGuide.value = false\n        await insertGuideRecord(DictionaryKeys.HiddenPreviewEffectTip)\n        setTimeout(() => nextTick(() => hasCachePreviewTip.value = true), 100)\n    }\n\n    let isChangeImage = ref(false)\n    // 在仅调色预览模块监听预设变化\n    watch(photoControlRef, async (photoControl) => {\n        isChangeImage.value = true\n        photoControl.on(PhotoCtrlListenerEvent.PresetJsonUpdate, async () => {\n            if (isOnlyPaletteEffect.value && isInColorNav.value) {\n                await checkIsShowHiddenEffectTip()\n            }\n            isChangeImage.value = false\n        })\n    })\n\n    return {\n        isInColorNav,\n        isOnlyPaletteEffect,\n\n        showPaletteUpdateGuide,\n        showHiddenEffectTip,\n\n        checkIsShowHiddenEffectTip,\n        cacheHiddenEffectTip\n    }\n}\n","import { computed, ComputedRef, ref, Ref, watch } from 'vue'\nimport store from '@/store'\nimport { RefineNavName } from '@/constants/refine'\n\ninterface IRepositories {\n    activeNavName: Ref<string>\n    isInCropNavbar: ComputedRef<boolean>\n\n    restoreNavbar: () => void\n    beforeRefineNavBarChange: (fromKey: string, toKey: string) => boolean\n}\n\nexport default function useNavbarRepositories (navBarChange: (fromKey: string, toKey: string) => void): IRepositories {\n    const cacheLastNav = ref('')\n    const defaultActiveNavName = store.getters['refine/activeNavName']\n\n    const activeNavName = ref(defaultActiveNavName)\n    watch(activeNavName, (val) => store.commit('refine/_SetActiveNavName', val))\n\n    const isInCropNavbar = computed(() => activeNavName.value === RefineNavName.Crop)\n\n    const restoreNavbar = () => {\n        activeNavName.value = cacheLastNav.value\n        cacheLastNav.value = ''\n    }\n\n    const beforeRefineNavBarChange = (fromKey: string, toKey: string): boolean => {\n        cacheLastNav.value = fromKey\n        navBarChange && navBarChange(fromKey, toKey)\n        return true\n    }\n\n    return {\n        activeNavName,\n        isInCropNavbar,\n\n        restoreNavbar,\n        beforeRefineNavBarChange\n    }\n}\n","import { ref, onUnmounted, Ref, onMounted } from 'vue'\nimport PhotoControl from '@/view-model/photo-control'\nimport refine, { RefineListenerEvent } from '@/qt-ipc/business/refine'\nimport useToastRepositories from '@/composables/useToastRepositories'\nimport LiquefyControl from '@/view-model/photoControl/LiquefyControl'\nimport { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport { LiquefyListenerEvent, PtListenerEvent } from '@/view-model/photoControl/contants/listenerEvent'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\n\nexport interface IRepositories {\n    showResetBtn: Ref<boolean>\n    showModePanel: Ref<boolean>\n    hideLiquefyTool: Ref<boolean>\n    historyList: Ref<any[]>,\n\n    handleUseLiquefyMode: () => void,\n    handleFinishLiquefyMode: (mode: string, isButton?: boolean) => void,\n    handleReset: () => void\n\n    switchLiquefyTool: (mode: Tool) => void,\n    onChangeLiquefyHistory: (uuid: string) => void\n}\n\nexport interface IOptions {\n    beforeOpenMode: () => void\n    beforeCloseMode: () => void\n}\n\nexport default function useLiquefyRepositories(photoControlRef: Ref<PhotoControl>, isDestroy: Ref<boolean>, options?: IOptions): IRepositories {\n    const showResetBtn = ref(false)\n    const historyList = ref([])\n    const showModePanel = ref(false)\n    const hideLiquefyTool = ref(false)\n\n    const liquefyInstance: Ref<LiquefyControl | undefined> = ref()\n    const { PointClickLiquefaction } = useRefinePointsRepositories()\n\n    const useLiquefyMode = (): void => {\n        if (showModePanel.value) {\n            return\n        }\n        showModePanel.value = true\n        hideLiquefyTool.value = false\n        options && options?.beforeOpenMode()\n        liquefyInstance.value = photoControlRef.value.useLiquefyMode()\n        liquefyInstance.value.on(PtListenerEvent.HistoryUpdate, (data: any) => historyList.value = data)\n            .on(PtListenerEvent.ShowResetDefaultMask, (val: boolean) => showResetBtn.value = val)\n            // .on(LiquefyListenerEvent.MouseEvent, (isPress: boolean) => hideLiquefyTool.value = isPress)\n\n        _listenThumbnailCanChooseItem()\n        PointClickLiquefaction()\n    }\n\n    const _finishLiquefyMode = (mode: string, isButton: boolean = false): void => {\n        options && options?.beforeCloseMode()\n        if (mode === 'cancel') {\n            liquefyInstance.value?.cancelLiquefyMode()\n        } else if (mode === 'save') {\n            liquefyInstance.value?.saveLiquefyMode()\n        }\n        showModePanel.value = false\n        liquefyInstance.value?.destroy()\n        liquefyInstance.value = undefined\n        _listenThumbnailCanChooseItem(true)\n    }\n\n    const { tsConfirm } = useToastRepositories()\n    const _closeConfirm = () => {\n        tsConfirm({\n            title: '是否需要保存液化修改？',\n            confirmButtonText: '确认'\n        }).then(() => {\n            _finishLiquefyMode('save')\n        }).catch(() => {\n            _finishLiquefyMode('cancel')\n        })\n    }\n\n    // 手动操作取消按钮机确认按钮\n    const handleFinishLiquefyMode = (mode: string, isButton: boolean = true) => {\n        if (mode === 'cancel' && isButton && historyList.value.length > 1) {\n            _closeConfirm()\n        } else {\n            _finishLiquefyMode(mode)\n        }\n    }\n    // 监听涂抹模式中选中切换\n    const _listenThumbnailCanChooseItem = (isDestroy: boolean = false): void => {\n        if (isDestroy) {\n            refine.removeListener(RefineListenerEvent.ThumbnailCanChooseItem)\n        } else {\n            refine.addListener(RefineListenerEvent.ThumbnailCanChooseItem, () => _closeConfirm())\n        }\n    }\n\n    onUnmounted(() => {\n        _listenThumbnailCanChooseItem(true)\n        liquefyInstance.value?.destroy()\n        liquefyInstance.value = undefined\n    })\n\n    // const handleLiquefyMode = debounce(function () {\n    //     if (showModePanel.value) {\n    //         handleFinishLiquefyMode('save')\n    //     } else {\n    //         useLiquefyMode()\n    //     }\n    // }, 50)\n\n    return {\n        showResetBtn,\n        showModePanel,\n        historyList,\n        hideLiquefyTool,\n\n        handleFinishLiquefyMode,\n        handleUseLiquefyMode: useLiquefyMode,\n\n        switchLiquefyTool: (mode: Tool) => liquefyInstance.value?.changeTool(mode),\n        onChangeLiquefyHistory: (uuid: string) => liquefyInstance.value?.changeHistory(uuid),\n        handleReset: () => {\n            if (!showResetBtn.value) {\n                return\n            }\n            showResetBtn.value = false\n            liquefyInstance.value?.resetLiquefy()\n        }\n    }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(_setup.Drawer,{staticClass:\"liquefy-drawer\",attrs:{\"append-to-body\":\"\",\"direction\":\"ttb\",\"show-close\":false,\"size\":42,\"modal\":false,\"visible\":_setup.visible,\"wrapperClosable\":false,\"close-on-press-escape\":false,\"before-close\":_setup.onBeforeClose},on:{\"update:visible\":function($event){_setup.visible=$event}}},[_c('div',{staticClass:\"tool-content\"},[_vm._l((_setup.tools),function(tool,key){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.toolKey === key),expression:\"toolKey === key\"}],key:key,staticClass:\"tool-slider\"},[_vm._l((tool),function(item,j){return [(item.cType && item.cType === 'switch')?[_c('div',{key:j,staticClass:\"tool-slider-item switch\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(item.name))]),_c(_setup.ElSwitch,{staticClass:\"custom-switch-style ts-switch--mini\",attrs:{\"inactive-value\":0,\"active-value\":1,\"width\":24,\"active-color\":\"#3073FF\"},on:{\"change\":function($event){[item.setValue($event), _setup.changeTool(_setup.toolKey), _setup.PointLiquefyOperate(item.type)]}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)]:[_c('div',{key:j,staticClass:\"tool-slider-item\"},[_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"slider-box\"},[_c(_setup.TsSlider,{staticClass:\"slider ts-slider--mini gray\",attrs:{\"min\":item.min || 0,\"max\":item.max || 100,\"step\":item.step || 1,\"show-tooltip\":false},on:{\"input\":function($event){[item.setValue($event), _setup.changeTool(_setup.toolKey)]},\"change\":function($event){return _setup.PointLiquefyOperate(item.type)}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.value))])])]]})],2)]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { debounce } from 'lodash'\nimport { ref, onMounted, onUnmounted, watch, nextTick, Ref } from 'vue'\n\nimport { IToolComponentData } from '@/view-model/photoControl/controlTools/types/tool'\nimport ControlTools from '@/view-model/photoControl/controlTools/LiquefyToolControl'\nimport { Tool } from '@/view-model/photoControl/controlTools/contants/config'\nimport useParamsPointsRepositories from '@/composables/points/useParamsPointsRepositories'\n\nimport { Switch as ElSwitch, Drawer } from 'element-ui'\nimport TsSlider from '@/components/TsSlider'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LiquefyDrawer',\n  props: {\n    value: {\n        type: Boolean,\n        default: false\n    }\n},\n  emits: ['change-tool', 'input', 'before-close'],\n  setup(__props, { emit: $emit }) {\n\nconst props = __props\n\n\n\n\n\nconst visible = ref(props.value)\nwatch(() => props.value, (val) => {\n    visible.value = val\n    if (val) {\n        initTool()\n    }\n})\nwatch(visible, (val) => $emit('input', val))\n\nconst isMounted = ref(false)\nconst controlTools = ControlTools.getInstance()\nconst tools: Ref<{ [key: string]: IToolComponentData[] } | {}> = ref({})\nconst toolKey = ref('')\n\nconst { PointLiquefyOperate } = useParamsPointsRepositories()\n\nconst initTool = (): void => {\n    isMounted.value = false\n    tools.value = controlTools.createToolsOperationData()\n    toolKey.value = controlTools.tool\n    nextTick(() => isMounted.value = true)\n}\n\nconst emitToolChange = debounce((val: Tool) => $emit('change-tool', val), 30)\nconst changeTool = (val: Tool) => {\n    // 未挂载时不触发数值修改\n    if (!isMounted.value) {\n        return\n    }\n\n    toolKey.value = val\n    controlTools.changeTool(val)\n    emitToolChange(controlTools.tool)\n}\n\nconst onBeforeClose = (done: Function) => $emit('before-close', done)\n\nconst updateToolByKeydown = () => tools.value = controlTools.createToolsOperationData()\nonMounted(() => controlTools.on('on-update', updateToolByKeydown))\nonUnmounted(() => controlTools.off('on-update', updateToolByKeydown))\n\n\nreturn { __sfc: true,props, $emit, visible, isMounted, controlTools, tools, toolKey, PointLiquefyOperate, initTool, emitToolChange, changeTool, onBeforeClose, updateToolByKeydown, ElSwitch, Drawer, TsSlider }\n}\n\n})","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyDrawer.vue?vue&type=script&setup=true&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyDrawer.vue?vue&type=script&setup=true&lang=ts&\"","import { render, staticRenderFns } from \"./LiquefyDrawer.vue?vue&type=template&id=24bbd71e&scoped=true&\"\nimport script from \"./LiquefyDrawer.vue?vue&type=script&setup=true&lang=ts&\"\nexport * from \"./LiquefyDrawer.vue?vue&type=script&setup=true&lang=ts&\"\nimport style0 from \"./LiquefyDrawer.vue?vue&type=style&index=0&id=24bbd71e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24bbd71e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"wrap\"\n         @drop=\"onDropImageFiles\"\n         @dragover.prevent.stop @dragenter.prevent.stop\n    >\n        <div class=\"topLeftItem\">\n            <el-divider direction=\"vertical\"></el-divider>\n            <zoom-button-group\n                v-model=\"fitRatio\"\n                :disabled-quick-button=\"isInCropNav\"\n                :show-all-scale=\"showAllScale\"\n                @on-slider=\"onZoomSlider\"\n                @on-resize=\"imageResize\"\n            />\n            <el-divider direction=\"vertical\"></el-divider>\n\n            <el-button\n                v-show=\"!isInCropNav\"\n                v-blur\n                size=\"mini\"\n                class=\"btn-icon\"\n                :class=\"{ 'active': isDragging && !showLiquefy }\"\n                @click=\"handleClickDrag\">\n                <svg-icon icon-class=\"drag\" class-name=\"ts-icon drag-icon\" style=\"pointer-events: none\"/>\n            </el-button>\n\n            <el-tooltip\n                effect=\"light\"\n                content=\"手动液化\"\n                placement=\"bottom\"\n                :visible-arrow=\"false\"\n                popper-class=\"title-tip\">\n                <el-button\n                    v-blur\n                    size=\"mini\"\n                    class=\"btn-icon\"\n                    :class=\"{ 'active': showLiquefy }\"\n                    :disabled=\"!imageState.effectLoaded || isInCropNav || showPainter || (isInColorNav && isOnlyPaletteEffect)\"\n                    @click=\"handleUseLiquefyMode\">\n                    <svg-icon icon-class=\"liquefy\" class-name=\"ts-icon liquefy-icon\" style=\"pointer-events: none\"/>\n                </el-button>\n            </el-tooltip>\n        </div>\n\n        <ts-progress\n            class=\"custom-top-progress\"\n            :disabled=\"disabledProgress\"\n            :value=\"imageState.loading\"\n        />\n\n        <div\n            id=\"guide__first_apply-preset-suit-btn\"\n            class=\"Image-canvas-container\"\n            :class=\"{\n                'fullscreen': isFullScreenPreview,\n                'grab-active': isDragging,\n                'grabbing': containerMouseDown,\n                'hidden-cursor': !isDragging && (showPainter || showLiquefy)\n            }\"\n            @mousedown=\"containerMouseDown = true\"\n            @mouseup=\"containerMouseDown = false\">\n\n            <CostTime\n                v-if=\"!costTimeObj.costIsPro\"\n                :costTimeData=\"costTimeObj.costTimeData\"\n                :costLastTime=\"costTimeObj.costLastTime\"\n                :costNewTime=\"costTimeObj.costNewTime\"\n            />\n\n            <div\n                class=\"fixed-bottom-container\"\n                :style=\"{ 'z-index': 999 }\"\n                @keydown.prevent>\n                <div class=\"exit-preview-btn-box global__backdrop-filter\" v-if=\"isFullScreenPreview\">\n                    <SpinLoading\n                        hidden-background\n                        :show=\"imageState.loading\"\n                        :loading=\"imageState.loading\"\n                        :text=\"imageState.loading ? '效果预览加载中...' : '已显示全部效果'\"\n                    />\n\n                    <el-button\n                        v-blur\n                        size=\"mini\"\n                        class=\"exit-preview-btn\"\n                        @mouseenter.native=\"stopMousePropagation(true)\"\n                        @mouseleave.native=\"stopMousePropagation(false)\"\n                        @click=\"handleExitPreview\">\n                        退出预览\n                    </el-button>\n                </div>\n\n                <template v-else-if=\"isInColorNav\">\n                    <el-popover\n                        width=\"200px\"\n                        placement=\"top\"\n                        trigger=\"manual\"\n                        popper-class=\"preview-all-effect-tip\"\n                        :value=\"showPaletteUpdateGuide\">\n\n                        <div class=\"palette__guide\">\n                            <p class=\"palette__guide-title\">\n                                🎉 实时调色功能来了！\n                                <i class=\"el-icon-close\" @click.prevent=\"cacheHiddenEffectTip\"></i>\n                            </p>\n\n                            <div class=\"palette__guide-content\">\n                                <p>您可根据实际操作选择不同模式：</p>\n                                <p>1. 全效果模式下，调色速度较慢 🐢。可展示全部效果。</p>\n                                <p>2. 调色模式下，可实时调色 ⚡️。仅展示色彩效果，非色彩效果暂时隐藏。</p>\n                            </div>\n\n                            <p style=\"text-align: right\">\n                                <el-link\n                                    size=\"mini\"\n                                    type=\"primary\"\n                                    class=\"global__color-system\"\n                                    style=\"font-size: 12px\"\n                                    :underline=\"false\"\n                                    @click.prevent=\"cacheHiddenEffectTip\">\n                                    知道了\n                                </el-link>\n                            </p>\n                        </div>\n\n                        <el-radio-group\n                            v-show=\"!showLiquefy\"\n                            slot=\"reference\"\n                            size=\"mini\"\n                            class=\"ts-custom__radio-group\"\n                            v-model=\"isOnlyPaletteEffect\"\n                            @mouseenter.native=\"stopMousePropagation(true)\"\n                            @mouseleave.native=\"stopMousePropagation(false)\">\n                            <el-radio-button class=\"radio-button\" :label=\"false\">全效果模式</el-radio-button>\n                            <el-radio-button class=\"radio-button\" :label=\"true\">\n                                <el-popover\n                                    width=\"200px\"\n                                    placement=\"top\"\n                                    trigger=\"manual\"\n                                    popper-class=\"preview-all-effect-tip\"\n                                    :value=\"showHiddenEffectTip && !showPaletteUpdateGuide\">\n                                    <p style=\"text-align: center\">色彩调节期间，将临时关闭其他效果</p>\n                                    <div slot=\"reference\" class=\"radio-button-text\">\n                                        调色模式\n                                        <el-popover\n                                            width=\"200px\"\n                                            placement=\"top\"\n                                            trigger=\"hover\">\n                                            <div class=\"palette-mode-tip\">\n                                                <p>全效果模式：展示全部效果，调色速度较慢；</p>\n                                                <p>调色模式：可实时调色，非色彩效果暂时隐藏</p>\n                                            </div>\n                                            <i class=\"ts-icon-question-outside\" slot=\"reference\"></i>\n                                        </el-popover>\n                                    </div>\n                                </el-popover>\n                            </el-radio-button>\n                        </el-radio-group>\n                    </el-popover>\n                </template>\n\n                <el-tooltip\n                    v-show=\"!isFullScreenPreview && !isInCropNav\"\n                    ref=\"space-tooltip\"\n                    effect=\"dark\"\n                    popper-class=\"compare__image-hot-key-tip\"\n                    :hide-after=\"1500\"\n                    placement=\"top-end\">\n                    <div slot=\"content\" class=\"hot-key-content\">\n                        <img\n                            class=\"img\"\n                            :src=\"require($isMac\n                            ? '@/assets/images/tips_png_keyboard_mac@3x.png'\n                            : '@/assets/images/tips_png_keyboard_windows@3x.png')\"\n                            alt=\"\">\n                        <p class=\"label\">长按进行对比，快捷键：~</p>\n                    </div>\n                    <el-button\n                        size=\"small\"\n                        tabindex=\"-1\"\n                        type=\"default\"\n                        ref=\"btn-switch\"\n                        class=\"btn-icon global__backdrop-filter\"\n                        @mouseenter.native=\"stopMousePropagation(true)\"\n                        @mouseleave.native=\"stopMousePropagation(false)\"\n                        @click=\"PointZoomCompare('bottom')\"\n                        @mouseup.native=\"photoCompare('up')\"\n                        @mousedown.native=\"photoCompare('down')\">\n                        <img\n                            class=\"img\"\n                            :src=\"$getIconPath('toolbar_button_compared@3x.png')\"\n                            style=\"pointer-events: none\"\n                            alt=\"\">\n                    </el-button>\n                </el-tooltip>\n            </div>\n\n            <template v-if=\"!isFullScreenPreview\">\n                <SpinLoading\n                    fixed\n                    style=\"bottom: 16px; left: 7.5px\"\n                    :show=\"imageState.loading\"\n                    :text=\"loadingText\"\n                />\n\n                <template v-if=\"user.waterMark !== 3\">\n                    <div class=\"watermark-tip\" v-show=\"!imageState.loading\">\n                        <i class=\"el-icon-warning-outline\"></i>\n                        {{ $t('pagePhotoFinishing.watermarkTip') }}\n                    </div>\n                </template>\n\n                <div class=\"claImageName\">{{ imageName }}</div>\n            </template>\n        </div>\n\n        <div class=\"all-tool-area\" v-show=\"!isFullScreenPreview\">\n            <right-params-view\n                v-show=\"[RefineNavName.Beauty, RefineNavName.Palette, RefineNavName.Background].includes(activeNavName)\"\n                ref=\"right-params-view\"\n                :active-nav-name=\"activeNavName\"\n                :refineUUID=\"refineUUID\"\n                :isDestroy=\"isDestroy\"\n                :get-params-json=\"getParamsJson\"\n                @onApplyPresetCallback=\"onApplyPresetClick\"\n                @onChangeFaceDataCallback=\"reloadProcessImage('face')\"\n                @on-change-color-slider=\"onChangeColor\"\n                @on-change-beautify-change=\"onChangeBeautify\"\n                @on-reset-params=\"resetRemoveDefectivePaintMask\"\n            >\n                <template slot=\"histogram\">\n                    <Histogram\n                        ref=\"tsHistogram\"\n                        :width=\"300\"\n                        :chartData=\"histogramData.chartData || {}\"\n                        :imageInfo=\"histogramData.imageInfo || {}\">\n                    </Histogram>\n                </template>\n                <template slot=\"painter\">\n                    <el-button\n                        type=\"text\"\n                        class=\"ts-icon-painter-button\"\n                        :disabled=\"!imageState.allowPainter\"\n                        v-gtag-event=\"PointClickSmear\"\n                        @click.stop=\"usePainterTool\"\n                    >\n                        <el-tooltip\n                            effect=\"light\"\n                            content=\"手动涂抹\"\n                            placement=\"bottom\"\n                            :visible-arrow=\"false\"\n                            popper-class=\"title-tip\">\n                            <i\n                                class=\"ts-icon-painter\"\n                                :class=\"{\n                                    'active': !imageState.paintRemoveDefectiveMaskIsEmpty,\n                                    disabled: !imageState.allowPainter\n                                }\">\n\n                            </i>\n\n                        </el-tooltip>\n                    </el-button>\n                </template>\n            </right-params-view>\n\n            <ts-drawer\n                class=\"opt-record\"\n                width=\"300px\"\n                direction=\"rtl\"\n                :value=\"activeNavName === 'history'\">\n                <ThumbOptRecordView\n                    :is-show=\"activeNavName === 'history'\"\n                    :photo-control-func=\"photoControlInfo\"\n                />\n            </ts-drawer>\n\n            <ts-drawer\n                class=\"opt-record\"\n                width=\"300px\"\n                direction=\"rtl\"\n                :value=\"activeNavName === 'crop'\">\n                <crop-panel\n                    :rotate=\"cropConfig.rotate\"\n                    @on-rotate=\"handleRotate\"\n                    @on-flip=\"handleFlip\"\n                    @on-crop-change=\"handleCrop\"\n                    @on-crop-reset=\"handleResetCrop\">\n                    <template #bottom>\n                        <el-button\n                            style=\"width: 100%\"\n                            type=\"primary\"\n                            size=\"mini\"\n                            class=\"btn system-theme\"\n                            @click=\"clickFinishCropBtn\">\n                            确认\n                        </el-button>\n                    </template>\n                </crop-panel>\n            </ts-drawer>\n        </div>\n\n        <refine-nav-bar\n            class=\"params-group\"\n            :before-change=\"beforeRefineNavBarChange\"\n            :ban-shortcut=\"showPainter\"\n            :image-loading=\"imageState.loading\"\n            :image-init=\"imageState.init\"\n            v-model=\"activeNavName\"\n        />\n\n        <ts-drawer\n            width=\"345px\"\n            v-model=\"showPainter\"\n            direction=\"rtl\">\n            <defect-panel\n                v-if=\"showPainter\"\n                :showResetMaskBtn=\"showResetMaskBtn\"\n                :historyList=\"painterHistoryList\"\n                @change-tool=\"switchDefectTool\"\n                @change-history=\"onChangeHistory\"\n                @on-reset-painter=\"resetPainterRecord\">\n                <div slot=\"bottom\" class=\"operation-panel-bottom\">\n                    <el-button\n                        size=\"mini\"\n                        class=\"btn\"\n                        v-gtag-event=\"PointClickSmearCancel\"\n                        @click=\"setRemoveDefectivePaintMask('cancel')\">\n                        取消\n                    </el-button>\n\n                    <el-button\n                        size=\"mini\"\n                        class=\"btn\"\n                        :disabled=\"imageState.loading\"\n                        v-gtag-event=\"PointClickPreservation\"\n                        @click=\"setRemoveDefectivePaintMask('save')\">\n                        保存\n                    </el-button>\n                </div>\n            </defect-panel>\n        </ts-drawer>\n\n        <ts-drawer\n            width=\"345px\"\n            v-model=\"showLiquefy\"\n            direction=\"rtl\">\n            <liquefy-panel\n                v-if=\"showLiquefy\"\n                :historyList=\"liquefyHistoryList\"\n                :show-reset-btn=\"showLiquefyResetBtn\"\n                @change-history=\"onChangeLiquefyHistory\"\n                @on-reset=\"handleResetLiquefy\">\n                <div slot=\"bottom\" class=\"operation-panel-bottom\">\n                    <el-button\n                        size=\"mini\"\n                        class=\"btn\"\n                        @click=\"[handleFinishLiquefyMode('cancel'), PointLiquefactionCancel()]\">\n                        取消\n                    </el-button>\n\n                    <el-button\n                        size=\"mini\"\n                        class=\"btn\"\n                        @click=\"[handleFinishLiquefyMode('save'), PointLiquefactionConfirm()]\">\n                        确认\n                    </el-button>\n                </div>\n            </liquefy-panel>\n        </ts-drawer>\n\n        <liquefy-drawer\n            :value=\"showLiquefy && !hideLiquefyTool\"\n            @change-tool=\"switchLiquefyTool\"\n            @before-close=\"(done) => [handleFinishLiquefyMode('save'), done()]\"\n            @mouseenter.native=\"stopMousePropagation(true)\"\n            @mouseleave.native=\"stopMousePropagation(false)\"\n        />\n\n        <feedback-dialog\n            :show-feedback-dialog.sync=\"showFeedbackDialog\"\n            :feedbackDialog_viewModel.sync=\"feedbackDialog_viewModel\"\n        />\n        <importProgressDialog\n            @mousedown.native.stop\n            :status=\"importProgress.status\"\n            :data=\"importProgress\"\n            v-model=\"showImportProgress\"\n            :importName=\"myImportName\"\n            @onCancelled=\"handleCancelImport\"\n        >\n        </importProgressDialog>\n\n        <delete-progress-dialog\n            :status=\"deleteProgress.status\"\n            :data=\"deleteProgress\"\n            v-model=\"showDeleteProgress\">\n        </delete-progress-dialog>\n    </div>\n</template>\n\n<script>\n\nimport refine, { RefineListenerEvent } from '@/qt-ipc/business/refine'\nimport nodePath from '@/qt-ipc/path'\n\nimport {\n    defineComponent,\n    watch,\n    ref,\n    getCurrentInstance,\n    computed,\n    onMounted,\n    onUnmounted\n} from 'vue'\nimport store from '@/store'\n\nimport { mapActions, mapMutations } from 'vuex'\n\nimport { ImportProgressStatus } from '@/constants'\n\nimport toast from '@/mixins/toast'\nimport thumbnail from '@/mixins/thumbnailMixin'\nimport button from '@/mixins/button'\nimport tsFileImport, { PermissionRetCode } from '@/mixins/tsFileImport'\nimport pointsMixin from '@/mixins/pointsMixin'\n\nimport { debounce } from 'lodash'\nimport eventbus from '@/utils/eventbus'\nimport { MemoryMonitor } from '@/utils/monitor/memoryMonitor'\nimport ShortcutHelper from '@/utils/Shortcut/ShortcutHelper'\n\nimport { Progress, Slider, Divider, Tooltip, Popover, Link, ButtonGroup, Button } from 'element-ui'\nimport Histogram from '@/views/BatchRetouch/Palette/Histogram'\nimport RightParamsView from './RightParamsView'\nimport FeedbackDialog from '@/views/PhotoFinishing/Components/feedbackDialog'\nimport SpinLoading from '@/views/PhotoFinishing/Components/SpinLoading'\nimport ZoomButtonGroup from './Components/zoom-button-group'\nimport TsProgress from '@/components/TsProgress'\nimport { dialogIpc, FeedBack_key } from 'qt/dialog/DialogIpcImpl'\nimport TsDrawer from '@/components/TsDrawer'\nimport DefectPanel from '@/views/PhotoFinishing/Components/ToolPanel/DefectPanel'\nimport usePainterRepositories from '@/views/PhotoFinishing/Composables/usePainterRepositories'\nimport ThumbOptRecordView from '@/views/PhotoFinishing/Components/ThumbOptRecordView'\nimport useGetQtViewRepositories from '@/views/PhotoFinishing/Composables/useGetQtViewRepositories'\n\nimport CostTime from '@/views/PhotoFinishing/Components/CostTime'\n\nimport RefineNavBar from '@/views/PhotoFinishing/RefineNavBar'\nimport usePhotoControlRepositories from '@/views/PhotoFinishing/Composables/usePhotoControlRepositories'\nimport CropPanel from '@/views/PhotoFinishing/Components/ToolPanel/CropPanel'\nimport LiquefyPanel from '@/views/PhotoFinishing/Components/ToolPanel/LiquefyPanel'\n\nimport useCropRepositories from '@/views/PhotoFinishing/Composables/useCropRepositories'\nimport useFocusAndBlurRepositories from '@/composables/useFocusAndBlurRepositories'\nimport useBatchDeleteRepositories from '@/composables/business/useBatchDeleteRepositories'\n\nimport deleteProgressDialog from '@/views/BatchRetouch/components/deleteProgressDialog.vue'\nimport usePaletteRepositories from '@/views/PhotoFinishing/Composables/usePaletteRepositories'\nimport useRefinePointsRepositories from '@/composables/points/useRefinePointsRepositories'\nimport { RefineNavName } from '@/constants/refine'\nimport useNavbarRepositories from '@/views/PhotoFinishing/Composables/useNavbarRepositories'\nimport useLiquefyRepositories from '@/views/PhotoFinishing/Composables/useLiquefyRepositories'\nimport { PreviewMode } from '@/view-model/photo-control'\nimport LiquefyDrawer from '@/views/PhotoFinishing/Components/ToolPanel/LiquefyDrawer'\n\nexport default defineComponent({\n    name: 'PhotoFinishing',\n\n    mixins: [\n        toast,\n        thumbnail,\n        button,\n        tsFileImport,\n        pointsMixin,\n        // painterMixin\n    ],\n\n    components: {\n        LiquefyDrawer,\n        'el-button': Button,\n        'el-button-group': ButtonGroup,\n        'el-progress': Progress,\n        'el-slider': Slider,\n        'el-divider': Divider,\n        'el-tooltip': Tooltip,\n        'el-popover': Popover,\n        'el-link': Link,\n        'ts-drawer': TsDrawer,\n        CostTime,\n        FeedbackDialog,\n        SpinLoading,\n        RightParamsView,\n        Histogram,\n        ZoomButtonGroup,\n        TsProgress,\n        DefectPanel,\n        ThumbOptRecordView,\n        RefineNavBar,\n        CropPanel,\n        'liquefy-panel': LiquefyPanel,\n        'delete-progress-dialog': deleteProgressDialog\n    },\n\n    props: {},\n\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.setNeedCreateMainFragmentTag(from, to)\n            store.commit('project/_SetEntryProjectCache', to.name)\n        })\n    },\n\n    beforeRouteLeave(to, from, next) {\n        if (this.showPainter) {\n            this.painterCloseConfirm()\n            return\n        }\n        if (!this.canDestroy) {\n            console.log('not load view finish')\n            return\n        }\n\n        this.isDestroy = true\n\n        // const { name } = to\n        //回到工作台则释放全局资源\n        this.doWhenLeave(from, to)\n\n        store.commit('changeAgeSexReviseEffectData', {\n            configJsonStr: '',\n            toningJsonStr: '',\n            thumbnailId: -1,\n            ageSexReviseData: ''\n        })\n        next()\n    },\n\n    setup() {\n        const that = getCurrentInstance().proxy\n        MemoryMonitor.shareInstance().addObject(that)\n\n        const isDestroy = ref(false)\n        onUnmounted(() => isDestroy.value = true)\n\n        const userId = computed(() => store.getters.userId)\n        const user = computed(() => store.getters.user)\n        const activeProject = computed(() => store.getters['project/activeProject'])\n        const imageName = ref('')\n        const activeThumbnailPath = computed(() => store.getters['thumbnail/activeThumbnailPath'])\n        watch(activeThumbnailPath, async (val) => {\n            if (activeThumbnailPath.value) {\n                imageName.value = await nodePath.basename(val)\n            }\n        })\n\n        // loading状态\n        const disabledProgress = ref(true)\n\n        // 获取qt视图\n        const {\n            refineUUID,\n            doWhenLeave,\n            canDestroy,\n\n            isDragging,\n            updateDragStatus,\n\n            loadQtView,\n            isFullScreenPreview,\n            handleFullPreview,\n            setNeedCreateMainFragmentTag,\n        } = useGetQtViewRepositories(isDestroy)\n        // ——————————————————————————————\n\n        // 仅查看色彩预览功能\n        const isOnlyPreviewPaletteInNav = computed(() => isOnlyPaletteEffect.value && activeNavName.value === RefineNavName.Palette)\n        // 初始化PhotoControl及监听\n        const {\n            photoControl,\n            imageState,\n            fitRatio,\n            showAllScale,\n            histogramData,\n\n            costTimeObj,\n\n            addThumbnailChangeListener,\n            removeThumbnailChangeListener,\n            reloadProcessImage\n        } = usePhotoControlRepositories(isDestroy, refineUUID, {\n            isOnlyPreviewPalette: isOnlyPreviewPaletteInNav,\n            beforeThumbnailChange: () => {\n                isInCropNav.value && finishCrop()\n                showLiquefy.value && handleFinishLiquefyMode('cancel')\n            }\n        })\n        // ——————————————————————————————\n\n        onMounted(async () => {\n            addThumbnailChangeListener()\n            loadQtView(activeProject.value.id, userId.value)\n        })\n        onUnmounted(removeThumbnailChangeListener)\n\n\n        // 反馈弹窗监听\n        onMounted(() => dialogIpc.addListener(FeedBack_key, that?.onFeedbackItemClick))\n        onUnmounted(() => dialogIpc.removeListener(FeedBack_key))\n\n        // 监听左侧栏图片选择事件\n        const onSelectionChangedCallback = (data) => {\n            store.commit('thumbnail/_SetThumbSelection', data)\n        }\n        onMounted(() => refine.addListener(RefineListenerEvent.SignalSelectionChanged, onSelectionChangedCallback))\n        onUnmounted(() => {\n            onSelectionChangedCallback([])\n            refine.removeListener(RefineListenerEvent.SignalSelectionChanged)\n        })\n\n        // 空格键监听\n        onMounted(() => {\n            refine.addListener(RefineListenerEvent.SignalKeydownSpace, (keydown) => {\n                if (showLiquefy.value || showPainter.value || isInCropNavbar.value) {\n                    isDragging.value = keydown\n                }\n            })\n        })\n        onUnmounted(() => refine.removeListener(RefineListenerEvent.SignalKeydownSpace))\n\n        // 更新config中的previewSize\n        // 更新previewSize\n        const onSignalUpdatePreviewSize = (data) => {\n            store.commit('config/updateConfigPreviewSize', data)\n        }\n        onMounted(() => refine.addListener(RefineListenerEvent.SignalUpdatePreviewSize, onSignalUpdatePreviewSize))\n        onUnmounted(() => refine.removeListener(RefineListenerEvent.SignalUpdatePreviewSize))\n\n        // 导航模块\n        const { activeNavName, restoreNavbar, isInCropNavbar, beforeRefineNavBarChange } = useNavbarRepositories((fromKey, toKey) => {\n            // 退出裁剪导航\n            if (fromKey === RefineNavName.Crop) {\n                finishCrop()\n            }\n\n            // 进入裁剪导航\n            if (toKey === RefineNavName.Crop) {\n                useCropTool()\n            }\n\n            // 进入调色导航\n            if (toKey === RefineNavName.Palette && isOnlyPaletteEffect.value) {\n                checkIsShowHiddenEffectTip(true)\n                reloadProcessImage(PreviewMode.OnlyPreviewPalette)\n            }\n\n            if (fromKey === RefineNavName.Palette && isOnlyPaletteEffect.value) {\n                reloadProcessImage(PreviewMode.PreviewAll)\n            }\n        })\n\n        // 调色模块\n        const {\n            isInColorNav,\n            isOnlyPaletteEffect,\n            showHiddenEffectTip,\n            showPaletteUpdateGuide,\n            checkIsShowHiddenEffectTip,\n            cacheHiddenEffectTip\n        } = usePaletteRepositories(photoControl, activeNavName)\n\n        // ——————————————————————————————\n\n        // 裁剪模块\n        const {\n            cropConfig,\n            useCropTool,\n            finishCrop,\n            handleRotate,\n            handleResetCrop,\n            handleFlip,\n            handleCrop,\n        } = useCropRepositories(photoControl, {\n            beforeOpenMode: () => {\n                if (isInColorNav.value && isOnlyPaletteEffect.value) {\n                    isOnlyPaletteEffect.value = false\n                }\n                updateDragStatus(false)\n            },\n            beforeCloseMode: () => {\n                updateDragStatus(true)\n                restoreNavbar()\n            }\n        })\n        const isInCropNav = computed(() => RefineNavName.Crop === activeNavName.value)\n\n        // ——————————————————————————————\n\n        // 涂抹模式\n        const {\n            showPainter,\n            showResetMaskBtn,\n            painterHistoryList,\n            resetPainterRecord,\n            setRemoveDefectivePaintMask,\n            painterCloseConfirm,\n            openPainterMode,\n            switchDefectTool,\n            onChangeHistory\n        } = usePainterRepositories(photoControl, isDestroy, {\n            beforeOpenMode: () => updateDragStatus(false),\n            beforeCloseMode: () => updateDragStatus(true),\n        })\n        // ——————————————————————————————\n\n        // 液化模式\n        const {\n            hideLiquefyTool,\n            showResetBtn: showLiquefyResetBtn,\n            showModePanel: showLiquefy,\n            historyList: liquefyHistoryList,\n            handleUseLiquefyMode,\n            handleFinishLiquefyMode,\n            switchLiquefyTool,\n            onChangeLiquefyHistory,\n            handleReset: handleResetLiquefy\n        } = useLiquefyRepositories(photoControl, isDestroy, {\n            beforeOpenMode: () => updateDragStatus(false),\n            beforeCloseMode: () => updateDragStatus(true)\n        })\n        // ——————————————————————————————\n\n        const { stopMousePropagation } = useFocusAndBlurRepositories()\n        const { PointPreviewClick, PointPreviewExit, PointLiquefactionCancel, PointLiquefactionConfirm } = useRefinePointsRepositories()\n\n        const isNeedDisableHeadView = computed(() => showPainter.value || isInCropNavbar.value || showLiquefy.value)\n        watch(isNeedDisableHeadView, (val) => store.commit('refine/_SetIsDisableHeadView', val))\n\n        const handleClickDrag = () => {\n            if (showLiquefy.value) {\n                handleFinishLiquefyMode('save')\n                return\n            }\n            updateDragStatus(!isDragging.value)\n        }\n\n        const loadingText = computed(() => {\n            if (showPainter.value) {\n                return '正在处理涂抹数据中...'\n            }\n\n            if (showLiquefy.value) {\n                return '正在初始化液化数据中...'\n            }\n\n            return imageState.loadingText ? imageState.loadingText : '正在处理...'\n        })\n\n        return {\n            RefineNavName,\n\n            handleClickDrag,\n\n            showLiquefy,\n            hideLiquefyTool,\n            showLiquefyResetBtn,\n            liquefyHistoryList,\n            handleFinishLiquefyMode,\n            handleUseLiquefyMode,\n            switchLiquefyTool,\n            onChangeLiquefyHistory,\n            handleResetLiquefy,\n\n            isOnlyPaletteEffect,\n            showHiddenEffectTip,\n            showPaletteUpdateGuide,\n            cacheHiddenEffectTip,\n\n            ...useBatchDeleteRepositories(),\n\n            activeNavName, // 导航菜单\n            isInColorNav, // 预览视图\n            isInCropNav,\n            isFullScreenPreview, // 全屏预览\n\n            handleExitPreview: () => {\n                handleFullPreview(false)\n                stopMousePropagation(false)\n                PointPreviewExit()\n            },\n            handlePreviewAll: () => {\n                handleFullPreview(true)\n                stopMousePropagation(false)\n                PointPreviewClick()\n            },\n\n            photoControl,\n            beforeRefineNavBarChange,\n\n            cropConfig,\n            handleRotate,\n            handleFlip,\n            handleCrop,\n            handleResetCrop,\n            clickFinishCropBtn: () => finishCrop(),\n\n            resetRemoveDefectivePaintMask: (type) => {\n                if (type === 'removeDefects') {\n                    photoControl.value?.resetRemoveDefectivePaintMask()\n                }\n            },\n\n            isDestroy,\n\n            refineUUID,\n            canDestroy,\n            doWhenLeave,\n            setNeedCreateMainFragmentTag,\n\n            user,\n            imageName,\n            imageState,\n            loadingText,\n\n            costTimeObj,\n            disabledProgress,\n            isDragging,\n            updateDragStatus,\n            showResetMaskBtn,\n\n            containerMouseDown: ref(false),\n\n            histogramData,\n\n            fitRatio,\n            showAllScale,\n            onZoomSlider: (value) => photoControl.value?.changeRatio(value),\n            imageResize: (mode) => photoControl.value?.imageResize(mode), // 放大缩小按钮\n            photoCompare: (mode) => photoControl.value?.compare(mode),\n\n            onApplyPresetClick: (data) => photoControl.value?.onApplyPresetClick(data),\n            onChangeColor: (data, realtime = false, ext) => photoControl.value?.onChangeColor(data, !!realtime, ext),\n            onChangeBeautify: (data, realtime = false, ext) => photoControl.value?.onChangeBeautify(data, !!realtime, ext),\n            reloadProcessImage: (type) => photoControl.value?.reloadProcessImage(type),\n\n            showPainter,\n            painterHistoryList,\n            setRemoveDefectivePaintMask: (mode) => setRemoveDefectivePaintMask(mode, true),\n            resetPainterRecord,\n            usePainterTool: openPainterMode,\n            painterCloseConfirm,\n            switchDefectTool,\n            onChangeHistory,\n\n            stopMousePropagation,\n            photoControlInfo: () => {\n                return photoControl.value?.getPhotoControlInfo()\n            },\n\n            getParamsJson: () => {\n                if (photoControl.value) {\n                    return photoControl.value.getParamsJson()\n                }\n                return { beautifyJson: null, paletteJson: null }\n            },\n\n            PointLiquefactionCancel,\n            PointLiquefactionConfirm\n        }\n    },\n\n    data() {\n        return {\n            isShowingImportDialog :false,\n            changeShortcutHelper: true,\n            showFeedbackDialog: false,\n            feedbackDialog_viewModel: null,\n            importStatusWatchSymbol:null\n        }\n    },\n    async mounted() {\n        this.$root.checkDiskSpaceIfNeed(() => {\n        }).then(isNoSpace => {\n        })\n\n        this.registerSecondImportEvent(true)\n    },\n    beforeMount() {\n    },\n\n    methods: {\n        ...mapMutations('project', [\n            '_SetLastProjectUpdateTime'\n        ]),\n\n        ...mapMutations('thumbnail', [\n            '_SetSelectedImgIndex',\n            '_SetActiveThumbnail'\n        ]),\n\n        ...mapActions('thumbnail', [\n            'ACT_GetThumbnails'\n        ]),\n        onShowMultipleGuide() {\n            this.$refs['leftImageViewRef'].onShowMultipleGuide()\n        },\n        onHideMultipleGuide() {\n            this.$refs['leftImageViewRef'].onHideMultipleGuide()\n        },\n\n        thumbnailRef() {\n            let leftRef = this.$refs.leftImageViewRef\n            if (!leftRef) return null\n            return leftRef.$children[0]\n        },\n\n        /**\n         * 二次导入相关的逻辑\n         * @param index\n         */\n        thumbViewScrollToIndex(index) {\n            if (index < 0) {\n                return\n            }\n            this.thumbnailRef().$refs.recycleViewRef.scrollToItem(index)\n        },\n\n        async secondImportFiles(filePaths) {\n            if (!filePaths || filePaths.length == 0) {\n                return\n            }\n            await this.checkAndImportImages(filePaths, true, (thumbnailCount) => {\n                refine.handlerAfterSecondImport(this.refineUUID)\n                this.tsNotify({\n                    message: `已导入${thumbnailCount}张图片`\n                })\n            }, progress => {\n                if (progress.status === ImportProgressStatus.Start) {\n                    this.showImportProgress = true\n                }\n                this.importProgress = progress\n            })\n        },\n        //问题反馈上报\n        onFeedbackItemClick(thumbnailViewModel) {\n            this.showFeedbackDialog = true\n            this.feedbackDialog_viewModel = thumbnailViewModel\n        },\n        //feedback弹窗关闭或开启，开启或关闭全局快捷键\n        callChangeShortcutHelper(Boolean) {\n            this.changeShortcutHelper = Boolean\n        },\n\n        async onDropImageFiles(e) {\n            let files = this.getDropPaths()\n            let paths = []\n            for (let file of files) {\n                let fp = file.path\n                paths.push(fp)\n            }\n\n            const checkRet = await this.hasReadWritePermission(paths)\n            if (checkRet.result !== PermissionRetCode.OK) {\n                this.toastNoReadWritePermission(checkRet)\n            }\n\n            await this.secondImportFiles(paths)\n            this._SetLastProjectUpdateTime(new Date())\n        },\n        async importFromFile(args) {\n        \tif (this.isShowingImportDialog){\n        \t\treturn\n            }\n            this.isShowingImportDialog = true\n            const dialog = dialogIpc\n            const result = await dialog.showOpenDialog({\n                properties: args\n            })\n            if (result && result.filePaths && result.filePaths.length === 0) {\n            \tthis.isShowingImportDialog = false\n                return\n            }\n\n            const checkRet = await this.hasReadWritePermission(result.filePaths)\n            if (checkRet.result !== 1) {\n                this.toastNoReadWritePermission(checkRet)\n                this.isShowingImportDialog = false\n                return\n            }\n\n            if (result && result.filePaths.length > 0) {\n                this.secondImportFiles(result.filePaths)\n            }\n            this._SetLastProjectUpdateTime(new Date())\n            this.isShowingImportDialog = false\n        },\n        registerSecondImportEvent(isRegist) {\n            if (isRegist) {\n                eventbus.$on('onNavImportImage', debounce(async (args) => {\n                    ShortcutHelper.getInstance().unRegisterShortcut()\n                    await this.importFromFile(args)\n                    ShortcutHelper.getInstance().registerShortcut()\n                }, 20))\n                eventbus.$on('onManualImportClick', debounce(async (args) => {\n                    await this.onManualImportClick(args)\n                }, 20))\n            } else {\n                eventbus.$off('onNavImportImage', null)\n                eventbus.$off('onManualImportClick', null)\n            }\n        }\n    },\n    beforeDestroy() {\n        this.registerSecondImportEvent(false) // 移除事件\n    }\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.wrap {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n\n    .custom-top-progress {\n        position: absolute;\n        top: 0;\n        z-index: 1000;\n        width: 100%;\n\n        /deep/ .el-progress-bar__outer {\n            height: 2px !important;\n            background: #181818;\n        }\n    }\n\n    .topLeftItem {\n        position: absolute;\n        top: -38px;\n        left: 100px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .claDivider {\n            width: 1px;\n            height: 19px;\n            background: #545454;\n        }\n\n        .btn-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 5px;\n            width: 28px;\n            height: 28px;\n            border-radius: 4px;\n            position: relative;\n            margin-right: 12px;\n\n            .drag-icon {\n                width: 13px;\n                height: 15px;\n            }\n\n            .liquefy-icon {\n                width: 12px;\n                height: 15.5px;\n            }\n\n            .ts-icon {\n                pointer-events: none;\n                opacity: 0.8;\n            }\n\n            &.is-disabled {\n                .ts-icon {\n                    opacity: 0.3;\n                }\n            }\n\n            &:not(.is-disabled) {\n                border: 1px solid rgba(255, 255, 255, 0.3);\n                color: rgba(255, 255, 255, 0.85);\n                background: #4D4D4D;\n\n                &.active, &:hover {\n                    border: 1px solid rgba(255, 255, 255, 0.85) !important;\n                    background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), rgba(77, 77, 77, 0.5);\n                    color: #FFFFFF;\n\n                    .ts-icon {\n                        opacity: 1;\n                    }\n                }\n            }\n        }\n    }\n\n    .Image-canvas-container {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        position: relative;\n\n        &:not(.fullscreen) {\n            margin-left: 145px;\n        }\n\n        &.grab-active {\n            &:hover {\n                cursor: grab;\n            }\n\n            &.grabbing {\n                cursor: grabbing;\n            }\n        }\n\n        &.hidden-cursor:hover {\n           cursor: none;\n        }\n\n        .claImageName {\n            position: absolute;\n            font-size: 12px;\n            color: #737373;\n            font-weight: 400;\n            margin: auto;\n            text-align: center;\n            bottom: 20px;\n            z-index: 999;\n            display: inline-block;\n            min-width: 100px;\n            line-height: 17px;\n            color: rgba(255, 255, 255, 0.45);\n            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n        }\n\n        .claImageName {\n            left: 50%;\n            transform: translateX(-50%);\n        }\n\n        .watermark-tip {\n            position: absolute;\n            font-size: 12px;\n            color: rgba(255, 255, 255, 0.45);\n            font-weight: 400;\n            display: inline-block;\n            line-height: 17px;\n            left: 15.5px;\n            bottom: 20px;\n        }\n\n        .fixed-bottom-container {\n            position: absolute;\n            right: 0;\n            bottom: 16px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin-right: 16px;\n            z-index: 999;\n\n            .btn-icon {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                padding: 5px;\n                width: 28px;\n                height: 28px;\n                border-radius: 4px;\n                margin-left: 12px;\n                border: 1px solid rgba(255, 255, 255, 0.3);\n                color: rgba(255, 255, 255, 0.85);\n                position: relative;\n                background: #4D4D4D;\n\n                .img {\n                    pointer-events: none;\n                    height: 16px;\n                }\n\n                &.active, &:hover {\n                    border: 1px solid rgba(255, 255, 255, 0.85) !important;\n                    background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), rgba(77, 77, 77, 0.5);\n                    color: #FFFFFF;\n                }\n            }\n\n            .exit-preview-btn-box {\n                display: flex;\n                align-items: center;\n\n                background: rgba(77, 77, 77, 0.5);\n                border: 1px solid rgba(255, 255, 255, 0.3);\n                backdrop-filter: blur(100px);\n                border-radius: 4px;\n                height: 28px;\n\n                .exit-preview-btn {\n                    background: transparent;\n                    border: none;\n\n                    &.active, &:hover {\n                        background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), rgba(77, 77, 77, 0.5);\n                        color: #FFFFFF;\n                    }\n                }\n\n                .ts-spin-loading {\n                    padding: 6px 16px 6px 12px;\n                    border-right: 1px solid rgba(255, 255, 255, 0.3);\n\n                    /deep/ .ts-loading-spinner-text {\n                        color: rgba(255, 255, 255, 0.85);\n                        line-height: 17px;\n                    }\n                }\n            }\n        }\n    }\n\n    .ts-icon-painter-button {\n        border: none;\n        width: 16px;\n        height: 16px;\n        padding: 0;\n        margin-left: 10px;\n    }\n\n    .ts-icon-painter {\n        position: relative;\n        width: 16px;\n        height: 16px;\n        opacity: 0.5;\n\n        &.disabled {\n            opacity: 0.5;\n        }\n\n        &:not(.disabled) {\n            opacity: 0.8;\n\n            &:not(.disabled):hover {\n                opacity: 1;\n            }\n        }\n\n        &.active::before {\n            content: \" \";\n            width: 3px;\n            height: 3px;\n            position: absolute;\n            right: 6px;\n            top: 18px;\n            background: rgba(255, 255, 255, 0.65);\n            border-radius: 2px;\n        }\n    }\n\n    .all-tool-area {\n        width: 300px;\n        flex-shrink: 0;\n        border-left-width: 1px;\n        border-style: solid;\n        border-color: #181818;\n    }\n\n    .opt-record {\n        position: relative;\n        height: 100%;\n    }\n\n    .params-group {\n        width: 44px;\n    }\n}\n\n.compare__image-hot-key-tip {\n    .hot-key-content {\n        .img {\n            width: 210px;\n            height: auto;\n        }\n\n        .label {\n            text-align: center;\n            font-size: 12px;\n            color: #D9D9D9;\n            font-weight: 400;\n            margin-top: 6px;\n            line-height: 1;\n        }\n    }\n}\n\n.operation-panel-bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 10px 12px;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-between;\n    border-top: 1px solid #333333;\n\n    .btn {\n        width: 100%;\n        margin: 0 4px;\n        height: 24px;\n        font-size: 12px;\n\n        /deep/ &.el-button {\n            padding: 3px 15px;\n        }\n    }\n}\n\n.palette-mode-tip {\n    font-weight: 400;\n    font-size: 10px;\n    line-height: 17px;\n    color: #A6A6A6;\n}\n\n.palette__guide {\n    line-height: 17px;\n    color: rgba(0, 0, 0, 0.85);\n\n    &-title {\n        position: relative;\n        font-weight: 500;\n        font-size: 14px;\n        display: flex;\n        justify-content: space-between;\n\n        .el-icon-close {\n            &:hover {\n                color: #F5D228;\n            }\n        }\n    }\n\n    &-content {\n        font-size: 12px;\n        margin-right: 20px;\n        line-height: 17px;\n        margin-top: 8px;\n\n        p + p {\n            margin-top: 8px;\n        }\n    }\n}\n\n.ts-custom__radio-group {\n    :deep(.el-radio-button__inner) {\n        padding: 5px 12px !important;\n    }\n\n    .radio-button-text {\n        display: flex;\n        align-items: center;\n\n        .ts-icon-question-outside {\n            margin-left: 4px;\n            opacity: 0.3;\n        }\n    }\n}\n</style>\n\n<style lang=\"scss\">\n.compare__image-hot-key-tip {\n    padding: 5px 4px 12px !important;\n}\n\n.preview-all-effect-tip.el-popover {\n    background: rgba(255, 255, 255, 0.85) !important;\n    color: rgba(0, 0, 0, 0.85) !important;\n    font-size: 12px !important;\n    border: none !important;\n    line-height: 17px !important;\n    max-width: 260px;\n    box-sizing: border-box;\n\n    .popper__arrow {\n        border: none !important;\n\n        &::after {\n            border-top-color: rgba(255, 255, 255, 0.85) !important;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoFinishingView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoFinishingView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoFinishingView.vue?vue&type=template&id=d03beda8&scoped=true&\"\nimport script from \"./PhotoFinishingView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoFinishingView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhotoFinishingView.vue?vue&type=style&index=0&id=d03beda8&prod&lang=scss&scoped=true&\"\nimport style1 from \"./PhotoFinishingView.vue?vue&type=style&index=1&id=d03beda8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d03beda8\",\n  null\n  \n)\n\nexport default component.exports","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","module.exports = __webpack_public_path__ + \"img/tips_png_keyboard_mac@3x.a157fbc9.png\";","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky.vue?vue&type=style&index=0&id=843b8c8c&prod&lang=scss&scoped=true&\"","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseFaceBox.vue?vue&type=style&index=0&id=98c4f034&prod&lang=scss&\"","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CostTime.vue?vue&type=style&index=0&id=2fb8f17b&prod&scoped=true&lang=css&\"","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGroup.vue?vue&type=style&index=0&id=f1ae2008&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=ea847d9a&prod&lang=scss&scoped=true&\"","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsGridView.vue?vue&type=style&index=0&id=4e70c4b2&prod&lang=scss&scoped=true&\"","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropArea.vue?vue&type=style&index=0&id=8585f9b0&prod&lang=scss&scoped=true&\"","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyPanel.vue?vue&type=style&index=0&id=f30b5c0a&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbOptRecordView.vue?vue&type=style&index=0&id=7fe2eb3c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoFinishingView.vue?vue&type=style&index=1&id=d03beda8&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./custom-collapse-item.vue?vue&type=style&index=0&id=3fa302f8&prod&lang=scss&scoped=true&\"","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-panel.vue?vue&type=style&index=0&id=d58eb162&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuitParamsItem.vue?vue&type=style&index=0&id=3a64f0e8&prod&lang=scss&scoped=true&\"","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-sky-panel.vue?vue&type=style&index=0&id=20f2580e&prod&lang=scss&scoped=true&\"","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-slider-group-lock-icon.vue?vue&type=style&index=0&id=6042517e&prod&lang=scss&scoped=true&\"","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FaceResizeFrame.vue?vue&type=style&index=0&id=06163bcc&prod&scoped=true&lang=scss&\"","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportAgeSexReviseFaceBox.vue?vue&type=style&index=1&id=98c4f034&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=61e7d3d1&prod&lang=scss&scoped=true&\"","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo-upload-fragment.vue?vue&type=style&index=0&id=6554cc69&prod&scoped=true&lang=scss&\"","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePresetDialog.vue?vue&type=style&index=0&id=3c4587a6&prod&lang=scss&scoped=true&\"","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightParamsView.vue?vue&type=style&index=0&id=bccde09e&prod&scoped=true&lang=scss&\"","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ts-select-option.vue?vue&type=style&index=0&id=ceef450a&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a4d04ac&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpinLoading.vue?vue&type=style&index=0&id=0a62b5be&prod&lang=scss&scoped=true&\"","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RotateArea.vue?vue&type=style&index=0&id=d4fb17c2&prod&lang=scss&scoped=true&\"","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DefectPanel.vue?vue&type=style&index=0&id=2bb1eac8&prod&lang=scss&scoped=true&\"","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./id-photo.vue?vue&type=style&index=0&id=cdc16282&prod&lang=scss&scoped=true&\"","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feedbackDialog.vue?vue&type=style&index=0&id=d7c9afbc&prod&lang=css&\"","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPanelComponent.vue?vue&type=style&index=0&id=68e5660f&prod&lang=scss&scoped=true&\"","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./zoom-button-group.vue?vue&type=style&index=0&id=1501511e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterComponent.vue?vue&type=style&index=0&id=8c70ce0a&prod&lang=scss&\"","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoFinishingView.vue?vue&type=style&index=0&id=d03beda8&prod&lang=scss&scoped=true&\"","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","module.exports = __webpack_public_path__ + \"img/tips_png_keyboard_windows@3x.873a30d9.png\";","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterComponent.vue?vue&type=style&index=1&id=8c70ce0a&prod&lang=scss&scoped=true&\"","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropPanel.vue?vue&type=style&index=0&id=bd2d73c0&prod&lang=scss&scoped=true&\"","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feedbackDialog.vue?vue&type=style&index=1&id=d7c9afbc&prod&lang=scss&scoped=true&\"","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=10ee5377&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=79fff74c&prod&lang=scss&scoped=true&\"","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiquefyDrawer.vue?vue&type=style&index=0&id=24bbd71e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TsItemCard.vue?vue&type=style&index=0&id=7cbfe321&prod&lang=scss&scoped=true&\"","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n"],"sourceRoot":""}