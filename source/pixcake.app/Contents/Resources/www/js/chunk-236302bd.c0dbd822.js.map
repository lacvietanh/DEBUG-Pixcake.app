{"version":3,"sources":["webpack:///./src/views/Login/Login.vue","webpack:///src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?6f1f","webpack:///./src/views/Login/Login.vue?cf9b","webpack:///./src/views/Login/Login.vue?0255"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","$IS_CLIENT_PIX_PIE","_v","$isDev","$isBeta","attrs","on","tokenLogin","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","model","value","token","callback","$$v","trim","expression","_e","gaPhoneInput","telNum","ref","gaCodeInput","login","verifyCode","slot","verifyDisabled","getVatifyCode","_s","text","loginLoading","LoginDisabled","showProtocolTooltip","onAgreeProtocol","isAgreeProtocol","CLIENT_NAME","checkProtocol","userProtocol","userProtocolName","style","textAlign","paddingLeft","privacyProtocol","privacyProtocolName","staticRenderFns","timer","name","mixins","components","setup","PointLogin","data","num","isActive","computed","methods","clearInterval","message","err","muuid","phone","setupFileName","minfo","host_name","user_name","console","erMsg","component"],"mappings":"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","file":"js/chunk-236302bd.c0dbd822.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('el-container',{staticClass:\"login\"},[_c('el-main',{staticClass:\"content\"},[_c('div',{staticClass:\"login_input_parent\"},[_c('div',{staticClass:\"login_input_box\"},[(_vm.$IS_CLIENT_PIX_PIE)?[_c('span',{staticClass:\"title c-text-regular\"},[_vm._v(\"账号密码登录\")])]:[_c('span',{staticClass:\"title c-text-regular\"},[_vm._v(\"手机验证码登录\")]),_c('span',{staticClass:\"label c-text-label\"},[_vm._v(\"新用户登录后可自动创建账号\")])],(_vm.$isDev || _vm.$isBeta)?[_c('el-input',{staticClass:\"tel-num token\",attrs:{\"size\":\"larger\",\"type\":\"textarea\",\"placeholder\":\"输入Token\"},on:{\"blur\":_vm.tokenLogin},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.tokenLogin.apply(null, arguments)}},model:{value:(_vm.token),callback:function ($$v) {_vm.token=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"token\"}})]:_vm._e(),_c('el-input',{staticClass:\"tel-num\",attrs:{\"type\":\"tel\",\"size\":\"larger\",\"maxlength\":32,\"placeholder\":_vm.$IS_CLIENT_PIX_PIE ? '输入账号' : '输入手机号'},on:{\"blur\":_vm.gaPhoneInput},model:{value:(_vm.telNum),callback:function ($$v) {_vm.telNum=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"telNum\"}}),(!_vm.$IS_CLIENT_PIX_PIE)?_c('div',{staticClass:\"verify-code\"},[_c('el-input',{ref:\"verifyCode\",staticClass:\"verify-code-input\",attrs:{\"type\":\"tel\",\"size\":\"larger\",\"placeholder\":\"输入短信中的验证码\",\"maxlength\":64},on:{\"blur\":_vm.gaCodeInput},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.login.apply(null, arguments)}},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"verifyCode\"}},[_c('template',{slot:\"suffix\"},[_c('el-button',{staticClass:\"verify-time-btn\",attrs:{\"type\":\"text\",\"size\":\"larger\",\"disabled\":_vm.verifyDisabled},on:{\"click\":_vm.getVatifyCode}},[_c('span',{staticClass:\"verify-tip\"},[_vm._v(_vm._s(_vm.text))])])],1)],2)],1):_c('div',{staticClass:\"verify-code\"},[_c('el-input',{ref:\"verifyCode\",staticClass:\"verify-code-input pwd\",attrs:{\"show-password\":\"\",\"type\":\"tel\",\"size\":\"larger\",\"placeholder\":\"输入密码\",\"maxlength\":64},on:{\"blur\":_vm.gaCodeInput},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.login.apply(null, arguments)}},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"verifyCode\"}})],1),_c('el-button',{staticClass:\"login-btn\",attrs:{\"size\":\"larger\",\"type\":\"primary\",\"loading\":_vm.loginLoading,\"disabled\":_vm.LoginDisabled},on:{\"click\":_vm.login}},[_c('span',{staticClass:\"text\"},[_vm._v(\"登录\")])])],2),(!_vm.$IS_CLIENT_PIX_PIE)?_c('div',{staticClass:\"agreement\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"manual\":\"\",\"effect\":\"dark\",\"placement\":\"top\",\"content\":\"请阅读并勾选下方的协议\"},model:{value:(_vm.showProtocolTooltip),callback:function ($$v) {_vm.showProtocolTooltip=$$v},expression:\"showProtocolTooltip\"}},[_c('el-checkbox',{on:{\"change\":_vm.onAgreeProtocol},model:{value:(_vm.isAgreeProtocol),callback:function ($$v) {_vm.isAgreeProtocol=$$v},expression:\"isAgreeProtocol\"}})],1),_c('span',{staticClass:\"c-text-label agreement-text\"},[_c('span',[_vm._v(\"已仔细阅读并同意\"+_vm._s(_vm.CLIENT_NAME)+\" \"),_c('el-link',{staticClass:\"link\",on:{\"click\":function($event){return _vm.checkProtocol(_vm.userProtocol)}}},[_vm._v(\" 《\"+_vm._s(_vm.userProtocolName || '商家使用协议')+\"》 \")])],1)]),_c('div',{style:({ textAlign: 'left', paddingLeft:'14px' })},[_c('el-link',{staticClass:\"link\",on:{\"click\":function($event){return _vm.checkProtocol(_vm.privacyProtocol)}}},[_vm._v(\" 《\"+_vm._s(_vm.privacyProtocolName || '隐私政策')+\"》 \")])],1)],1):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-container class=\"login\">\n        <el-main class=\"content\">\n            <div class=\"login_input_parent\">\n                <div class=\"login_input_box\">\n\n                    <template v-if=\"$IS_CLIENT_PIX_PIE\">\n                        <span class=\"title c-text-regular\">账号密码登录</span>\n                    </template>\n\n                    <template v-else>\n                        <span class=\"title c-text-regular\">手机验证码登录</span>\n                        <span class=\"label c-text-label\">新用户登录后可自动创建账号</span>\n                    </template>\n\n                    <template v-if=\"$isDev || $isBeta\">\n                        <el-input\n                            size=\"larger\"\n                            type=\"textarea\"\n                            class=\"tel-num token\"\n                            placeholder=\"输入Token\"\n                            v-model.trim=\"token\"\n                            @blur=\"tokenLogin\"\n                            @keydown.enter.native=\"tokenLogin\">\n                        </el-input>\n                    </template>\n\n                    <el-input\n                        type=\"tel\"\n                        size=\"larger\"\n                        class=\"tel-num\"\n                        :maxlength=\"32\"\n                        :placeholder=\"$IS_CLIENT_PIX_PIE ? '输入账号' : '输入手机号'\"\n                        @blur=\"gaPhoneInput\"\n                        v-model.trim=\"telNum\">\n                    </el-input>\n\n                    <div class=\"verify-code\" v-if=\"!$IS_CLIENT_PIX_PIE\">\n                        <el-input\n                            type=\"tel\"\n                            size=\"larger\"\n                            ref=\"verifyCode\"\n                            class=\"verify-code-input\"\n                            placeholder=\"输入短信中的验证码\"\n                            :maxlength=\"64\"\n                            v-model.trim=\"verifyCode\"\n                            @blur=\"gaCodeInput\"\n                            @keydown.enter.native=\"login\">\n\n                            <template slot=\"suffix\">\n                                <el-button\n                                    type=\"text\"\n                                    size=\"larger\"\n                                    class=\"verify-time-btn\"\n                                    :disabled=\"verifyDisabled\"\n                                    @click=\"getVatifyCode\">\n                                    <span class=\"verify-tip\">{{ text }}</span>\n                                </el-button>\n                            </template>\n                        </el-input>\n                    </div>\n                    <div v-else class=\"verify-code\">\n                        <el-input\n                            show-password\n                            type=\"tel\"\n                            size=\"larger\"\n                            ref=\"verifyCode\"\n                            placeholder=\"输入密码\"\n                            class=\"verify-code-input pwd\"\n                            :maxlength=\"64\"\n                            v-model.trim=\"verifyCode\"\n                            @blur=\"gaCodeInput\"\n                            @keydown.enter.native=\"login\">\n                        </el-input>\n                    </div>\n\n                    <el-button\n                        size=\"larger\"\n                        type=\"primary\"\n                        class=\"login-btn\"\n                        :loading=\"loginLoading\"\n                        :disabled=\"LoginDisabled\"\n                        @click=\"login\">\n                        <span class=\"text\">登录</span>\n                    </el-button>\n                </div>\n\n                <div class=\"agreement\" v-if=\"!$IS_CLIENT_PIX_PIE\">\n                    <el-tooltip\n                        manual\n                        class=\"item\"\n                        effect=\"dark\"\n                        placement=\"top\"\n                        content=\"请阅读并勾选下方的协议\"\n                        v-model=\"showProtocolTooltip\"\n                    >\n                        <el-checkbox v-model=\"isAgreeProtocol\" @change=\"onAgreeProtocol\"/>\n                    </el-tooltip>\n\n                    <span class=\"c-text-label agreement-text\">\n                        <span>已仔细阅读并同意{{ CLIENT_NAME }}\n                            <el-link\n                                class=\"link\"\n                                @click=\"checkProtocol(userProtocol)\">\n                                《{{ userProtocolName || '商家使用协议' }}》\n                            </el-link>\n                        </span>\n                    </span>\n\n                    <div :style=\"{ textAlign: 'left', paddingLeft:'14px' }\">\n                        <el-link\n                            class=\"link\"\n                            @click=\"checkProtocol(privacyProtocol)\">\n                            《{{ privacyProtocolName || '隐私政策' }}》\n                        </el-link>\n                    </div>\n                </div>\n\n            </div>\n        </el-main>\n    </el-container>\n</template>\n<script>\nimport { defineComponent } from 'vue'\nimport { mapGetters, mapActions, mapMutations } from 'vuex'\n\nimport { setToken } from '@/utils/auth'\nimport { postVertifyCode, postLogin } from '@/api/userApi'\n\nimport { CLIENT_NAME, IS_CLIENT_PIX_PIE } from '@/universal/types/config'\nimport UserInfo from '@/model/UserModel'\nimport UserModel from '#/model/UserModel'\nimport { ShareObjectModel } from '@/universal/model/ShareObjectModel/ShareObjectModel'\n\nimport toast from '@/mixins/toast'\n\nimport { IpcRendererAsync } from '@/utils/ipcRenderAsync'\nimport { IpcRendererTopic } from 'qt/constants/common'\n\nimport { Button, Container, Main, Link, Tooltip, Checkbox } from 'element-ui'\nimport useUserPointsRepositories from '@/composables/points/useUserPointsRepositories'\n\nlet timer = null\nexport default defineComponent({\n    name: 'LoginPage',\n    mixins: [toast],\n\n    components: {\n        'el-button': Button,\n        'el-container': Container,\n        'el-main': Main,\n        'el-link': Link,\n        'el-tooltip': Tooltip,\n        'el-checkbox': Checkbox\n    },\n\n    setup() {\n        const { PointLogin } = useUserPointsRepositories()\n\n        return {\n            PointLogin\n        }\n    },\n\n    data() {\n        return {\n            CLIENT_NAME,\n            verifyCode: '',\n            telNum: '',\n            num: 60,\n            text: '获取验证码',\n            isActive: true,\n            token: '',\n            isAgreeProtocol: false,\n            showProtocolTooltip: false,\n            loginLoading: false\n        }\n    },\n\n    computed: {\n        ...mapGetters([\n            'userId', 'userProtocol', 'userProtocolName', 'privacyProtocol', 'privacyProtocolName'\n        ]),\n        LoginDisabled() {\n            return !this.telNum || !this.verifyCode\n        },\n\n        verifyDisabled() {\n            return this.telNum.trim().length !== 11 || this.num !== 60\n        }\n    },\n\n    async created() {\n        if (!this.$IS_CLIENT_PIX_PIE) {\n            this.fetchUserProtocol()\n        }\n    },\n\n    methods: {\n        ...mapMutations(['initUser']),\n        ...mapActions(['TokenLogin', 'fetchUserProtocol']),\n        async getVatifyCode() {\n\n            if (!/1[3-9]{1}[0-9]{9}/.test(this.telNum)) {\n                this.tsNotify({\n                    message: '请先输入正确的手机号!',\n                    type: 'warning'\n                })\n                return\n            }\n\n            if (timer != null) return\n\n\n            try {\n                this.PointLogin('get_verification_code')\n\n                const res = await postVertifyCode(this.telNum)\n\n                if (res) {\n                    //倒计时\n                    if (timer == null) {\n                        timer = setInterval(() => {\n                            this.num -= 1\n                            this.text = `${this.num}s后可获取`\n                            if (this.num <= 0) {\n                                this.num = 60\n                                this.text = '重新获取'\n                                clearInterval(timer)\n                                timer = null\n                            }\n                        }, 1000)\n                    }\n\n                    this.tsNotify({\n                        message: '手机验证码发送成功',\n                        type: 'success'\n                    })\n                    this.$refs.verifyCode.focus()\n                }\n            } catch (err) {\n                const message = err && err.data && err.data.code\n                    ? err.message\n                    : '请检查网络环境或者代理设置'\n                this.tsNotify({\n                    type: 'error',\n                    message\n                })\n            }\n        },\n\n        checkProtocol(url) {\n            this.PointLogin('click_agreement')\n\n            if (!url) {\n                this.tsNotify({\n                    message: '协议不存在，请联系客服获取协议!',\n                    type: 'error'\n                })\n\n                return\n            }\n            this.$openExternal(url)\n        },\n\n        async login() {\n            // if (!/1[3-9]{1}[0-9]{9}/.test(this.telNum)) {\n            //     this.tsNotify({\n            //         message: !IS_CLIENT_PIX_PIE? '请先输入正确的手机号!':'请输入正确的账号!',\n            //         type: 'error'\n            //     })\n            //     return\n            // }\n            //\n            // if (!/\\d{6}/.test(this.verifyCode)) {\n            //     this.tsNotify({\n            //         message: !IS_CLIENT_PIX_PIE ?'请先输入正确的验证码!':'请输入正确的密码!',\n            //         type: 'error'\n            //     })\n            //     return\n            // }\n\n            try {\n                if (!this.isAgreeProtocol && !IS_CLIENT_PIX_PIE) {\n                    this.showProtocolTooltip = true\n                    return\n                }\n\n                if (this.loginLoading) {\n                    return\n                }\n\n                this.loginLoading = true\n                this.PointLogin('click_login_button')\n\n                let muuid = ''\n                try {\n                    muuid = await ShareObjectModel.instance().getSystemUUID()\n                } catch (e) {\n                }\n\n                const osInfo = await ShareObjectModel.instance().systemInfo\n                let asyncRender = new IpcRendererAsync()\n                let hardwareInfo = await asyncRender.on(IpcRendererTopic.FetchHardWareInfo, {})\n\t\t\t\tconst host_name = hardwareInfo.info.host_name || \"\"\n\t\t\t\tconst user_name = hardwareInfo.info.user_name || \"\"\n                const res = await postLogin({\n                    phone: this.telNum,\n                    verifyCode: this.verifyCode,\n                    setupFileName: osInfo.setup_file_name,\n                    muuid: muuid,\n                    minfo: osInfo,\n\t\t\t\t\thost_name:host_name.length == 0? \"\t\":host_name,\n\t\t\t\t\tuser_name:user_name.length == 0? \"\t\":user_name\n                })\n                const data = res.data\n                await setToken(data.token)\n                let userInfo = new UserInfo(data.user_id, data.token, this.telNum, data.oid)\n                await UserModel.getInstance().cacheUserInfo(userInfo)\n                this.initUser(userInfo)\n                await this.loginSuccess(data)\n            } catch (e) {\n                console.log('login : ', e)\n                let erMsg = e.message\n                if (IS_CLIENT_PIX_PIE && e.data && e.data.code == 6) {\n                    erMsg = '请输入正确的密码!'\n                }\n                this.tsNotify({\n                    message: erMsg,\n                    type: 'error'\n                })\n            }\n            this.$nextTick(() => {\n                this.loginLoading = false\n            })\n        },\n\n        async loginSuccess(data) {\n            let userId = this.userId\n            let oid = data.oid\n\n            this.$tsStat?.login(userId, oid)\n\n            await this.$router.replace({ name: 'index' })\n\n            // 增加广播通知\n            let token = data.token\n            // let msg = new WinIPCMessage(WinType.Main, [WinType.MemberVipPlan], {\n            //     token: token\n            // })\n            // let json = msg.toJson()\n            // ipcRenderer.send(kBroadCastWinEventString(WinType.Main, 'login'), json)\n        },\n\n        gaPhoneInput() {\n            this.PointLogin('input_phone_number')\n            // this.$tsStat?.event('cake_login', {\n            //     cake_operate: 'input_phone_number'\n            // })\n        },\n        gaCodeInput() {\n            this.PointLogin('enter_verification_code')\n            //   this.$tsStat?.event('cake_login', {\n            //       cake_operate: 'enter_verification_code'\n            //   })\n        },\n\n        async tokenLogin() {\n            if (!this.token.trim()) return\n            try {\n                const userInfo = await this.TokenLogin(this.token)\n                console.log('==> tokenLogin: ', userInfo)\n                await this.loginSuccess(userInfo)\n            } catch (e) {\n                this.token = ''\n            }\n        },\n\n        onAgreeProtocol(v) {\n            if (v && this.showProtocolTooltip) {\n                this.showProtocolTooltip = false\n            }\n        }\n\n    }\n})\n</script>\n<style lang=\"scss\" scoped>\n.login {\n    flex: 1;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-image: url('../../assets/logo/login_bg.jpg');\n\n    .content {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n        width: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .bg {\n            width: 480px;\n\n            img {\n                width: 100%;\n                height: 100%;\n            }\n        }\n\n        .login_input_parent {\n            width: 280px;\n\n            .login_input_box {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                margin-bottom: 30px;\n\n                /deep/ {\n                    .el-input__inner {\n                        background: transparent;\n                        border: 1px solid #a1a1a1;\n                        border-radius: 8px;\n                    }\n\n                    .el-input__inner:hover {\n                        border: 1px solid #b5b5b5;\n                    }\n\n                    .el-input__inner:focus {\n                        border: 1px solid #f5d228;\n                    }\n\n                    .el-textarea__inner {\n                        background: transparent;\n                        border: 1px solid #a1a1a1;\n                        border-radius: 8px;\n                    }\n\n                    .el-textarea__inner:hover {\n                        border: 1px solid #b5b5b5;\n                    }\n\n                    .el-textarea__inner:focus {\n                        border: 1px solid #f5d228;\n                    }\n                }\n\n                .title {\n                    font-size: 24px;\n                    line-height: 33px;\n                    font-weight: 600;\n                }\n\n                .label {\n                    height: 17px;\n                    font-size: 12px;\n                    font-weight: 400;\n                    margin-top: 4px;\n                }\n\n                .tel-num {\n                    margin-top: 32px;\n                    width: 100%;\n                    height: 40px;\n                }\n\n                .token {\n                    height: auto;\n                }\n\n                .login-btn {\n                    margin-top: 24px;\n                    width: 100%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    border-radius: 8px;\n                    border-color: transparent;\n\n                    .text {\n                        font-size: 16px;\n                    }\n                }\n\n                .verify-code {\n                    margin-top: 16px;\n                    display: flex;\n                    flex-direction: row;\n\n                    .verify-code-input {\n                        flex: 1;\n                        height: 40px;\n\n                        &.pwd {\n                            /deep/ .el-input__suffix {\n                                display: none;\n                            }\n                        }\n                    }\n\n                    /deep/ .el-input {\n                        border-width: 1px;\n\n                        .el-input__inner, .el-input-group__append, .el-input-group__prepend {\n                            background: transparent;\n                        }\n\n                        .el-input__suffix {\n\n                            &::before {\n                                content: ' ';\n                                width: 1px;\n                                height: 20px;\n                                border-left: 1px solid #A6A6A6;\n                            }\n\n                            .verify-time-btn {\n                                width: 100px;\n\n                                .verify-tip {\n                                    font-size: 14px;\n                                    text-align: center;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            .agreement {\n                width: 100%;\n                line-height: 1;\n\n                /deep/ .el-checkbox {\n                    height: 12px;\n                    width: 12px;\n                }\n\n                /deep/ .el-checkbox__input.is-checked .el-checkbox__inner {\n                    background-color: transparent;\n                    border-color: #A6A6A6;\n                }\n\n                /deep/ .el-checkbox__inner {\n                    height: 12px;\n                    width: 12px;\n                    border-color: #A6A6A6;\n                    background-color: transparent;\n                }\n\n                /deep/ .el-checkbox__input.is-focus .el-checkbox__inner {\n                    border-color: #A6A6A6;\n                }\n\n                /deep/ .el-checkbox__inner::after {\n                    border-color: #A6A6A6;\n                    left: 3px;\n                    top: 0;\n                }\n\n                /deep/ .el-checkbox__inner:hover {\n                    border-color: #A6A6A6;\n\n                }\n\n                &-text {\n                    font-size: 12px;\n                    text-align: left;\n                    margin-left: 8px;\n                }\n\n                .link {\n                    font-size: 12px;\n                    vertical-align: baseline;\n                    color: #f5d228;\n                    opacity: 0.85;\n                }\n            }\n\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0692f793&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=0692f793&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0692f793\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=0692f793&prod&lang=scss&scoped=true&\""],"sourceRoot":""}