{"version":3,"sources":["webpack:///./src/views/UpdateAPP/UpdateDialog.vue","webpack:///src/views/UpdateAPP/UpdateDialog.vue","webpack:///./src/views/UpdateAPP/UpdateDialog.vue?dcde","webpack:///./src/views/UpdateAPP/UpdateDialog.vue?d94e","webpack:///./src/views/UpdateAPP/UpdateDialog.vue?97f6"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","updateContent","title","on","onClose","subtitle","_l","item","index","key","hint","_e","attrs","onSubmit","isForceUpdate","staticRenderFns","components","mixins","props","data","version","isSafetyExit","watch","mounted","ipcRenderer","console","methods","path","query","rejectInstall","cancelUpdate","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,OAAO,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,cAAcC,UAAUN,EAAG,MAAM,CAACE,YAAY,QAAQK,GAAG,CAAC,MAAQT,EAAIU,UAAU,CAACR,EAAG,MAAM,CAACE,YAAY,WAAWF,EAAG,MAAM,CAACE,YAAY,cAAcF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACJ,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,cAAcI,aAAaT,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACJ,EAAIY,GAAIZ,EAAIO,cAAcA,eAAe,SAASM,EAAKC,GAAO,MAAO,CAACZ,EAAG,KAAK,CAACa,IAAID,GAAO,CAACd,EAAIK,GAAGL,EAAIM,GAAGO,WAAa,KAAMb,EAAIO,cAAcS,KAAMd,EAAG,MAAM,CAACE,YAAY,gBAAgBJ,EAAIiB,KAAMjB,EAAIO,cAAcS,KAAMd,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,SAASF,EAAG,OAAO,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,cAAcS,WAAWhB,EAAIiB,OAAOf,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,YAAY,CAACE,YAAY,YAAYc,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWT,GAAG,CAAC,MAAQT,EAAImB,WAAW,CAACnB,EAAIK,GAAG,UAAYL,EAAIoB,cAA0HpB,EAAIiB,KAA/Gf,EAAG,YAAY,CAACE,YAAY,aAAac,MAAM,CAAC,KAAO,QAAQT,GAAG,CAAC,MAAQT,EAAIU,UAAU,CAACV,EAAIK,GAAG,WAAoB,MAEntCgB,EAAkB,G,wBC0CP,G,UAAA,CACfC,YACA,yBAEAC,gBACAC,SACAC,OACA,OACAlB,eACAC,SACAG,YACAJ,iBACAS,QACAU,YAEAN,iBACAO,kBAIAC,SACAC,UACA,4BAEAC,mCACAC,qCACA,iCACA,iCACA,uCACA,iDACA,+BACA,qCAEA,4CAGAC,SACA,iBACA,4BACAF,oCAEA,mBAAAG,uBAAAC,OAAAR,uCAKAhB,UACA,oBAIA,mBACA,qBAEA,qBAKAyB,gBACA,4BACAL,oBAIAM,eACA,4BACAN,+BC/GqW,I,wBCQjWO,EAAY,eACd,EACAtC,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAgB,E,sECnBf","file":"js/chunk-7a7d8f10.3e96855c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"updateDownContainer\"},[_c('div',{staticClass:\"updateDownContainer-title\"},[_c('span',[_vm._v(_vm._s(_vm.updateContent.title))]),_c('div',{staticClass:\"close\",on:{\"click\":_vm.onClose}},[_c('div',{staticClass:\"before\"}),_c('div',{staticClass:\"after\"})])]),_c('div',{staticClass:\"updateDownContainer-center\"},[_c('div',{staticClass:\"center-words\"},[_c('div',{staticClass:\"center-words-title\"},[_vm._v(_vm._s(_vm.updateContent.subtitle))]),_c('ul',{staticClass:\"center-words-info\"},[_vm._l((_vm.updateContent.updateContent),function(item,index){return [_c('li',{key:index},[_vm._v(_vm._s(item))])]})],2)]),(_vm.updateContent.hint)?_c('div',{staticClass:\"center-line\"}):_vm._e(),(_vm.updateContent.hint)?_c('div',{staticClass:\"center-foot\"},[_c('span',{staticClass:\"icon\"}),_c('span',[_vm._v(_vm._s(_vm.updateContent.hint))])]):_vm._e()]),_c('div',{staticClass:\"updateDownContainer-footer\"},[_c('el-button',{staticClass:\"updateBtn\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即更新\")]),(!_vm.isForceUpdate)?_c('el-button',{staticClass:\"updateWait\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.onClose}},[_vm._v(\"稍后更新\")]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"updateDownContainer\">\n        <div class=\"updateDownContainer-title\">\n            <span>{{ updateContent.title }}</span>\n            <div class=\"close\" @click=\"onClose\">\n                <div class=\"before\"></div>\n                <div class=\"after\"></div>\n            </div>\n        </div>\n\n        <div class=\"updateDownContainer-center\">\n\n            <div class=\"center-words\">\n                <div class=\"center-words-title\">{{ updateContent.subtitle }}</div>\n                <ul class=\"center-words-info\">\n                    <template v-for=\"(item, index) in updateContent.updateContent\">\n                        <li :key=\"index\">{{ item }}</li>\n                    </template>\n                </ul>\n            </div>\n\n            <div class=\"center-line\" v-if=\"updateContent.hint\"></div>\n\n            <div class=\"center-foot\" v-if=\"updateContent.hint\">\n                <span class=\"icon\"/>\n                <span>{{ updateContent.hint }}</span>\n            </div>\n\n        </div>\n\n        <div class=\"updateDownContainer-footer\">\n            <el-button size=\"mini\" type=\"primary\" @click=\"onSubmit\" class=\"updateBtn\">立即更新</el-button>\n            <el-button size=\"mini\" @click=\"onClose\" v-if=\"!isForceUpdate\" class=\"updateWait\">稍后更新</el-button>\n        </div>\n\n    </div>\n</template>\n\n<script>\n\nimport { Button } from 'element-ui'\nimport pointsMixin from '@/mixins/pointsMixin'\nimport { checkServerUpdater } from '@/api/commonApi'\n\nexport default {\n    components: {\n        'el-button': Button\n    },\n    mixins: [pointsMixin],\n    props: {},\n    data() {\n        return {\n            updateContent:{\n                title: '',\n                subtitle: '',\n                updateContent: [],\n                hint: '',\n                version:'',\n            },\n            isForceUpdate: false, //是否强制更新\n            isSafetyExit: false\n        }\n    },\n\n    watch: {},\n    mounted() {\n        const ipcRenderer = window.$ipcRenderer\n        //获取更新信息\n        ipcRenderer.on('update-content-data',(event, args) => {\n            console.log('update-content-data',args)\n            let content = JSON.parse(args.release_note)\n            this.updateContent.title = content.title\n            this.updateContent.subtitle = content.subtitle\n            this.updateContent.updateContent = content.updateContent\n            this.updateContent.hint = content.hint\n            this.updateContent.version = args.version\n\n            this.isForceUpdate = args.is_force_update !== 0\n        })\n    },\n    methods: {\n        async onSubmit() {\n            const ipcRenderer = window.$ipcRenderer\n            ipcRenderer.send('update-button-submit', null)\n            // this.$router.push('/updateProgress')\n            this.$router.push({path: '/updateProgress', query: {version: this.updateContent.version}})\n\n        },\n\n        // 关闭操作\n        onClose() {\n            const ipcRenderer = window.$ipcRenderer\n            // ipcRenderer.send('update-button-close', null)\n            // 安全退出\n            // this.isSafetyExit = true\n            if (this.isForceUpdate) { //是否强制更新\n                this.rejectInstall()\n            } else {\n                this.cancelUpdate()\n            }\n        },\n\n        // 强制更新，拒绝更新\n        rejectInstall() {\n            const ipcRenderer = window.$ipcRenderer\n            ipcRenderer.send('app-exit')\n        },\n\n        // 不强制更新，稍后更新\n        cancelUpdate() {\n            const ipcRenderer = window.$ipcRenderer\n            ipcRenderer.send('app-update-later')\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.updateDownContainer {\n    width: 100%;\n    background: #232324;\n\tborder-radius: 12px;\n\n    .updateDownContainer-title {\n        -webkit-app-region: drag;\n        width: 100%;\n        height: 50px;\n        text-align: center;\n        line-height: 49px;\n        font-size: 16px;\n        font-family: PingFangSC-Medium, serif;\n        color: #D9D9D9;\n        font-weight: 500;\n        position: relative;\n        border-bottom: 1px solid #333333;\n\n        .close {\n            -webkit-app-region: no-drag;\n            position: absolute;\n            width: 15px;\n            height: 15px;\n            top: 32%;\n            right: 2%;\n\n            .before,\n            .after {\n                content: \"\";\n                position: absolute;\n                height: 100%;\n                width: 1px;\n                top: 2px;\n                right: 9px;\n                background: #A6A6A6;\n            }\n\n            .before {\n                transform: rotate(45deg);\n            }\n\n            .after {\n                transform: rotate(-45deg);\n            }\n        }\n\n        .close:hover {\n            .before,\n            .after {\n                background: #EECC28;\n            }\n        }\n    }\n\n    .updateDownContainer-center {\n        width: 301px;\n        margin-left: auto;\n        margin-right: auto;\n        color: #D9D9D9;\n        position: relative;\n        text-align: left;\n        border-radius: 12px;\n\n        .center-words {\n            font: bold 14px PingFangSC-Regular;\n\n            .center-words-title {\n                height: 24px;\n                opacity: 0.99;\n                font-family: PingFangSC-Regular;\n                font-size: 14px;\n                color: #D9D9D9;\n                line-height: 24px;\n                font-weight: 400;\n                margin-top: 16px;\n            }\n\n            .center-words-info{\n                height: 84px;\n                margin-top: 12px;\n                margin-bottom: 12px;\n                overflow-y: auto;\n            }\n\n            .center-words-info li {\n                line-height: 28px;\n            }\n        }\n\n        .center-line {\n            width: 100%;\n            height: 1px;\n            background-color: #333333;\n        }\n\n        .center-foot {\n            width: 301px;\n            height: 72px;\n            margin-top: 12px;\n            margin-bottom: 16px;\n            overflow-y: auto;\n            font-family: PingFangSC-Regular, serif;\n            font-size: 12px;\n            color: #D9D9D9;\n            line-height: 24px;\n            font-weight: 400;\n            text-indent: 1.5em; //首行缩进2个字符\n            position: relative;\n\n            .icon {\n                position: absolute;\n                top: 5px;\n                left: 0;\n                display: inline-block;\n                width: 15px;\n                height: 15px;\n                background-image: url(\"../../assets/icons/dark/pop_set_up_icon_sigh@2x.png\");\n                background-size: 100%, 100%;\n                background-repeat: no-repeat;\n                background-position: center;\n            }\n        }\n\n        /*滚动条整体样式*/\n        ::-webkit-scrollbar {\n            /*高宽分别对应横竖滚动条的尺寸*/\n            width: 6px;\n        }\n\n        /*滚动条里面滑块*/\n        ::-webkit-scrollbar-thumb {\n            border-radius: 4px;\n            background: #111112;\n        }\n\n        //上箭头\n        ::-webkit-scrollbar-button:vertical:single-button:start {\n            display: none;\n        }\n\n        // 下箭头\n        ::-webkit-scrollbar-button:vertical:single-button:end {\n            display: none;\n        }\n\n    }\n\n    .updateDownContainer-footer {\n        display: flex;\n        align-items: center;\n        flex-direction: row-reverse;\n        width: 100%;\n        height: 52px;\n        border-top: 1px solid #333333;\n        border-radius: 12px;\n\n        .updateWait {\n            margin-right: 10px;\n            width: 88px;\n            height: 28px;\n            flex-shrink: 1;\n            background: #3C3939;\n            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.4);\n            border-radius: 4px;\n            font-size: 14px;\n            color: #FFFFFF;\n            text-align: center;\n            font-weight: 400;\n        }\n\n        .updateWait:hover {\n            color: #EECC28;\n        }\n\n        .updateBtn {\n            margin-right: 10px;\n            width: 88px;\n            height: 28px;\n            flex-shrink: 1;\n            border: none;\n            background: #3073FF;\n            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.4);\n            border-radius: 4px;\n            font-size: 14px;\n            color: #FFFFFF;\n            text-align: center;\n            font-weight: 400;\n        }\n\n        .updateBtn:hover {\n            opacity: 0.6;\n        }\n    }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateDialog.vue?vue&type=template&id=7157645a&scoped=true&\"\nimport script from \"./UpdateDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpdateDialog.vue?vue&type=style&index=0&id=7157645a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7157645a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateDialog.vue?vue&type=style&index=0&id=7157645a&prod&lang=scss&scoped=true&\""],"sourceRoot":""}